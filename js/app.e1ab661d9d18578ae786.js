!function(n){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(n[i]=l[i]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],i=!0,s=1;s<e.length;s++){var l=e[s];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),n=r(r.s=e[0]))}return n}var i={},a={0:0},o=[];function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([70,1]),e()}({24:function(n,t,e){"use strict";t.a=e.p+"images/baffb4fed1442e55e4b55215d1df2165.png"},25:function(n,t,e){"use strict";t.a=e.p+"images/8499926526ed8b51c05734fea5c3a186.png"},30:function(n,t,e){"use strict";var i=e(42),a=e.n(i),o=e(43),r=e.n(o),s=e(14),l=e.n(s),c=e(44),u=e(45),d=e(46),m=e(47),A=e(48),p=e(24),h=e(25),f=e(49),C=r()(a.a),g=l()(c.a),b=l()(u.a),y=l()(d.a),B=l()(m.a),v=l()(A.a),w=l()(p.a),k=l()(h.a),T=l()(f.a);C.push([n.i,'@font-face{font-family:"Phoebe";src:url('+g+')}@font-face{font-family:"PhoebeJP";src:url('+b+')}@font-face{font-family:"ChibiPhoebe";src:url('+y+')}@font-face{font-family:"Phoebe Condensed Bold";src:url('+B+')}*{box-sizing:border-box;font-size:inherit;text-rendering:geometricPrecision;font-weight:100}html{height:calc(var(--vh, 1vh) * 100);overflow:hidden}body{font-family:"Phoebe", "Monaco", monospace;font-size:22px;line-height:1.3;height:calc(var(--vh, 1vh) * 100);overflow:hidden;color:#444;margin:0;background:black}body .intro{filter:brightness(0);animation-name:menuBrightness;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms}@keyframes menuBrightness{from{filter:brightness(0)}to{filter:brightness(1)}}p{margin-top:0}.pointer{cursor:pointer}#root{width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);max-width:133.333vh;max-width:calc(var(--vh, 1vh) * 133.33);margin:0 auto;overflow:hidden}#root>div{height:100%;width:100%;position:relative}canvas{position:absolute;bottom:0;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.cubes canvas{z-index:89}.menu canvas{z-index:90}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.StarField{top:0;width:100%;height:100%;position:absolute}.StarField:after{content:"";background:url('+v+') no-repeat;background-size:cover;background-color:black;position:absolute;left:-35%;right:-35%;top:-35%;bottom:-35%;animation-name:spin;animation-duration:500s;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-1}.StarField canvas{position:relative;top:0;left:0;right:0;bottom:0;z-index:1}@keyframes fadeInOut{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0;pointer-events:none}}.dashboard,.dashboard:after{content:"";background:url('+w+") no-repeat;background-size:100% 47%;background-position:0 100%;position:absolute;left:0;bottom:0;width:50%;z-index:20;padding-bottom:91%;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.dashboard:after{left:99.9%;top:0;transform:scale(-1, 1);width:100%}@keyframes knight-rider{0%{transform:translateX(0) scaleX(0)}5%{transform:translateX(50%) scaleX(1)}90%{transform:translateX(690%) scaleX(1)}100%{transform:translateX(710%) scaleX(0)}}header{user-select:none;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;width:79.5%;margin:0 auto;position:relative;padding:2% 13.5% 0;display:flex;height:calc(calc(var(--scene-width) * 0.795) * 0.1417322835);z-index:10;color:#014949}header:before{background:url("+k+') top center/100% no-repeat;width:100%;position:absolute;top:0;left:0;height:100%;z-index:-1;content:""}header:after{display:none;content:"";background:url('+T+') no-repeat;background-position:center center;background-size:100% 100%;height:12%;width:8%;bottom:5%;position:absolute;animation-name:knight-rider;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-2}header h3{margin:0;display:inline-block;font-size:calc(var(--scene-width) / 35);letter-spacing:2px;text-transform:uppercase;font-family:"Phoebe Condensed Bold";line-height:1}header p{line-height:1;margin:0;letter-spacing:2px;padding-left:2%;font-size:calc(var(--scene-width) / 18);display:inline-block}header h3:nth-of-type(2){margin-left:25%}.playing header:after{display:inline-block}.music-picker{background:white}.exit-button{border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);display:block;margin:0 auto;margin-top:auto;color:white;font-family:Phoebe;font-size:36px;padding:14px 14px 10px;background-color:rgba(93,21,122,0.8);border:0}@keyframes floatDownRelative{from{transform:translateY(0%)}to{transform:translateY(100%)}}@keyframes floatUpRelative{from{transform:translateY(0%)}to{transform:translateY(-105%)}}@keyframes floatDownButtons{from{transform:translateY(0%)}to{transform:translateY(50vh)}}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}.hidden .toast{animation:blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important}.hidden header{animation-name:floatUpRelative;animation-duration:1000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out}.hidden .dashboard,.hidden .cubes canvas,.hidden li{animation-name:floatDownRelative;animation-duration:2000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden li{animation-name:floatDownButtons;animation-duration:400ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-in}.hidden li:nth-child(1){animation-delay:1400ms;animation-duration:300ms}.hidden li:nth-child(2){animation-delay:1300ms;animation-duration:300ms}.hidden li:nth-child(3){animation-delay:1100ms;animation-duration:300ms}.hidden li:nth-child(4){animation-delay:780ms;animation-duration:350ms}.hidden li:nth-child(5){animation-delay:800ms;animation-duration:350ms}.hidden li:nth-child(6){animation-delay:1000ms;animation-duration:350ms}.hidden li:nth-child(7){animation-delay:680ms}.hidden li:nth-child(8){animation-delay:600ms}.hidden li:nth-child(9){animation-delay:720ms}.hidden li button.bottom:after,.hidden li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden .tooltips{display:none !important}@keyframes toolTip{from{opacity:1}to{opacity:0}}.tooltips p{color:black;position:absolute;background:rgba(255,255,255,0.5);left:50%;transform:translate(-50%, 0) scale(0.8, 1);bottom:0;z-index:70;padding:6px 8px 0;text-align:center;line-height:calc(var(--scene-width) / 18);font-size:calc(var(--scene-width) / 18);display:inline-block;margin:0 0 15px;z-index:99;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear;animation-delay:10s;white-space:nowrap;user-select:none}.tooltips img{height:30px;width:auto;bottom:20px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.tooltips strong{font-weight:100;color:#ff2034}blink{animation:blink 1s infinite}.toast{position:fixed;left:50%;top:40%;transform:translate(-50%, -50%);width:6em;z-index:9999}.paused header:after{display:inline-block;transform:translate(350%, 0);animation-play-state:paused}.paused .toast,.paused header p:nth-of-type(2),.paused header:after{animation:blink 1s infinite}@keyframes floatInRelative{from{transform:translateY(100%)}to{transform:translateY(0%)}}@keyframes floatDownInRelative{from{transform:translateY(-105%)}to{transform:translateY(0%)}}@keyframes floatInButtons{from{transform:translateY(50vh)}to{transform:translateY(0%)}}.show header{animation-name:floatDownInRelative;animation-duration:600ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:700ms}.show .dashboard,.show .cubes canvas{animation-name:floatInRelative;animation-duration:1500ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:0}.show li button.bottom:after,.show li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.flip{transform:scaleX(-1);display:inline-block}.current-track-info{font-size:12px;color:white;position:absolute;bottom:50vw;left:10px;z-index:999;opacity:0;text-transform:uppercase;animation-name:fadeInOut;animation-duration:12s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}@media screen and (min-width: 800px){.current-track-info{bottom:10px;left:10px}}.current-track-info p{margin:0}.current-track-info a{text-decoration:underline;font-weight:normal;color:white}.start-context{position:fixed;z-index:9999;background:rgba(10,5,25,0.5);left:0;right:0;bottom:0;top:0;display:flex;text-align:center;align-items:center;justify-content:center;font-size:16px}.start-context button{transition:background-color 250ms ease;background:none;border:1px solid white;color:white;padding:0.5em 1.5em;color:white;border-radius:2px;background:rgba(0,0,0,0.75);box-shadow:0 5px 20px 10px rgba(255,255,255,0.2)}.start-context button span{display:block;margin-bottom:8px;padding-bottom:8px;border-bottom:0.5px solid white}.start-context button:hover,.start-context button:active{background:rgba(255,255,255,0.25);cursor:pointer}.japanese .FileReader h2{font-family:"PhoebeJP", sans-serif}.japanese .tooltips p{line-height:calc(var(--scene-width) / 20);font-size:calc(var(--scene-width) / 20);font-family:"PhoebeJP", sans-serif;padding-bottom:8px}\n',"",{version:3,sources:["webpack://./src/styles/index.scss"],names:[],mappings:"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",sourcesContent:['/*\n                                                                      ..;===+.\n                                                                  .:=iiiiii=+=\n                                                               .=i))=;::+)i=+,\n                                                            ,=i);)I)))I):=i=;\n                                                         .=i==))))ii)))I:i++\n                                                       +)+))iiiiiiii))I=i+:\'\n                                  .,:;;++++++;:,.       )iii+:::;iii))+i=\'\n                               .:;++=iiiiiiiiii=++;.    =::,,,:::=i));=+\'\n                             ,;+==ii)))))))))))ii==+;,      ,,,:=i))+=:\n                           ,;+=ii))))))IIIIII))))ii===;.    ,,:=i)=i+\n                          ;+=ii)))IIIIITIIIIII))))iiii=+,   ,:=));=,\n                        ,+=i))IIIIIITTTTTITIIIIII)))I)i=+,,:+i)=i+\n                       ,+i))IIIIIITTTTTTTTTTTTI))IIII))i=::i))i=\'\n                      ,=i))IIIIITLLTTTTTTTTTTIITTTTIII)+;+i)+i`\n                      =i))IIITTLTLTTTTTTTTTIITTLLTTTII+:i)ii:\'\n                     +i))IITTTLLLTTTTTTTTTTTTLLLTTTT+:i)))=,\n                     =))ITTTTTTTTTTTLTTTTTTLLLLLLTi:=)IIiii;\n                    .i)IIITTTTTTTTLTTTITLLLLLLLT);=)I)))))i;\n                    :))IIITTTTTLTTTTTTLLHLLLLL);=)II)IIIIi=:\n                    :i)IIITTTTTTTTTLLLHLLHLL)+=)II)ITTTI)i=\n                    .i)IIITTTTITTLLLHHLLLL);=)II)ITTTTII)i+\n                    =i)IIIIIITTLLLLLLHLL=:i)II)TTTTTTIII)i\'\n                  +i)i)))IITTLLLLLLLLT=:i)II)TTTTLTTIII)i;\n                +ii)i:)IITTLLTLLLLT=;+i)I)ITTTTLTTTII))i;\n               =;)i=:,=)ITTTTLTTI=:i))I)TTTLLLTTTTTII)i;\n             +i)ii::,  +)IIITI+:+i)I))TTTTLLTTTTTII))=,\n           :=;)i=:,,    ,i++::i))I)ITTTTTTTTTTIIII)=+\'\n         .+ii)i=::,,   ,,::=i)))iIITTTTTTTTIIIII)=+\n        ,==)ii=;:,,,,:::=ii)i)iIIIITIIITIIII))i+:\'\n       +=:))i==;:::;=iii)+)=  `:i)))IIIII)ii+\'\n     .+=:))iiiiiiii)))+ii;\n    .+=;))iiiiii)));ii+\n   .+=i:)))))))=+ii+\n  .;==i+::::=)i=;\n  ,+==iiiiii+,\n  `+=+++;`\n\n*/\n\n@font-face {\n  font-family: "Phoebe";\n  src: url("../fonts/PhoebeV4.ttf");\n}\n\n@font-face {\n  font-family: "PhoebeJP";\n  src: url("../fonts/PhoebeJP.ttf");\n}\n@font-face {\n  font-family: "ChibiPhoebe";\n  src: url("../fonts/ChibiPhoebe.ttf");\n}\n@font-face {\n  font-family: "Phoebe Condensed Bold";\n  src: url("../fonts/PhoebeCondesnedB.ttf");\n}\n\n@mixin pixelated {\n  image-rendering: optimizeSpeed; /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast; /* Safari                        */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers       */\n}\n\n@mixin menuBackground {\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n}\n\n@mixin fadeInFilter {\n  animation-name: menuBrightness;\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n\n  @keyframes menuBrightness {\n    from {\n      filter: brightness(0);\n    }\n\n    to {\n      filter: brightness(1);\n    }\n  }\n}\n\n/* Typography & Base Styling */\n\n* {\n  box-sizing: border-box;\n  font-size: inherit;\n  text-rendering: geometricPrecision;\n  font-weight: 100;\n}\n\nhtml {\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n}\n\nbody {\n  font-family: "Phoebe", "Monaco", monospace;\n  font-size: 22px;\n\n  line-height: 1.3;\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n  color: #444;\n  margin: 0;\n  background: black;\n\n  // @include pixelated;\n  .intro {\n    filter: brightness(0);\n    @include fadeInFilter;\n  }\n}\n\np {\n  margin-top: 0;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  height: calc(var(--vh, 1vh) * 100);\n  max-width: 133.333vh;\n  max-width: calc(var(--vh, 1vh) * 133.33);\n  margin: 0 auto;\n  overflow: hidden;\n\n  > div {\n    height: 100%;\n    width: 100%;\n    position: relative;\n  }\n}\n\ncanvas {\n  position: absolute;\n  bottom: 0;\n  @include pixelated;\n}\n\n.cubes canvas {\n  z-index: 89;\n}\n\n.menu {\n  canvas {\n    z-index: 90;\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(-0deg);\n  }\n\n  to {\n    transform: rotate(-360deg);\n  }\n}\n\n.StarField {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  &:after {\n    content: "";\n    background: url("../images/galaxy.png") no-repeat;\n    background-size: cover;\n    background-color: black;\n    position: absolute;\n    left: -35%;\n    right: -35%;\n    top: -35%;\n    bottom: -35%;\n    animation-name: spin;\n    animation-duration: 500s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -1;\n  }\n\n  canvas {\n    position: relative;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n  }\n}\n\n@keyframes fadeInOut {\n  0% {\n    opacity: 0;\n  }\n\n  10% {\n    opacity: 1;\n  }\n\n  75% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    pointer-events: none;\n  }\n}\n\n.dashboard,\n.dashboard:after {\n  content: "";\n  background: url("../images/dashboard.png") no-repeat;\n  background-size: 100% 47%;\n  background-position: 0 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 50%;\n  // height: 900px;\n\n  z-index: 20;\n  padding-bottom: 91%;\n  @include pixelated;\n}\n\n.dashboard:after {\n  left: 99.9%;\n  top: 0;\n  transform: scale(-1, 1);\n  width: 100%;\n}\n\n@keyframes knight-rider {\n  0% {\n    transform: translateX(0) scaleX(0);\n  }\n  5% {\n    transform: translateX(50%) scaleX(1);\n  }\n\n  90% {\n    transform: translateX(690%) scaleX(1);\n  }\n  100% {\n    transform: translateX(710%) scaleX(0);\n  }\n}\nheader {\n  user-select: none; /* Standard */\n\n  @include pixelated;\n  &:before {\n    background: url("../images/header.png") top (center / 100%) no-repeat;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    z-index: -1;\n    content: "";\n  }\n\n  &:after {\n    display: none;\n    content: "";\n    background: url("../images/knight-rider.png") no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    height: 12%;\n    width: 8%;\n    bottom: 5%;\n    position: absolute;\n\n    animation-name: knight-rider;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -2;\n  }\n\n  width: 79.5%;\n  margin: 0 auto;\n  position: relative;\n  padding: 2% 13.5% 0;\n  display: flex;\n  height: calc(calc(var(--scene-width) * 0.795) * 0.1417322835);\n  z-index: 10;\n  color: #014949;\n\n  h3 {\n    margin: 0;\n    display: inline-block;\n    font-size: calc(var(--scene-width) / 35);\n\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-family: "Phoebe Condensed Bold";\n    line-height: 1;\n  }\n  p {\n    line-height: 1;\n    margin: 0;\n    letter-spacing: 2px;\n    padding-left: 2%;\n\n    font-size: calc(var(--scene-width) / 18);\n\n    display: inline-block;\n  }\n  h3:nth-of-type(2) {\n    margin-left: 25%;\n  }\n}\n.playing {\n  header:after {\n    display: inline-block;\n  }\n}\n.music-picker {\n  background: white;\n}\n\n.exit-button {\n  @include menuBackground;\n  display: block;\n  margin: 0 auto;\n  margin-top: auto;\n  color: white;\n  font-family: Phoebe;\n  font-size: 36px;\n  padding: 14px 14px 10px;\n  background-color: rgba(93, 21, 122, 0.8);\n  border: 0;\n}\n\n@keyframes floatDownRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(100%);\n  }\n}\n\n@keyframes floatUpRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(-105%);\n  }\n}\n\n@keyframes floatDownButtons {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(50vh);\n  }\n}\n\n@keyframes blink {\n  0% {\n    opacity: 0;\n  }\n\n  49% {\n    opacity: 0;\n  }\n\n  50% {\n    opacity: 1;\n  }\n}\n\n.hidden {\n  .toast {\n    animation: blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important;\n  }\n\n  header {\n    animation-name: floatUpRelative;\n    animation-duration: 1000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-out;\n\n    // animation-delay: 150ms;\n  }\n\n  .dashboard,\n  .cubes canvas,\n  li {\n    animation-name: floatDownRelative;\n    animation-duration: 2000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n  }\n\n  li {\n    animation-name: floatDownButtons;\n    animation-duration: 400ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-in;\n  }\n\n  li {\n    &:nth-child(1) {\n      animation-delay: 1400ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(2) {\n      animation-delay: 1300ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 1100ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(4) {\n      animation-delay: 780ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(5) {\n      animation-delay: 800ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(6) {\n      animation-delay: 1000ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(7) {\n      animation-delay: 680ms;\n    }\n\n    &:nth-child(8) {\n      animation-delay: 600ms;\n    }\n\n    &:nth-child(9) {\n      animation-delay: 720ms;\n    }\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n\n  .tooltips {\n    display: none !important;\n  }\n}\n// TODO: ReactCSSTransitionGroup\n@keyframes toolTip {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.tooltips {\n  p {\n    color: black;\n    position: absolute;\n    background: rgba(255, 255, 255, 0.5);\n    left: 50%;\n    transform: translate(-50%, 0) scale(0.8, 1);\n    bottom: 0;\n    z-index: 70;\n    padding: 6px 8px 0;\n    text-align: center;\n    line-height: calc(var(--scene-width) / 18);\n    font-size: calc(var(--scene-width) / 18);\n    display: inline-block;\n    margin: 0 0 15px;\n    z-index: 99;\n    // animation-name: toolTip;\n    animation-duration: 200ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n    animation-timing-function: linear;\n    animation-delay: 10s;\n    white-space: nowrap;\n    user-select: none;\n  }\n  img {\n    height: 30px;\n    width: auto;\n    bottom: 20px;\n    @include pixelated;\n  }\n  strong {\n    font-weight: 100;\n    color: rgb(255, 32, 52);\n  }\n}\n\nblink {\n  animation: blink 1s infinite;\n}\n\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 40%;\n  transform: translate(-50%, -50%);\n  width: 6em;\n  z-index: 9999;\n}\n\n.paused {\n  header:after {\n    display: inline-block;\n    transform: translate(350%, 0);\n    animation-play-state: paused;\n  }\n\n  .toast,\n  header p:nth-of-type(2),\n  header:after {\n    animation: blink 1s infinite;\n  }\n}\n\n@keyframes floatInRelative {\n  from {\n    transform: translateY(100%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatDownInRelative {\n  from {\n    transform: translateY(-105%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatInButtons {\n  from {\n    transform: translateY(50vh);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n.show {\n  header {\n    animation-name: floatDownInRelative;\n    animation-duration: 600ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 700ms;\n  }\n\n  .dashboard,\n  .cubes canvas {\n    animation-name: floatInRelative;\n    animation-duration: 1500ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 0;\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n}\n\n.flip {\n  transform: scaleX(-1);\n  display: inline-block;\n}\n\n.current-track-info {\n  font-size: 12px;\n  color: white;\n  position: absolute;\n  bottom: 50vw;\n  left: 10px;\n  z-index: 999;\n  opacity: 0;\n  text-transform: uppercase;\n  animation-name: fadeInOut;\n  animation-duration: 12s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: linear;\n\n  @media screen and (min-width: 800px) {\n    bottom: 10px;\n    left: 10px;\n  }\n\n  p {\n    margin: 0;\n  }\n  a {\n    text-decoration: underline;\n    font-weight: normal;\n    color: white;\n  }\n}\n\n.start-context {\n  position: fixed;\n  z-index: 9999;\n  background: rgba(10, 5, 25, 0.5);\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  button {\n    transition: background-color 250ms ease;\n    background: none;\n    border: 1px solid white;\n    color: white;\n    padding: 0.5em 1.5em;\n\n    color: white;\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.75);\n\n    box-shadow: 0 5px 20px 10px rgba(255, 255, 255, 0.2);\n    span {\n      display: block;\n      margin-bottom: 8px;\n      padding-bottom: 8px;\n      border-bottom: 0.5px solid white;\n    }\n    &:hover,\n    &:active {\n      background: rgba(255, 255, 255, 0.25);\n      cursor: pointer;\n    }\n  }\n}\n\n.japanese {\n  .FileReader {\n    h2 {\n      font-family: "PhoebeJP", sans-serif;\n    }\n  }\n  .tooltips p {\n    line-height: calc(var(--scene-width) / 20);\n    font-size: calc(var(--scene-width) / 20);\n    font-family: "PhoebeJP", sans-serif;\n    padding-bottom: 8px;\n  }\n}\n'],sourceRoot:""}]),t.a=C},44:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeV4.ttf"},45:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeJP.ttf"},46:function(n,t,e){"use strict";t.a=e.p+"fonts/ChibiPhoebe.ttf"},47:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeCondesnedB.ttf"},48:function(n,t,e){"use strict";t.a=e.p+"images/a10fe169c1fed7cb21d02f6fc2304bd1.png"},49:function(n,t,e){"use strict";t.a=e.p+"images/84d4d572aca8177cf2e916a1eee1a825.png"},70:function(n,t,e){"use strict";e.r(t),e.d(t,"store",(function(){return ne}));var i={};e.r(i),e.d(i,"loadingStart",(function(){return $})),e.d(i,"loadingFinish",(function(){return nn})),e.d(i,"toggleRepeat",(function(){return tn})),e.d(i,"playing",(function(){return en})),e.d(i,"paused",(function(){return an})),e.d(i,"setCurrentTrack",(function(){return on})),e.d(i,"addTracks",(function(){return rn})),e.d(i,"arrangeTracks",(function(){return sn})),e.d(i,"removeTrack",(function(){return ln}));var a=e(0),o=e.n(a),r=e(17),s=e.n(r),l=e(22),c=e.n(l),u=e(16),d=e.n(u),m=e(7),A=e.n(m),p=e(8),h=e.n(p),f=e(10),C=e.n(f),g=e(12),b=e.n(g),y=e(13),B=e.n(y),v=e(6),w=e.n(v),k=e(3),T=e.n(k),x=e(15);function E(n){Object.getOwnPropertyNames(n.constructor.prototype).forEach((function(t){"function"==typeof n[t]&&(n[t]=n[t].bind(n))}))}var I=e(1),S=e(5),R=["ja-JP","ja"];function D(n){if(!n.length)return 0;for(var t=0,e=0;e<n.length;e+=1)t+=n[e];return t/n.length}var M=function(){var n=window.innerWidth,t=1.3333*window.innerHeight;return t>n?(document.documentElement.style.setProperty("--scene-width","".concat(n,"px")),n):(document.documentElement.style.setProperty("--scene-width","".concat(t,"px")),t)},z=function(n){var t=Math.trunc(n/60).toString().padStart(2,"0"),e=Math.trunc(n%60).toString().padStart(2,"0");return"".concat(t,":").concat(e)},O=function(n){return Math.random()*n-.5*n};function L(n,t){new S.Tween(n.scale).to({x:1.5,y:1.5,z:1.5},100).easing(S.Easing.Quadratic.Out).start(),setTimeout((function(){new S.Tween(n.scale).to({x:1,y:1,z:1},100).easing(S.Easing.Quadratic.In).start()}),250),t()}function P(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:23,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:19;n.wrapS=I.cb,n.wrapT=I.cb,n.repeat.set(1/t,1/i);var a=0,o=0,r=419;this.update=function(s){for(a+=s;a>e;){a-=e,(o+=1)>r&&(o=0);var l=o%t,c=Math.floor(o/t);n.offset.y=1-c/i-1/i,n.offset.x=l/t}}}var j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.language;return R.includes(n)?{intro:{},menu:{disc:"プレイリスト",settings:"ユーザー設定",hide:"パネル消去",skipBackwards:"曲戻し",skipForwards:"曲送り",play:"再生",pause:"一時停止",repeat:"リピート",repeatOne:"1曲",repeatAll:"全曲",repeatOff:"解除",stop:"停  止",advanced:"機能切り替え",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}:{menu:{disc:"Edit Playlist",settings:"Coming Soon",hide:"Hide",skipBackwards:"Skip Backwards",skipForwards:"Skip Forwards",play:"Play",pause:"Pause",repeat:"Repeat",repeatOne:"1",repeatAll:"All",repeatOff:"Off",stop:"Stop",advanced:"About",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}},U=function(){function n(t){A()(this,n),this.audio=t,this.leftChannel=[],this.rightChannel=[],this.setupAudioNodes(),E(this)}return h()(n,[{key:"setupAudioNodes",value:function(){var n=window.AudioContext||window.webkitAudioContext;this.audioContext=new n;var t=/iP(hone|od|ad)/.test(navigator.platform);(navigator.userAgent.indexOf("Firefox")>0||t)&&this.audioContext.suspend();var e=this.createAnalyserNode(),i=this.createAnalyserNode(),a=this.audioContext.createChannelSplitter(2);this.audioContext.createMediaElementSource(this.audio).connect(a),a.connect(e,0),a.connect(i,1),this.dataArrayLeft=new Uint8Array(e.frequencyBinCount),this.dataArrayRight=new Uint8Array(i.frequencyBinCount),this.analyserLeft=e,this.analyserRight=i}},{key:"createAnalyserNode",value:function(){var n=this.audioContext.createAnalyser();return n.smoothingTimeConstant=.1,n.fftSize=128,n.connect(this.audioContext.destination),n}},{key:"runAnalysis",value:function(){var n=this.analyserLeft,t=this.analyserRight,e=this.dataArrayLeft,i=this.dataArrayRight;n.getByteFrequencyData(e),t.getByteFrequencyData(i),this.leftChannel=e,this.rightChannel=i,this.frameId=requestAnimationFrame(this.runAnalysis)}},{key:"startAnalyser",value:function(){this.frameId=this.frameId||requestAnimationFrame(this.runAnalysis)}},{key:"pauseAnalyser",value:function(){cancelAnimationFrame(this.frameId),this.frameId=void 0}},{key:"start",value:function(){"suspended"!==this.audioContext.state&&this.startAnalyser()}},{key:"pause",value:function(){this.pauseAnalyser()}},{key:"stop",value:function(){this.pauseAnalyser(),this.audioContext.close()}},{key:"averageFFT",get:function(){return[D(this.leftChannel),D(this.rightChannel)]}},{key:"rawFFT",get:function(){return[this.leftChannel,this.rightChannel]}}]),n}(),F=e(20),q=e.n(F),N=e(36),Y=e.n(N),G=e(21),_=e.n(G),W=e.p+"songs/02.mp3",X=e.p+"songs/03.mp3",H=e.p+"songs/04.mp3",Z=e.p+"images/a3b8d8c7b399f4f27b2a124891bf1eed.png";function K(n){var t=function(n,t){if("object"!==q()(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==q()(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===q()(t)?t:String(t)}function Q(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function V(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(e),!0).forEach((function(t){_()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var J={currentTrack:null,loading:!1,repeat:"off",currentTime:z(0),playing:!1,paused:!1,playlist:["Track2","Track3","Track4"],tracks:{Track2:{file:W,track:1,album:"Music for Touching",artist:"Cookies",title:"Go Back",href:"",albumArtUrl:Z},Track3:{file:X,track:2,album:"Music for Touching",artist:"Cookies",title:"July Seventeen",href:"",albumArtUrl:Z},Track4:{file:H,track:3,album:"Music for Touching",artist:"Cookies",title:"Crybaby (A)",href:"",albumArtUrl:Z}}},$=function(){return ne.dispatch({type:"LOADING_STARTED",data:{loading:!0}})},nn=function(){return ne.dispatch({type:"LOADING_FINISHED",data:{loading:!1}})},tn=function(n){return ne.dispatch({type:"TOGGLE_REPEAT",data:{repeat:n}})},en=function(){return ne.dispatch({type:"PLAYING"})},an=function(){return ne.dispatch({type:"PAUSED"})},on=function(n){return ne.dispatch({type:"SET_CURRENT_TRACK",data:{trackIndex:n}})},rn=function(n){return ne.dispatch({type:"ADD_TRACKS",data:{tracks:n}})},sn=function(n){return ne.dispatch({type:"ARRANGE_TRACKS",data:{playlist:n}})},ln=function(n){return ne.dispatch({type:"REMOVE_TRACK",data:{trackIndex:n}})},cn=e.p+"images/818bb7b33691bf1b5e4c3c2387fdd991.jpeg",un=function(){function n(){A()(this,n),this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.repeat="off",this.reduxState=J,this.changeSrc=!0,this.analyser=new U(this.audioElement),this.setupEventListeners(),this.syncManagerWithStore(),E(this)}return h()(n,[{key:"syncManagerWithStore",value:function(){var n=this;ne.subscribe((function(){n.reduxState=ne.getState().audio,n.reduxState.currentTrack!==n.currentTrack?(n.currentTrack=n.reduxState.currentTrack,n.changeTrack=!0):n.changeTrack=!1}))}},{key:"togglePlay",value:function(){var n=this.audioElement;n.src||on(0),n.paused||n.ended?this.playAndReport():n.pause()}},{key:"updateMediaSession",value:function(n){var t=n.title,e=n.artist,i=n.album,a=n.albumArtUrl;this.audioElement.title="「".concat("SATURN.FM」",t," - ").concat(e),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:t,artist:e,album:i,artwork:[{src:a||cn,sizes:"512x512"}]}))}},{key:"playAndReport",value:function(){var n=this,t=this.reduxState,e=t.tracks,i=t.playlist,a=t.currentTrack,o=i[void 0===a?0:a],r=e[o].file;if(r instanceof File){var s=URL.createObjectURL(r);this.audioElement.src!==s&&(this.audioElement.src=s),this.audioElement.play(),this.audioElement.play().then((function(){n.updateMediaSession(e[o])}))}else{var l=r.split("./songs"),c=l.length>0?l[1]:r;(!this.audioElement.src||c.length>0&&!this.audioElement.src.includes(c))&&(this.audioElement.src=r),this.audioElement.play().then((function(){n.updateMediaSession(e[o])}))}}},{key:"revokeSongUrl",value:function(){var n=this.reduxState,t=n.tracks,e=n.playlist,i=n.currentTrack,a=void 0===i?0:i;if(1!==e.length){var o=t[e[a]].file;o instanceof File&&URL.revokeObjectURL(o)}}},{key:"loadNext",value:function(n){this.revokeSongUrl();var t=this.reduxState.currentTrack+1;t>=this.reduxState.playlist.length?(on(0),n&&"context"!==this.reduxState.repeat||this.playAndReport()):(on(t),this.playAndReport())}},{key:"loadPrevious",value:function(){this.revokeSongUrl();var n=this.reduxState.currentTrack;on(n?n-1:0),this.playAndReport()}},{key:"setupEventListeners",value:function(){var n=this;this.audioElement.addEventListener("loadstart",(function(){return $()})),this.audioElement.addEventListener("canplaythrough",(function(){return nn()})),this.audioElement.addEventListener("play",(function(){en(),n.analyser.start()})),this.audioElement.addEventListener("pause",(function(){an(),n.analyser.pause()})),this.audioElement.addEventListener("ended",(function(){"track"===n.reduxState.repeat?n.togglePlay():n.loadNext(!0)})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){return n.togglePlay()})),navigator.mediaSession.setActionHandler("pause",(function(){return n.togglePlay()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return n.previousTrack()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return n.nextTrack()})))}},{key:"nextTrack",value:function(){this.loadNext()}},{key:"previousTrack",value:function(){this.audioElement.currentTime>=3?this.audioElement.currentTime=0:this.loadPrevious()}},{key:"pause",value:function(){this.audioElement.pause()}},{key:"stop",value:function(){this.audioElement.pause(),this.audioElement.currentTime=0}},{key:"toggleRepeat",value:function(){var n;switch(this.reduxState.repeat){case"off":n="track";break;case"track":n="context";break;default:n="off"}tn(n)}},{key:"analyserFFT",get:function(){return this.analyser.averageFFT}},{key:"rawFFT",get:function(){return this.analyser.rawFFT}},{key:"currentTime",get:function(){return this.audioElement.currentTime}}]),n}(),dn=e(9),mn=e.n(dn),An=e(23),pn=function(n,t){return Math.random()*(n-t)+t},hn=function(n,t){var e,i,a,o=142.5-(e=.75*t,i=Math.log(1),a=(Math.log(142)-i)/100,Math.exp(i+a*(e-0))),r=new I.i("hsl(".concat(o>0?o:0,", 100%, 48%)")),s=r.r,l=r.g,c=r.b;return new S.Tween(n.material.color).to({r:s,g:l,b:c},100).easing(S.Easing.Linear.None).start()},fn=function(n,t){hn(n,t);var e=.007*t>1?1:.007*t;n.morphTargetInfluences[0]=e;var i=.008*t+.5,a=i<1.65?i:1.65;return new S.Tween(n.scale).to({x:a,y:a,z:a},50).easing(S.Easing.Linear.None).start()},Cn=function(n,t){var e=t?-Math.abs(.03):.03,i=t?-Math.abs(.01):.01;n.rotateX(pn(e,i)),n.rotateY(pn(e,i))},gn=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;i?n.position.y+=.0075:e&&(n.position.y-=.0075),n.rotateY(.0025*t)};function bn(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=w()(n);if(t){var a=w()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return B()(this,e)}}var yn=function(n){b()(e,n);var t=bn(e);function e(n){var i;return A()(this,e),(i=t.call(this,n)).debouncedResize=null,i.loader=new An.a,i.animateDownL=!0,i.animateUpL=!1,i.animateDownR=!0,i.animateUpR=!1,E(C()(i)),window.addEventListener("resize",(function(){clearTimeout(i.debouncedResize),i.debouncedResize=setTimeout(i.onResize,250)})),window.addEventListener("orientationchange",(function(){i.onResize()})),i}return h()(e,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(n){return this.props.hidden!==n.hidden}},{key:"onResize",value:function(){var n=M(),t=.75*n;this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)}},{key:"setupScene",value:function(){var n=M(),t=.75*n,e=new I.db,i=new I.S(20,n/t,1,1200);i.position.z=45,i.position.y=-27;var a=new I.a(16777215,.35),o=new I.k(16777215,.7);o.position.set(0,500,900),e.add(a,o);var r=new I.qb({alpha:!0,antialias:!1}),s=window.devicePixelRatio;r.setPixelRatio(1===s?.5*s:.15*s),r.setSize(n,t),this.scene=e,this.camera=i,this.renderer=r,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(n,t){var e=this,i=mn()(t,3),a=i[0],o=i[1],r=i[2];this.loader.load("./models/cubeBigger.gltf",(function(t){var i=mn()(t.scene.children,3)[2];i.material.color=new I.i("hsl(143, 100%, 48%)"),i.material.dithering=!0,i.material.flatShading=!1,i.position.set(a,o,r),i.rotateX(.075),"rightCube"===n?i.rotateY(.075):i.rotateY(-.1),e[n]=i,e.scene.add(i),"rightCube"===n&&e.props.setAnimationCallback(e.animate)}))}},{key:"animate",value:function(){if(this.props.playing){var n=mn()(this.props.audioManager.analyserFFT,2),t=n[0],e=n[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,fn(this.leftCube,t),fn(this.rightCube,e),Cn(this.leftCube),Cn(this.rightCube,-1)}else{var i=this.leftCube.position.y;i>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),i<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var a=this.rightCube.position.y;a>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),a<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),gn(this.leftCube,.35,this.animateDownL,this.animateUpL),gn(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var n=this;return o.a.createElement("div",{className:"cubes",ref:function(t){n.mount=t}})}}]),e}(o.a.Component);yn.propTypes={setAnimationCallback:T.a.func.isRequired,audioManager:T.a.shape({}).isRequired,playing:T.a.bool.isRequired,hidden:T.a.bool.isRequired};var Bn=yn,vn=e.p+"images/543a72f6f864fc8510ea00ec42576c97.png",wn=e.p+"images/0bbfcff4472b1f675fd40a82519634a3.png",kn=e.p+"images/002dd322a815a9564be6e1935bd86dae.png",Tn=e.p+"images/d15ab5d39baa5d5cf453752383c0805f.png",xn=e.p+"images/5e38e41d27cca8a06521f15f8f44a93e.png",En=e.p+"images/aa4138b43c8fc8be9e062c9b238e79c9.png",In=e.p+"images/4e00a72f43366d3d78c29876e3ea273d.png",Sn=e.p+"images/c9c13bb55f77610c72c57d28e12fbafe.png",Rn=e.p+"images/0d8d1f45572906e55ef762143d0c5f6c.gif",Dn=e.p+"images/777c6fbc3202247c243985661ac68b16.gif",Mn=e.p+"images/222a3f19cc7a7ce394a9c474b7e95477.png",zn=new I.j(1.45,1.45,.35,40,1,!0),On=(new I.kb).load(Rn),Ln=(new I.kb).load(Dn);On.magFilter=I.M,Ln.magFilter=I.M;var Pn=new I.I({side:I.l,transparent:!0,map:On}),jn=new I.I({side:I.l,transparent:!0,map:Ln}),Un=new I.T(2,2,1,1),Fn=new I.T(1.5,1.5,1,1),qn=(new I.kb).load(Mn);function Nn(n,t){var e,i,a,o,r,s,l,c,u,d,m;e=n.position,i=t,a={duration:n.material.userData.animationDuration,delay:n.material.userData.animationDelay,easing:S.Easing.Quadratic.InOut},o=i.x,r=i.y,s=i.z,l=a.easing,c=void 0===l?S.Easing.Quadratic.In:l,u=a.delay,d=a.duration,m=void 0===d?2e3:d,new S.Tween(e).to({x:o,y:r,z:s},m).easing(c).delay(u).start()}var Yn=e.p+"images/eafd93780f7964be6bb714e719850105.png",Gn=e.p+"songs/button-press.mp3",_n=e.p+"songs/button-highlight.mp3",Wn=e.p+"songs/hide.mp3",Xn=e.p+"songs/show.mp3";function Hn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function Zn(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=w()(n);if(t){var a=w()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return B()(this,e)}}var Kn=function(n){b()(e,n);var t=Zn(e);function e(n){var i;return A()(this,e),(i=t.call(this,n)).timeOut=null,i.planes=[],i.shadowPlanes=[],i.buttonEffect=new Audio,i.buttonEffect.src=Gn,i.highlightEffect=new Audio,i.highlightEffect.src=_n,i.hideEffect=new Audio,i.hideEffect.src=Wn,i.showEffect=new Audio,i.showEffect.src=Xn,i.state={activeButton:"play",allowToggle:!1,introActive:!0},i.clock=new I.h,i.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],i.onMouseMoveThrottled=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=0;return function(i){var a=new Date;a-e>=t&&(n(i),e=a)}}(i.onMouseMove.bind(C()(i)),100),E(C()(i)),i}return h()(e,[{key:"componentDidMount",value:function(){var n=this;this.setupScene(),this.setupKeyboardListeners(),setTimeout((function(){return n.setState({introActive:!1})}),1e3)}},{key:"shouldComponentUpdate",value:function(n,t){return this.state.activeButton!==t.activeButton||(this.props.hidden!==n.hidden||this.props.paused!==n.paused||this.props.repeat!==n.repeat||this.props.playing!==n.playing)}},{key:"componentDidUpdate",value:function(n,t){if(this.state.activeButton!==t.activeButton){var e=mn()(this.menuElements[this.state.activeButton].position,2),i=e[0],a=e[1];this.orbits.pink.position.set(i,a,2),this.orbits.purple.position.set(i,a,2.03),this.playHighlight()}}},{key:"onResize",value:function(){var n=M(),t=.75*n;this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)}},{key:"onMouseDown",value:function(n){var t=this;if(n.stopPropagation(),!this.props.hidden){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.planes);if(e.length>0){var i=e[0].object.material.userData.onClick,a=e[0].object;"running"===this.props.audioManager.analyser.audioContext.state?this.handleMouseDown(a,i):this.props.audioManager.analyser.audioContext.resume().then((function(){t.handleMouseDown(a,i)})).catch((function(n){return console.log(n)}))}}}},{key:"handleMouseDown",value:function(n,t){"hide"!==n.name&&(this.buttonEffect.currentTime=0,this.buttonEffect.play()),L(n,t)}},{key:"onMouseMove",value:function(n){var t=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(n.clientX-1.5*t.left)/(t.width-t.left)*2-1,this.mouse.y=-(n.clientY-t.top)/(t.bottom-t.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var n=this;window.addEventListener("keydown",(function(t){var e=n.buttons.indexOf(n.state.activeButton);switch(t.code){case"ArrowRight":2!==e&&5!==e&&(e+=1);break;case"ArrowLeft":3!==e&&6!==e&&(e-=1);break;case"ArrowUp":e-=3;break;case"ArrowDown":e+=3;break;case"Enter":var i=n.buttons[e],a=n.planes.find((function(n){return n.name===i}));"running"===n.props.audioManager.analyser.audioContext.state?(n.buttonEffect.currentTime=0,n.buttonEffect.play(),L(a,n.menuElements[i].onClick)):n.props.audioManager.analyser.audioContext.resume().then((function(){n.buttonEffect.currentTime=0,n.buttonEffect.play(),L(a,n.menuElements[i].onClick)})).catch((function(n){return console.log(n)}));break;default:e=-1}e>=0&&e<n.buttons.length&&n.setState({activeButton:n.buttons[e]})}))}},{key:"setupScene",value:function(){var n=M(),t=.75*n,e=new I.db,i=new I.S(2.5,n/t,1,500);i.aspect=n/t,i.position.z=360,i.position.y=.5,i.updateProjectionMatrix();var a=new I.qb({alpha:!0,antialias:!1});a.setSize(n,t),this.mouse=new I.nb,this.raycaster=new I.bb,this.scene=e,this.camera=i,this.renderer=a,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.props.setAnimationCallback(this.animate)}},{key:"setupEventListeners",value:function(){var n=this,t=this.renderer.domElement;window.addEventListener("resize",(function(){clearTimeout(n.timeOut),n.timeOut=setTimeout(n.onResize,250)})),window.addEventListener("orientationchange",(function(){n.onResize()})),t.addEventListener("mousedown",(function(t){return n.onMouseDown(t)}),!1),t.addEventListener("mousemove",(function(t){return n.onMouseMoveThrottled(t)}),!1)}},{key:"setupOrbAnimation",value:function(){var n=(new I.kb).load(Yn);n.magFilter=I.M,n.minFilter=I.M,this.textureAnimator=new P(n);var t=new I.I({map:n,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:this.props.toggleAbout}}),e=new I.H(Un,t);e.position.set(2.25,-4.3,1),e.name="advanced",qn.magFilter=I.M,qn.minFilter=I.M;var i=new I.I({map:qn,transparent:!0,opacity:.5,userData:{animationDelay:900,animationDuration:300}}),a=new I.H(Fn,i);a.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(a),this.scene.add(a),this.planes.push(e),this.scene.add(e)}},{key:"getToolTip",value:function(){var n=this.props,t=n.playing,e=n.paused,i=n.repeat,a=j().menu;return{disc:function(){return o.a.createElement("p",null,a.disc)},settings:function(){return o.a.createElement("p",null,a.settings)},hide:function(){return o.a.createElement("p",null,a.hide)},rewind:function(){return o.a.createElement("p",null,a.skipBackwards)},fastforward:function(){return o.a.createElement("p",null,a.skipForwards)},play:function(){var n=o.a.createElement("p",null,a.play," / ",a.pause);return t?n=o.a.createElement("p",null,o.a.createElement("strong",null,a.play)," / ",a.pause):e&&(n=o.a.createElement("p",null,a.play," / ",o.a.createElement("strong",null,a.pause))),n},repeat:function(){var n=o.a.createElement("p",null,a.repeat,": ",a.repeatOne," / ",a.repeatAll," /"," ",o.a.createElement("strong",null,a.repeatOff));return"track"===i?n=o.a.createElement("p",null,a.repeat,": ",o.a.createElement("strong",null,a.repeatOne)," /"," ",a.repeatAll," / ",a.repeatOff):"context"===i&&(n=o.a.createElement("p",null,a.repeat,": ",a.repeatOne," /"," ",o.a.createElement("strong",null,a.repeatAll)," / ",a.repeatOff)),n},stop:function(){return o.a.createElement("p",null,a.stop)},advanced:function(){return o.a.createElement("p",null,a.advanced)}}[this.state.activeButton]()}},{key:"orbitButton",value:function(){var n=this.orbits,t=n.pink,e=n.purple;this.props.hidden?(t.material.visible=!1,e.material.visible=!1):(t.material.visible=!0,e.material.visible=!0,t.rotateY(-.065),e.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.planes);if(n.length>0){var t=n[0].object.material.name;t&&t!==this.state.activeButton&&this.setState({activeButton:t}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var n=this;return this.props.hidden?this.showIfHidden():(this.hideEffect.currentTime=0,this.hideEffect.play(),setTimeout((function(){n.planes.forEach((function(n){var t=n.position,e=t.x,i=t.y,a=t.z;Nn(n,new I.ob(e,i-10,a))})),n.shadowPlanes.forEach((function(n){n.visible=!1})),n.props.hideDash()}),450),setTimeout((function(){return n.setState({allowToggle:!0})}),1400))}},{key:"animate",value:function(){S.update(),this.orbitButton();var n=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*n)}},{key:"showIfHidden",value:function(){var n=this;this.state.allowToggle&&this.props.hidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.showEffect.currentTime=0,this.showEffect.play(),this.planes.forEach((function(n){var t=n.position,e=t.x,i=t.y,a=t.z;Nn(n,new I.ob(e,i+10,a))})),setTimeout((function(){n.shadowPlanes.forEach((function(n){n.visible=!0}))}),1e3))}},{key:"placeInScene",value:function(n){var t=n.name,e=void 0===t?"":t,i=n.position,a=n.onClick,o=n.mapSrc,r=n.animationDelay,s=n.animationDuration,l=n.showShadow,c=mn()(i,3),u=c[0],d=c[1],m=c[2],A=(new I.kb).load(o);A.magFilter=I.M,A.minFilter=I.M;var p=new I.I({map:A,transparent:!0,name:e,userData:{onClick:a,animationDelay:r,animationDuration:s}}),h=new I.H(Un,p);if(h.position.set(u,d,m),h.name=e,l){qn.magFilter=I.M,qn.minFilter=I.M;var f=new I.I({map:qn,transparent:!0,opacity:.5,name:e,userData:{animationDelay:r,animationDuration:s}}),C=new I.H(Fn,f);C.position.set(u,d-1.025,m-.5),this.shadowPlanes.push(C),this.scene.add(C)}this.planes.push(h),this.scene.add(h)}},{key:"placeOrbitsInScene",value:function(){var n=new I.H(zn,jn),t=new I.H(zn,Pn);n.position.set(0,-2.15,2),n.rotateX(.35),n.rotateZ(-.8),t.position.set(0,-2.15,2.03),t.rotateZ(.8),t.rotateX(.25),t.rotateY(1),this.orbits={pink:n,purple:t},this.scene.add(n,t)}},{key:"createMenuElements",value:function(){var n,t,e,i=this,a=(n=this.props.audioManager,t=this.hideMenu,e=this.props.toggleMenu,[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(e(),500)},animationDuration:400,animationDelay:220,mapSrc:vn,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:wn,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:t,animationDelay:180,animationDuration:400,mapSrc:kn,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:n.previousTrack,animationDelay:500,animationDuration:350,mapSrc:Tn,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:n.togglePlay,animationDelay:300,animationDuration:350,mapSrc:xn,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:n.nextTrack,animationDelay:280,animationDuration:350,mapSrc:En},{name:"repeat",position:[-2.25,-4.3,1],onClick:n.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:Sn,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:n.stop,animationDelay:700,animationDuration:300,mapSrc:In,showShadow:!0}]);a.forEach((function(n){return i.placeInScene(n)})),this.menuElements=a.reduce((function(n,t){var e=t.name,i=t.position,a=t.onClick;return function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(e),!0).forEach((function(t){_()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Hn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}(_()({},e,{onClick:a,position:i}),n)}),{}),this.menuElements.advanced={onClick:this.props.toggleAbout,position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"playHighlight",value:function(){void 0!==window.orientation||this.state.introActive||"running"===this.props.audioManager.analyser.audioContext.state&&(this.highlightEffect.currentTime=0,this.highlightEffect.play())}},{key:"render",value:function(){var n=this;return o.a.createElement("div",null,o.a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(t){n.mount=t}}),o.a.createElement("div",{className:"tooltips",key:this.state.activeButton},this.getToolTip()))}}]),e}(o.a.Component);Kn.propTypes={toggleMenu:T.a.func.isRequired,repeat:T.a.oneOf(["off","context","track"]).isRequired,hideDash:T.a.func.isRequired,hidden:T.a.bool.isRequired,showIfHidden:T.a.func.isRequired,audioManager:T.a.shape({}).isRequired};var Qn=Kn,Vn=e(4),Jn=e.p+"images/57e24614352a90824b34fdc4411b3795.png",$n=e.p+"images/a45c3be41aef2a6557c01e81a079f19b.png",nt=function(n){var t=n.children;return o.a.createElement(tt,null,t)},tt=Vn.b.h2.withConfig({displayName:"ModalHeader__Header",componentId:"sc-1ntnrm9-0"})(["line-height:59px;padding:2px 22px 6px;font-size:42px;text-stroke:0.45px rgba(0,0,0,0.5);color:white;text-transform:capitalize;padding:4px 1.5em 0;margin:0 auto;margin-bottom:20px;background:url(",");background-color:rgba(0,0,0,0.5);background-size:100% 100%;border-radius:10px;display:inline-block;"],$n),et=function(n){return o.a.createElement(st,null,o.a.createElement(lt,{className:n.className},o.a.createElement(ct,null,o.a.createElement(nt,null,n.header),o.a.createElement(ut,null,n.children))))},it=Object(Vn.c)(["from{filter:brightness(0);}to{filter:brightness(1);}"]),at=Object(Vn.a)(["animation-name:",";animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms;"],it),ot=Object(Vn.a)(["image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;"]),rt=Object(Vn.c)(["from{opacity:0;}to{opacity:1;}"]),st=Vn.b.div.withConfig({displayName:"Modal__FullscreenOverlay",componentId:"sc-1rc4znx-0"})(["background:black;position:fixed;top:0;bottom:0;right:0;left:0;z-index:100;"]),lt=Vn.b.div.withConfig({displayName:"Modal__ContainerWithAnimatedBackground",componentId:"sc-1rc4znx-1"})(['padding:2em;height:100%;cursor:default;font-size:14px;&:before{position:absolute;left:0;right:0;bottom:0;top:0;content:" ";display:block;filter:brightness(0);'," ",";background:url(",") repeat-y;background-position:center top;background-size:100% 880px;z-index:-1;}"],at,ot,Jn),ct=Vn.b.div.withConfig({displayName:"Modal__ChildrenWrapper",componentId:"sc-1rc4znx-2"})(["max-width:1000px;margin:0 auto;opacity:0;animation-name:",";animation-duration:10ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:1.35s;display:flex;height:100%;flex-direction:column;align-items:center;"],rt),ut=Vn.b.div.withConfig({displayName:"Modal__MainContent",componentId:"sc-1rc4znx-3"})(["width:100%;font-size:13px;color:white;min-height:200px;height:100%;overflow-y:scroll;display:flex;flex-direction:column;align-items:center;@media screen and (min-width:500px){padding:4px;}"]),dt=function(n){return o.a.createElement(et,{header:"About",className:"About"},o.a.createElement(At,null,o.a.createElement("p",null,o.a.createElement("em",null,"Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.")),o.a.createElement("ul",null,o.a.createElement(mt,{href:"mailto:mcamis@gmail.com"},"mcamis@gmail.com"),o.a.createElement(mt,{href:"https://twitter.com/vmu_beep"},"https://twitter.com/vmu_beep"),o.a.createElement(mt,{href:"https://adam.mcamis.lol"},"https://adam.mcamis.lol"),o.a.createElement(mt,{href:"https://github.com/mcamis/saturn.fm"},"https://github.com/mcamis/saturn.fm"))),o.a.createElement("button",{className:"close",type:"button",onClick:n.toggleAbout},"Exit"))},mt=function(n){return o.a.createElement("li",null,o.a.createElement("a",{href:n.href},n.children))},At=Vn.b.div.withConfig({displayName:"About__MainContent",componentId:"sc-168iblg-0"})(["font-size:16px !important;text-align:left;padding:1em;line-height:22px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);background-color:rgba(131,23,71,0.65);border-bottom:1px solid rgba(255,255,255,0.25);em{margin:0.5em;padding:1em 1em 1em 2em;display:inline-block;border-left:2px solid white;}a{text-decoration:none;color:#f2f2f2;margin-left:0.5em;}ul{margin-top:2em;}ul li{list-style-type:none;margin-bottom:15px;}"]);dt.propTypes={toggleAbout:T.a.func.isRequired};var pt=dt,ht=e(26),ft=e(40),Ct=e.n(ft),gt=e(72);function bt(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return yt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yt(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return r=n.done,n},e:function(n){s=!0,o=n},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw o}}}}function yt(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}async function Bt(n){var t={};try{t=await function(n){return new Promise((function(t,e){Ct.a.read(n,{onSuccess:function(n){return t(n)},onError:function(n){return e(n)}})}))}(n)}catch(n){console.log("Fetching Tags Error",n)}var e,i=t.tags,a=(i=void 0===i?{}:i).artist,o=void 0===a?"":a,r=i.album,s=void 0===r?"":r,l=i.title,c=void 0===l?n.name:l,u=i.track,d=void 0===u?0:u,m=i.picture,A=void 0===m?{}:m,p=A.data,h=A.type;if(p){var f=new Uint8Array(p),C=new Blob([f],{type:h});e=URL.createObjectURL(C)}return{file:n,track:d,artist:o,album:s,title:c,albumArtUrl:e}}async function vt(n){var t;try{t=await async function(n){var t=n.extensions,e=void 0===t?null:t,i=n.allowDirectory,a=void 0!==i&&i;return new Promise((function(n){var t=document.createElement("input");e&&t.setAttribute("accept",e),t.type="file",t.multiple=!0,t.webkitdirectory=a,t.directory=a,t.mozdirectory=a,t.addEventListener("change",(function(t){n(t.target.files)})),t.click()}))}(n)}catch(n){console.log(n)}return await async function(n){var t,e=[],i=bt(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.type.includes("audio")&&e.push(Bt(a))}}catch(n){i.e(n)}finally{i.f()}return(await Promise.all(e)).reduce((function(n,t){return n[Object(gt.a)()]=t,n}),{})}(t)}function wt(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=w()(n);if(t){var a=w()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return B()(this,e)}}var kt=function(n){var t=n.isDragging,e=n.currentPlaying;return"draggable ".concat(t?"isDragging":""," ").concat(e?"currentTrack":"")},Tt=function(n){b()(e,n);var t=wt(e);function e(n){var i;return A()(this,e),(i=t.call(this,n)).onDragEnd=i.onDragEnd.bind(C()(i)),i}return h()(e,[{key:"onDragEnd",value:function(n){var t=this.props.audio.currentTrack;if(n.destination){var e=function(n,t,e){var i=Array.from(n),a=i.splice(t,1),o=mn()(a,1)[0];return i.splice(e,0,o),i}(this.props.audio.playlist,n.source.index,n.destination.index);n.source.index===t?this.props.setCurrentTrack(n.destination.index):n.destination.index===t?n.source.index<t?this.props.setCurrentTrack(t-1):this.props.setCurrentTrack(n.destination.index?t+1:1):n.source.index>t&&t>n.destination.index?this.props.setCurrentTrack(t+1):n.source.index<t&&t<n.destination.index&&this.props.setCurrentTrack(t-1),this.props.arrangeTracks(e)}}},{key:"getTracks",value:async function(){var n=await vt({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(n)}},{key:"getDirectory",value:async function(){var n=await vt({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(n)}},{key:"render",value:function(){var n=this,t=this.props.audio,e=t.currentTrack,i=t.playing,a=t.playlist,r=t.tracks,s=j(),l=s.fileReader,u=s.playlist;return o.a.createElement(et,{className:"FileReader",header:l.header},o.a.createElement(Et,null,o.a.createElement(St,null,o.a.createElement("div",null,u.number),o.a.createElement("div",null,u.title),o.a.createElement("div",null,u.artist),o.a.createElement("div",null,u.album),o.a.createElement("div",null)),o.a.createElement(Dt,null,o.a.createElement(ht.a,{onDragEnd:this.onDragEnd},o.a.createElement(ht.c,{droppableId:"droppable"},(function(t){return o.a.createElement("div",{ref:t.innerRef},a.map((function(t,s){var l=r[t],u=l.artist,d=l.album,m=l.title,A=i&&t===a[e];return o.a.createElement(ht.b,{key:t,draggableId:t,index:s},(function(t,e){var i=e.isDragging;return o.a.createElement("div",c()({className:kt({isDragging:i,currentPlaying:A}),ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement("div",null,A?"▱":s+1),o.a.createElement("div",null,m),o.a.createElement("div",null,u),o.a.createElement("div",null,d),o.a.createElement("button",{className:"icon-button",onClick:function(){return n.props.removeTrack(s)},type:"button"},"▵"))}))})),t.placeholder)}))))),o.a.createElement(xt,null,o.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getDirectory()}},"Add a directory"),o.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getTracks()}},"Add file(s)")),o.a.createElement(It,null,o.a.createElement("button",{className:"exit-button",type:"button",onClick:this.props.toggleMenu},"Exit")))}}]),e}(a.Component),xt=Vn.b.div.withConfig({displayName:"FileReader__EditorControlButtons",componentId:"ct0el1-0"})(["margin-top:2em;button{margin:0 1em;}"]),Et=Vn.b.div.withConfig({displayName:"FileReader__PlaylistWrapper",componentId:"ct0el1-1"})(["width:100%;max-height:calc(var(--vh,1vh) * 60);display:flex;flex-direction:column;align-items:center;border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);"]),It=Vn.b.footer.withConfig({displayName:"FileReader__PlaylistFooter",componentId:"ct0el1-2"})(["margin-top:auto;"]),St=Vn.b.div.withConfig({displayName:"FileReader__PlaylistHeader",componentId:"ct0el1-3"})(["background-color:rgba(131,23,71,0.65);border-bottom:1px solid rgba(255,255,255,0.25);width:100%;display:flex;flex-direction:row;color:white;text-align:left;font-size:42px;text-transform:capitalize;@media screen and (min-width:500px){padding:14px 0 0;}div:nth-child(1){width:40px;}div:nth-child(2){width:40%;max-width:400px;}div:nth-child(3){width:25%;max-width:200px;}div:nth-child(4){width:25%;max-width:200px;}div:nth-child(5){width:30px;}"]),Rt=Object(Vn.c)(["0%{background:rgba(255,255,255,0.1);}50%{background:rgba(255,255,255,0.25);}100%{background:rgba(255,255,255,0.1);}"]),Dt=Vn.b.div.withConfig({displayName:"FileReader__PlaylistEditor",componentId:"ct0el1-4"})(["background-color:rgba(131,23,71,0.65);width:100%;.draggable{*{user-select:none;}cursor:grab;border-radius:2px;margin:0 0 2px;display:flex;flex-direction:row;text-align:left;align-items:center;font-size:10px;font-family:ChibiPhoebe;text-transform:uppercase;letter-spacing:1px;font-size:20px;@media screen and (min-width:500px){font-size:26px;line-height:14px;padding:3px 0 3px;margin:0;}p{margin:0;padding:0;}&:hover{animation:"," 3s infinite;}&:active{cursor:grabbing !important;}&.isDragging{cursor:grabbing;border:1px white;background:rgba(255,255,255,0.5);border-radius:2px;}div:nth-child(1){width:40px;}div:nth-child(2){width:40%;max-width:400px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}div:nth-child(3){width:25%;max-width:300px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}div:nth-child(4){width:25%;max-width:300px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}button{font-family:ChibiPhoebe;transition:all 200ms ease;color:white;background:none;border:0;outline:0;padding:0;margin:0 auto;line-height:inherit;}}"],Rt);Tt.propTypes={audio:T.a.shape({tracks:T.a.object.isRequired,playlist:T.a.array.isRequired}).isRequired,arrangeTracks:T.a.func.isRequired,addTracks:T.a.func.isRequired,removeTrack:T.a.func.isRequired,toggleMenu:T.a.func.isRequired};var Mt=Tt;var zt=function(n){var t,e,i,r=n.audioManager,s=n.currentTrack,l=Object(a.useState)(0),c=mn()(l,2),u=c[0],d=c[1];return t=function(){d(r.currentTime)},e=1e3,i=Object(a.useRef)(),Object(a.useEffect)((function(){i.current=t})),Object(a.useEffect)((function(){if(null!==e){var n=setInterval((function(){i.current()}),e);return function(){return clearInterval(n)}}}),[e]),o.a.createElement("header",null,o.a.createElement("h3",null,"Track"),o.a.createElement("p",{className:"track-number"},s+1),o.a.createElement("h3",null,"Time"),o.a.createElement("p",null,z(u)))};zt.propTypes={audioManager:T.a.shape({})};var Ot=zt;function Lt(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=w()(n);if(t){var a=w()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return B()(this,e)}}var Pt={plain:[2.5,-3.5,510],spinny:[-2.5,3.5,505],fast:[0,3,510]},jt=function(n){b()(e,n);var t=Lt(e);function e(n){var i;A()(this,e),(i=t.call(this,n)).timeOut=null,E(C()(i));var a=M(),o=window.innerHeight;i.width=a,i.height=o;var r=new I.f,s=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);return r.setAttribute("position",new I.e(s,3)),i.blueMaterial=new I.I({color:7707903}),i.redMaterial=new I.I({color:16741754}),i.yellowMaterial=new I.I({color:15589691}),i.whiteMaterial=new I.I({color:16777215}),i.starGeometry=r,window.addEventListener("resize",(function(){clearTimeout(i.timeOut),i.timeOut=setTimeout(i.onResize,250)})),window.addEventListener("orientationchange",(function(){i.onResize()})),i}return h()(e,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(n){return this.props.hidden!==n.hidden||this.props.animation!==n.animation}},{key:"componentDidUpdate",value:function(n){if(this.props.animation!==n.animation){var t=mn()(Pt[this.props.animation],3),e=t[0],i=t[1],a=t[2];this.spaceShip.position.set(e,i,a)}}},{key:"onResize",value:function(){var n=M(),t=window.innerHeight;this.width=n,this.height=t,this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)}},{key:"setupScene",value:function(){var n=new I.db,t=new I.S(70,this.width/this.height,1,1e3),e=new I.k(16777215,3),i=new I.k(16777215,2),a=new I.k(16777215,2);e.position.set(-10,46,600),i.position.set(-200,46,500),a.position.set(200,46,500),n.add(e,i,a);var o=new I.qb({alpha:!0,antialias:!1});o.setClearColor(16777215),t.position.z=500;var r=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),s=window.devicePixelRatio;o.setPixelRatio(1===s||r?.65*s:.25*s),o.setSize(this.width,this.height),o.setClearColor(0,0),this.camera=t,this.renderer=o,this.scene=n,this.stars=this.stars||[],this.mount.appendChild(this.renderer.domElement),this.setupSpaceShip(),this.addStars(),this.props.setAnimationCallback(this.animate)}},{key:"setupSpaceShip",value:function(){var n=this;(new An.a).load("./models/saturn_v1.gltf",(function(t){var e=t.scene,i=mn()(Pt[n.props.animation],3),a=i[0],o=i[1],r=i[2];e.position.set(a,o,r),e.rotateZ(3.5),e.rotateY(Math.PI),e.visible=!1;var s=e.children[1].material.map;s.magFilter=I.z,s.minFilter=I.z,s.generateMipmaps=!1,n.spaceShip=e,window.ship=e,n.scene.add(e)}))}},{key:"animate",value:function(){this.animateStars(),this.renderScene(),this.spaceShip&&(this.props.hidden?(this.spaceShip.visible=!0,"plain"===this.props.animation?this.plain():"spinny"===this.props.animation?this.spinny():"fast"===this.props.animation&&this.fast()):this.spaceShip.visible=!1)}},{key:"plain",value:function(){this.spaceShip.rotateZ(.01),this.spaceShip.position.z-=.045,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"spinny",value:function(){this.spaceShip.rotateZ(.0025),this.spaceShip.position.z-=.2,this.spaceShip.position.x+=.05,this.spaceShip.position.y+=.025,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"fast",value:function(){this.spaceShip.rotateZ(-.005),this.spaceShip.position.z-=.05,this.spaceShip.position.x-=.0075,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"addStars",value:function(){for(var n=-500;n<500;n+=13){var t=this.whiteMaterial;n>0&&n<100?t=this.redMaterial:n>100&&n<200?t=this.yellowMaterial:n>100&&n<200&&(t=this.blueMaterial);var e=new I.H(this.starGeometry,t);e.position.x=O(this.width),e.position.y=O(this.height),e.position.z=n;var i=2*Math.random()+1,a=this.width<500?.75:1;e.scale.set(i*a,i*a,1),this.scene.add(e),this.stars.push(e)}}},{key:"animateStars",value:function(){for(var n=0;n<this.stars.length;n+=1){var t=this.props.useSlow?5:20;this.stars[n].position.z+=t*Math.random(),this.stars[n].position.z>550&&(this.stars[n].position.z-=800,this.stars[n].position.x=O(this.width),this.stars[n].position.y=O(this.height))}}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var n=this;return o.a.createElement("div",{className:"StarField"},o.a.createElement("div",{ref:function(t){n.mount=t}}))}}]),e}(o.a.Component);jt.propTypes={hidden:T.a.bool.isRequired,animation:T.a.string.isRequired,setRandomAnimation:T.a.func.isRequired,setAnimationCallback:T.a.func.isRequired};var Ut=jt,Ft=function(n){var t=n.href,e=n.artist,i=n.title;return o.a.createElement("div",{className:"current-track-info nice",key:i+e},o.a.createElement("p",null,i," ",e&&o.a.createElement(o.a.Fragment,null,"- ",e)),t&&o.a.createElement("p",null,o.a.createElement("a",{href:t,target:"blank"},t)))};Ft.propTypes={href:T.a.string,artist:T.a.string.isRequired,title:T.a.string.isRequired},Ft.defaultProps={href:""};var qt=Ft,Nt=e.p+"songs/intro.mp3";function Yt(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=w()(n);if(t){var a=w()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return B()(this,e)}}var Gt=["plain","spinny","fast"],_t=function(n){b()(e,n);var t=Yt(e);function e(n){var i;return A()(this,e),i=t.call(this,n),E(C()(i)),i.introEffect=new Audio,i.introEffect.src=Nt,i.audioManager=null,i.state={animation:"plain",show:!1,hidden:!1,showAboutModal:!1,fileReaderVisible:!1,frameCallbacks:[]},i.frameId=null,i}return h()(e,[{key:"componentDidMount",value:function(){this.frameId=requestAnimationFrame(this.animate)}},{key:"setupAnalyser",value:function(){var n=this;this.audioManager=new un,this.audioManager.analyser.audioContext.resume().then((function(){n.forceUpdate(),n.playIntro()}))}},{key:"getClassNames",value:function(){var n=this.props.audio,t=n.playing,e=n.paused,i=this.state.hidden?"hidden":"",a=this.audioManager?"intro":" ",o=e?"paused":"",r=t?"playing":"",s=this.state.show?"show":"",l=["ja-JP","ja"].includes(navigator.language)?"japanese":"";return"".concat(i," ").concat(a," ").concat(o," ").concat(r," ").concat(s," ").concat(l)}},{key:"setRandomAnimation",value:function(){var n=this,t=Gt.filter((function(t){return t!==n.state.animation})),e=t[Math.floor(Math.random()*t.length)];this.setState({animation:e})}},{key:"setAnimationCallback",value:function(n){this.setState((function(t){return{frameCallbacks:[].concat(d()(t.frameCallbacks),[n])}}))}},{key:"playIntro",value:function(){var n=this;setTimeout((function(){n.introEffect.play()}),350)}},{key:"hideDash",value:function(){var n=Gt[Math.floor(Math.random()*Gt.length)];this.setState((function(t){return{hidden:!t.hidden,show:!1,animation:n}}))}},{key:"showIfHidden",value:function(){this.state.hidden&&(this.frameId=this.frameId||requestAnimationFrame(this.animate),this.setState({hidden:!1,show:!0}))}},{key:"animate",value:function(){this.state.frameCallbacks.forEach((function(n){return n()})),this.frameId=requestAnimationFrame(this.animate)}},{key:"toggleMenu",value:function(){this.frameId?(cancelAnimationFrame(this.frameId),this.frameId=void 0):requestAnimationFrame(this.animate),this.setState((function(n){return{fileReaderVisible:!n.fileReaderVisible}}))}},{key:"render",value:function(){var n=this,t=this.props.audio,e=t.playing,a=t.paused,r=t.repeat,s=t.playlist,l=t.currentTrack,u=t.tracks[s[l]];return o.a.createElement("div",{className:this.getClassNames()},this.audioManager&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ot,{currentTrack:this.props.audio.currentTrack,audioManager:this.audioManager}),o.a.createElement(Qn,{audioManager:this.audioManager,hidden:this.state.hidden,showIfHidden:this.showIfHidden,toggleMenu:this.toggleMenu,toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))},hideDash:this.hideDash,repeat:r,paused:a,playing:e,setAnimationCallback:this.setAnimationCallback}),o.a.createElement("div",{className:"dashboard"}),o.a.createElement(Bn,{audioManager:this.audioManager,hidden:this.state.hidden,paused:a,playing:e,setAnimationCallback:this.setAnimationCallback}),this.props.toast&&o.a.createElement("p",null,this.props.toast),this.state.fileReaderVisible&&o.a.createElement(Mt,c()({},i,{audio:this.props.audio,toggleMenu:this.toggleMenu})),this.state.showAboutModal&&o.a.createElement(pt,{toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))}}),u&&o.a.createElement(qt,{title:u.title,href:u.href,artist:u.artist})),o.a.createElement(Ut,{useSlow:!this.audioManager,animation:this.state.animation,hidden:this.state.hidden,setAnimationCallback:this.setAnimationCallback,setRandomAnimation:this.setRandomAnimation}),(!this.audioManager||"suspended"===this.audioManager.analyser.audioContext.state)&&o.a.createElement("div",{className:"start-context"},o.a.createElement("button",{type:"button",onClick:function(){return n.setupAnalyser()}},"Press Start")))}}]),e}(a.Component);_t.propTypes={audio:T.a.shape({currentTrack:T.a.number,playing:T.a.bool.isRequired,paused:T.a.bool.isRequired,repeat:T.a.oneOf(["off","context","track"]).isRequired}).isRequired,toast:T.a.string},_t.defaultProps={toast:""};var Wt=Object(x.b)((function(n){return{audio:n.audio}}))(_t),Xt=e(11),Ht=Object(Xt.c)({audio:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYING":return V(V({},n),{},{playing:!0,paused:!1});case"PAUSED":return V(V({},n),{},{playing:!1,paused:!0});case"TOGGLE_REPEAT":return V(V({},n),{},{repeat:t.data.repeat});case"SET_CURRENT_TRACK":return V(V({},n),{},{currentTrack:t.data.trackIndex});case"ADD_TRACKS":return V(V({},n),{},{tracks:V(V({},n.tracks),t.data.tracks),playlist:[].concat(d()(n.playlist),d()(Object.keys(t.data.tracks).sort((function(n,e){var i=t.data.tracks[n],a=t.data.tracks[e];return i.album>a.album?1:i.album<a.album?-1:i.track>a.track?1:i.track<a.track?-1:void 0}))))});case"ARRANGE_TRACKS":return V(V({},n),{},{playlist:t.data.playlist});case"REMOVE_TRACK":var e=n.playlist[t.datatrackIndex],i=n.tracks,a=(i[e],Y()(i,[e].map(K)));return V(V({},n),{},{playlist:[].concat(d()(n.playlist.slice(0,t.data.trackIndex)),d()(n.playlist.slice(t.data.trackIndex+1))),tracks:V({},a)});default:return n}}});var Zt=e(41),Kt=e.n(Zt),Qt=e(30),Vt={insert:"head",singleton:!1},Jt=(Kt()(Qt.a,Vt),Qt.a.locals,e(24)),$t=e(25);[Jt.a,$t.a,Yn,vn,wn,kn,Tn,xn,En,In,Sn,Rn,Dn,Mn].forEach((function(n){(new Image).src=n}));var ne=Object(Xt.e)(Ht,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function te(){var n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(n,"px"))}window.addEventListener("resize",(function(){te()})),window.addEventListener("orientationchange",(function(){te()})),s.a.render(o.a.createElement(x.a,{store:ne},o.a.createElement(Wt,null)),document.getElementById("root"))}});