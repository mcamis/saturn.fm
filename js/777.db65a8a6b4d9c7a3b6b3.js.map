{"version":3,"file":"js/777.db65a8a6b4d9c7a3b6b3.js","mappings":"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","sources":["webpack://saturn-fm/src/components/ModalHeader.js","webpack://saturn-fm/src/components/Modal.js","webpack://saturn-fm/./src/components/Starfield/scene.ts","webpack://saturn-fm/src/components/Starfield/index.tsx","webpack://saturn-fm/./src/utilities/autobind.js","webpack://saturn-fm/./src/utilities/cubeTransforms.js","webpack://saturn-fm/./src/components/Cubes.js","webpack://saturn-fm/./src/utilities/menuElements.js","webpack://saturn-fm/./src/effects/button-press.mp3","webpack://saturn-fm/./src/effects/button-highlight.mp3","webpack://saturn-fm/./src/effects/hide.mp3","webpack://saturn-fm/./src/effects/show.mp3","webpack://saturn-fm/./src/components/Menu.js","webpack://saturn-fm/src/components/About.js","webpack://saturn-fm/src/components/Header.tsx","webpack://saturn-fm/./src/effects/intro.mp3","webpack://saturn-fm/src/containers/FullApp.tsx","webpack://saturn-fm/./src/utilities/helpers.js"],"sourcesContent":["import * as React from \"react\";\nimport { styled } from \"@linaria/react\";\nexport const ModalHeader = ({ children }) => {\n    return React.createElement(Header, null, children);\n};\nconst Header = styled.h2 `\n  line-height: 59px;\n  padding: 2px 22px 6px;\n  font-size: 42px;\n  text-stroke: 0.45px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  text-transform: capitalize;\n\n  padding: 4px 1.5em 0;\n  margin: 0 auto;\n  margin-bottom: 20px;\n\n  background: url(\"../images/header_bg.png\");\n  background-color: rgba(0, 0, 0, 0.5);\n  background-size: 100% 100%;\n  border-radius: 10px;\n\n  display: inline-block;\n`;\n","import * as React from \"react\";\nimport styled, { css, keyframes } from \"styled-components\";\nimport modalBackgroundSrc from \"../images/menubg.png\";\nimport { ModalHeader } from \"./ModalHeader\";\nexport const Modal = (props) => {\n    return (React.createElement(FullscreenOverlay, null,\n        React.createElement(ContainerWithAnimatedBackground, { className: props.className },\n            React.createElement(ChildrenWrapper, null,\n                React.createElement(ModalHeader, null, props.header),\n                React.createElement(MainContent, null, props.children)))));\n};\nconst menuBrightness = keyframes `\n  from {\n    filter: brightness(0);\n  }\n\n  to {\n    filter: brightness(1);\n  }\n`;\nconst fadeInFilter = css `\n  animation-name: ${menuBrightness};\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n`;\nconst pixelated = css `\n  image-rendering: optimizeSpeed; /* Older versions of FF */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+  */\n  image-rendering: -webkit-optimize-contrast; /* Safari */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers */\n`;\nconst menuContentFadeIn = keyframes `\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\nconst FullscreenOverlay = styled.div `\n  background: black;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 100;\n`;\nconst ContainerWithAnimatedBackground = styled.div `\n  padding: 2em;\n  height: 100%;\n  cursor: default;\n  font-size: 14px;\n\n  &:before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    content: \" \";\n    display: block;\n    filter: brightness(0);\n    ${fadeInFilter}\n    ${pixelated};\n    background: url(${modalBackgroundSrc}) repeat-y;\n    background-position: center top;\n    background-size: 100% 880px;\n    z-index: -1;\n  }\n`;\nconst ChildrenWrapper = styled.div `\n  max-width: 1000px;\n  margin: 0 auto;\n  opacity: 0;\n  animation-name: ${menuContentFadeIn};\n  animation-duration: 10ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 1.35s;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n`;\nconst MainContent = styled.div `\n  width: 100%;\n  font-size: 13px;\n  color: white;\n  min-height: 200px;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 500px) {\n    padding: 4px;\n  }\n`;\n","import { Scene, PerspectiveCamera, WebGLRenderer, DirectionalLight, BufferGeometry, BufferAttribute, MeshBasicMaterial, LinearFilter, Mesh, } from \"three\";\nimport { randomSize, randomPosition, sceneWidth, } from \"../../utilities/helpers\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nclass StarfieldScene {\n    camera;\n    debouncedResize;\n    height;\n    rafId;\n    renderer;\n    scene;\n    stars = [];\n    spaceship;\n    width;\n    shouldShowSpaceship;\n    domElement;\n    constructor() {\n        this.setDimensions();\n        this.scene = new Scene();\n        this.renderer = new WebGLRenderer({ alpha: true, antialias: false });\n        this.domElement = this.renderer.domElement;\n        this.renderer.setPixelRatio(0.75);\n        this.renderer.setSize(this.width, this.height);\n        this.debouncedResize = null;\n        window.addEventListener(\"resize\", () => {\n            clearTimeout(this.debouncedResize);\n            this.debouncedResize = window.setTimeout(this.onResize.bind(this), 250);\n        });\n        window.addEventListener(\"orientationchange\", () => {\n            this.onResize();\n        });\n        this.setupScene();\n        this.start();\n    }\n    setDimensions() {\n        const width = sceneWidth();\n        const height = window.innerHeight;\n        this.width = width;\n        this.height = height;\n        return [width, height];\n    }\n    onResize() {\n        this.setDimensions();\n        this.camera.aspect = this.width / this.height;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.width, this.height);\n    }\n    setupScene() {\n        const mainLight = new DirectionalLight(0xffffff, 3);\n        const leftLight = new DirectionalLight(0xffffff, 2);\n        const rightLight = new DirectionalLight(0xffffff, 2);\n        const camera = new PerspectiveCamera(70, this.width / this.height, 0.1, 1000);\n        mainLight.position.set(-10, 46, 600);\n        leftLight.position.set(-200, 46, 500);\n        rightLight.position.set(200, 46, 500);\n        this.scene.add(mainLight, leftLight, rightLight);\n        camera.position.z = 500;\n        this.camera = camera;\n        this.addStars();\n    }\n    start() {\n        this.rafId = window.requestAnimationFrame(this.animate.bind(this));\n    }\n    stop() {\n        window.cancelAnimationFrame(this.rafId);\n    }\n    animate() {\n        this.animateStars();\n        this.animateSpaceship();\n        this.renderer.render(this.scene, this.camera);\n        this.rafId = window.requestAnimationFrame(this.animate.bind(this));\n    }\n    animateSpaceship() {\n        if (!this.spaceship)\n            return;\n        this.spaceship.visible = this.shouldShowSpaceship;\n        if (this.shouldShowSpaceship) {\n            this.spaceship.rotateZ(0.01);\n            this.spaceship.position.z -= 0.045;\n            if (this.spaceship.position.z < 400) {\n                this.spaceship.position.z = 0;\n            }\n        }\n    }\n    animateStars() {\n        for (let i = 0; i < this.stars.length; i += 1) {\n            const currentStar = this.stars[i];\n            if (!currentStar)\n                return;\n            // rAF seems to run at 120fps even if the scene is only running at 60fps\n            // TODO: how the heck can I determine rAF rate indepenent of FPS?\n            const isHighRefreshRate = true;\n            const baseSpeed = isHighRefreshRate ? 1.25 : 20;\n            this.stars[i].position.z += baseSpeed + i * 0.05;\n            // if the particle is too close move it to the back\n            if (currentStar.position.z > 550) {\n                currentStar.position.z = -1000;\n                currentStar.position.x = randomPosition(this.width);\n                currentStar.position.y = randomPosition(this.height);\n            }\n        }\n    }\n    addStars() {\n        const blueMaterial = new MeshBasicMaterial({ color: 0x759cff });\n        const redMaterial = new MeshBasicMaterial({ color: 0xff757a });\n        const yellowMaterial = new MeshBasicMaterial({ color: 0xede13b });\n        const whiteMaterial = new MeshBasicMaterial({ color: 0xffffff });\n        const bufferGeometry = new BufferGeometry();\n        // prettier-ignore\n        const bufferVertices = new Float32Array([-1, -1, 1, 1, -1, 1, 1, 1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1,]);\n        bufferGeometry.setAttribute(\"position\", new BufferAttribute(bufferVertices, 3));\n        // Seed starts across the full z range\n        for (let z = -500; z < 500; z += 10) {\n            let material = whiteMaterial;\n            if (z > 0 && z < 100) {\n                material = redMaterial;\n            }\n            else if (z > 100 && z < 200) {\n                material = yellowMaterial;\n            }\n            else if (z > 100 && z < 200) {\n                material = blueMaterial;\n            }\n            const star = new Mesh(bufferGeometry, material);\n            // TODO: Better positioning so stars don't smack the viewer in the face\n            star.position.x = randomPosition(this.width);\n            star.position.y = randomPosition(this.height);\n            star.position.z = z;\n            const baseSize = randomSize();\n            const size = baseSize < 0.5 ? 0.5 : baseSize;\n            star.scale.set(size, size, size);\n            this.scene.add(star);\n            this.stars.push(star);\n        }\n    }\n    setupSpaceship() {\n        const loader = new GLTFLoader();\n        loader.load(\"../models/saturn_v1.gltf\", (gltf) => {\n            const { scene: shipModel } = gltf;\n            const [x, y, z] = [2.5, -3.5, 510];\n            shipModel.position.set(x, y, z);\n            shipModel.rotateZ(3.5);\n            shipModel.rotateY(Math.PI);\n            shipModel.visible = false;\n            // Disable texture filtering for the authenitc chunky Saturn gfx\n            const shipMap = shipModel.children[1].material?.map;\n            shipMap.magFilter = LinearFilter;\n            shipMap.minFilter = LinearFilter;\n            shipMap.generateMipmaps = false;\n            this.spaceship = shipModel;\n            this.scene.add(shipModel);\n        });\n    }\n    toggleSpaceShipVisbility(shouldShowSpaceship) {\n        this.shouldShowSpaceship = shouldShowSpaceship;\n        if (!this.spaceship && shouldShowSpaceship) {\n            this.setupSpaceship();\n        }\n    }\n}\nexport default StarfieldScene;\n","import { styled } from \"@linaria/react\";\nimport * as React from \"react\";\nimport StarfieldScene from \"./scene\";\nconst useStarfieldScene = (containerRef, shouldShowSpaceship) => {\n    const [scene, setScene] = React.useState(null);\n    React.useEffect(() => {\n        scene && containerRef?.current?.appendChild(scene.domElement);\n    }, [scene]);\n    React.useEffect(() => {\n        setScene(new StarfieldScene());\n    }, []);\n    React.useEffect(() => {\n        scene?.toggleSpaceShipVisbility(shouldShowSpaceship);\n    }, [shouldShowSpaceship]);\n};\nconst StarField = ({ isUiHidden }) => {\n    const containerRef = React.useRef();\n    useStarfieldScene(containerRef, isUiHidden);\n    return React.createElement(Wrapper, { ref: containerRef });\n};\nconst Wrapper = styled.div `\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  &:after {\n    content: \"\";\n    background: url(\"../../images/galaxy.png\") no-repeat;\n    background-size: cover;\n    background-color: black;\n    position: absolute;\n    left: -35%;\n    right: -35%;\n    top: -35%;\n    bottom: -35%;\n    animation-name: spin;\n    animation-duration: 500s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -1;\n  }\n`;\nexport default StarField;\n","/* eslint-disable no-param-reassign */\n/**\n * A helper function for making sure that instances of classes don't have to worry about what `this` means\n * (Can also be used to reduce constructor boilerplate in React components)\n * @param {object}\n * @returns {object} - input object, with each method's `this` bound to the instance\n */\nexport default function autobind(obj) {\n    Object.getOwnPropertyNames(obj.constructor.prototype).forEach(prop => {\n        if (typeof obj[prop] === \"function\") {\n            obj[prop] = obj[prop].bind(obj);\n        }\n    });\n}\n","/* eslint-disable no-param-reassign */\nimport { Tween, Easing } from \"es6-tween\";\nimport { Color } from \"three\";\nimport { logarithmic } from \"./helpers\";\nconst COLOR_TWEENING_SCALE = 0.75;\nconst MAX_ACTIVE_ROTATION = 0.03;\nconst MIN_ACTIVE_ROTATION = 0.01;\nconst IDLE_ROTATION = 0.0025;\nconst randomRange = (max, min) => Math.random() * (max - min) + min;\nconst colorTween = (target, channelFFT) => {\n    const logVal = logarithmic(channelFFT * COLOR_TWEENING_SCALE);\n    const hue = 142.5 - logVal;\n    // // TODO: This HSL change is quick but doesn't exactly match the original behavior\n    const { r, g, b } = new Color(`hsl(${hue > 0 ? hue : 0}, 100%, 48%)`);\n    return new Tween(target.material.color)\n        .to({ r, g, b }, 100)\n        .easing(Easing.Linear.None)\n        .start();\n};\nexport const updateScaleAndColor = (cube, averageFFT) => {\n    colorTween(cube, averageFFT);\n    const derivedInfluence = averageFFT * 0.007 > 1 ? 1 : averageFFT * 0.007;\n    cube.morphTargetInfluences[0] = derivedInfluence;\n    // TODO: Why did I use these magic numbers?\n    const derivedSize = averageFFT * 0.008 + 0.5;\n    const m = derivedSize < 1.65 ? derivedSize : 1.65;\n    return new Tween(cube.scale)\n        .to({ x: m, y: m, z: m }, 50)\n        .easing(Easing.Linear.None)\n        .start();\n};\nexport const activeRotation = (cube, modifier) => {\n    // TODO: At random interval, flip directions\n    const derivedMax = modifier\n        ? -Math.abs(MAX_ACTIVE_ROTATION)\n        : MAX_ACTIVE_ROTATION;\n    const derivedMin = modifier\n        ? -Math.abs(MIN_ACTIVE_ROTATION)\n        : MIN_ACTIVE_ROTATION;\n    cube.rotateX(randomRange(derivedMax, derivedMin));\n    cube.rotateY(randomRange(derivedMax, derivedMin));\n};\nexport const idleRotation = (cube, modifier = 1, down, up) => {\n    if (up) {\n        cube.position.y += 0.0075;\n    }\n    else if (down) {\n        cube.position.y -= 0.0075;\n    }\n    // cube.rotateX(IDLE_ROTATION * modifier);\n    cube.rotateY(IDLE_ROTATION * modifier);\n};\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Color, Scene, PerspectiveCamera, WebGLRenderer, AmbientLight, DirectionalLight, } from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport autobind from \"../utilities/autobind\";\nimport { sceneWidth } from \"../utilities/helpers\";\nimport { activeRotation, idleRotation, updateScaleAndColor, } from \"../utilities/cubeTransforms\";\nimport { audioManagerSingleton, AudioStatus } from \"../audioManager\";\nclass Cubes extends React.Component {\n    constructor(props) {\n        super(props);\n        this.debouncedResize = null;\n        this.loader = new GLTFLoader();\n        this.animateDownL = true;\n        this.animateUpL = false;\n        this.animateDownR = true;\n        this.animateUpR = false;\n        autobind(this);\n        window.addEventListener(\"resize\", () => {\n            clearTimeout(this.debouncedResize);\n            this.debouncedResize = setTimeout(this.onResize, 250);\n        });\n        window.addEventListener(\"orientationchange\", () => {\n            this.onResize();\n        });\n    }\n    componentDidMount() {\n        this.setupScene();\n    }\n    onResize() {\n        const width = sceneWidth();\n        const height = width * 0.75;\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(width, height);\n    }\n    setupScene() {\n        const width = sceneWidth();\n        const height = width * 0.75;\n        const scene = new Scene();\n        const camera = new PerspectiveCamera(20, width / height, 1, 1200);\n        camera.position.z = 45;\n        camera.position.y = -27;\n        const ambient = new AmbientLight(0xffffff, 0.35);\n        const directional = new DirectionalLight(0xffffff, 0.7);\n        directional.position.set(0, 500, 900);\n        scene.add(ambient, directional);\n        const renderer = new WebGLRenderer({ alpha: true, antialias: false });\n        // Safari doesn't support image-rendering: pixelated for WebGL yet\n        // https://bugs.webkit.org/show_bug.cgi?id=193895\n        const pixRatio = window.devicePixelRatio;\n        renderer.setPixelRatio(pixRatio === 1 ? pixRatio * 0.5 : pixRatio * 0.15);\n        renderer.setSize(width, height);\n        this.scene = scene;\n        this.camera = camera;\n        this.renderer = renderer;\n        this.setupCube(\"leftCube\", [-6.75, -29.3, 0]);\n        this.setupCube(\"rightCube\", [6.75, -29.7, 0]);\n        this.mount.appendChild(this.renderer.domElement);\n    }\n    setupCube(slot, [x, y, z]) {\n        this.loader.load(\"./models/cubeBigger.gltf\", ({ scene: { children: [, , cubeModel], }, }) => {\n            // eslint-disable no-param-reassign\n            cubeModel.material.color = new Color(\"hsl(143, 100%, 48%)\");\n            cubeModel.material.dithering = true;\n            cubeModel.material.flatShading = false;\n            cubeModel.position.set(x, y, z);\n            cubeModel.rotateX(0.075);\n            if (slot === \"rightCube\") {\n                cubeModel.rotateY(0.075);\n            }\n            else {\n                cubeModel.rotateY(-0.1);\n            }\n            this[slot] = cubeModel;\n            this.scene.add(cubeModel);\n            if (slot === \"rightCube\")\n                this.animate();\n        });\n    }\n    animate() {\n        // Only animated the cubes when audio is playing\n        if (this.props.audioStatus === AudioStatus.Playing) {\n            const [leftChannel, rightChannel] = audioManagerSingleton.analyserFFT;\n            // Reset to middle after idle\n            this.leftCube.position.y = -29;\n            this.rightCube.position.y = -29;\n            updateScaleAndColor(this.leftCube, leftChannel);\n            updateScaleAndColor(this.rightCube, rightChannel);\n            activeRotation(this.leftCube);\n            activeRotation(this.rightCube, -1);\n        }\n        else {\n            const { y: leftY } = this.leftCube.position;\n            if (leftY >= -28.25 && !this.animateDownL) {\n                this.animateDownL = true;\n                this.animateUpL = false;\n            }\n            if (leftY <= -30.25 && !this.animateUpL) {\n                this.animateUpL = true;\n                this.animateDownL = false;\n            }\n            const { y: rightY } = this.rightCube.position;\n            if (rightY >= -28.25 && !this.animateDownR) {\n                this.animateDownR = true;\n                this.animateUpR = false;\n            }\n            if (rightY <= -30.25 && !this.animateUpR) {\n                this.animateUpR = true;\n                this.animateDownR = false;\n            }\n            // TODO: Idle color\n            idleRotation(this.leftCube, 0.35, this.animateDownL, this.animateUpL);\n            idleRotation(this.rightCube, 0.35, this.animateDownR, this.animateUpR);\n        }\n        this.renderer.render(this.scene, this.camera);\n        window.requestAnimationFrame(this.animate);\n    }\n    render() {\n        return (React.createElement(\"div\", { className: \"cubes\", ref: (mount) => {\n                this.mount = mount;\n            } }));\n    }\n}\nCubes.propTypes = {\n    isPlaying: PropTypes.bool.isRequired,\n    isUiHidden: PropTypes.bool.isRequired,\n};\nexport default Cubes;\n","import { TextureLoader, NearestFilter, DoubleSide, CylinderGeometry, MeshBasicMaterial, PlaneGeometry, } from \"three\";\nimport { Tween, Easing } from \"es6-tween\";\nimport discSrc from \"../images/disc.png\";\nimport moreSrc from \"../images/more.png\";\nimport hideSrc from \"../images/hide.png\";\nimport rwdSrc from \"../images/rwd.png\";\nimport playSrc from \"../images/play-pause.png\";\nimport ffwdSrc from \"../images/ffwd.png\";\nimport stopSrc from \"../images/stop.png\";\nimport repeatSrc from \"../images/repeat.png\";\nimport textureSrc from \"../images/texture.gif\";\nimport pinkSrc from \"../images/pink.gif\";\nimport orbShadow from \"../images/orb-shadow.png\";\nexport const orbitGeometry = new CylinderGeometry(1.45, 1.45, 0.35, 40, 1, true);\nconst orbitTexture = new TextureLoader().load(textureSrc);\nconst pinkTexture = new TextureLoader().load(pinkSrc);\n// NearestFilter gets us that sweet sweet pixelated look\norbitTexture.magFilter = NearestFilter;\npinkTexture.magFilter = NearestFilter;\nexport const purpleMesh = new MeshBasicMaterial({\n    side: DoubleSide,\n    transparent: true,\n    map: orbitTexture,\n});\nexport const pinkMesh = new MeshBasicMaterial({\n    side: DoubleSide,\n    transparent: true,\n    map: pinkTexture,\n});\nexport const planeGeometry = new PlaneGeometry(2, 2, 1, 1);\nexport const shadowGeometry = new PlaneGeometry(1.5, 1.5, 1, 1);\nexport const shadowTexture = new TextureLoader().load(orbShadow);\nexport const createButtons = (audioManager, hideMenu, toggleMenu) => [\n    {\n        name: \"disc\",\n        position: [-2.25, 0, 1],\n        onClick: () => {\n            setTimeout(toggleMenu(true), 500);\n        },\n        animationDuration: 400,\n        animationDelay: 220,\n        mapSrc: discSrc,\n        showShadow: false,\n    },\n    {\n        name: \"settings\",\n        position: [0, 0, 1],\n        onClick: () => { },\n        animationDelay: 100,\n        animationDuration: 400,\n        mapSrc: moreSrc,\n        showShadow: false,\n    },\n    {\n        name: \"hide\",\n        position: [2.25, 0, 1],\n        onClick: hideMenu,\n        animationDelay: 180,\n        animationDuration: 400,\n        mapSrc: hideSrc,\n        showShadow: false,\n    },\n    {\n        name: \"rewind\",\n        position: [-2.25, -2.15, 1],\n        onClick: audioManager.previousTrack,\n        animationDelay: 500,\n        animationDuration: 350,\n        mapSrc: rwdSrc,\n        showShadow: false,\n    },\n    {\n        name: \"play\",\n        position: [0, -2.15, 1],\n        onClick: audioManager.togglePlayPause,\n        animationDelay: 300,\n        animationDuration: 350,\n        mapSrc: playSrc,\n        showShadow: false,\n    },\n    {\n        name: \"fastforward\",\n        position: [2.25, -2.15, 1],\n        onClick: audioManager.loadNextTrack,\n        animationDelay: 280,\n        animationDuration: 350,\n        mapSrc: ffwdSrc,\n    },\n    {\n        name: \"repeat\",\n        position: [-2.25, -4.3, 1],\n        onClick: audioManager.toggleRepeat,\n        animationDelay: 600,\n        animationDuration: 300,\n        mapSrc: repeatSrc,\n        showShadow: true,\n    },\n    {\n        name: \"stop\",\n        position: [0, -4.3, 1],\n        onClick: audioManager.stop,\n        animationDelay: 700,\n        animationDuration: 300,\n        mapSrc: stopSrc,\n        showShadow: true,\n    },\n    // {\n    //   name: 'advanced',\n    //   position: [2.25, -4.3, 1],\n    //   onClick: hideDash,\n    //   animationDelay: 900,\n    //   animationDuration: 300,\n    //   mapSrc: advancedSrc,\n    // },\n];\n/* Animates a Vector3 to the target */\nexport function slideDown(vectorToAnimate, { x, y, z }, { easing = Easing.Quadratic.In, delay, duration = 2000 }) {\n    // create the tween\n    const tweenVector3 = new Tween(vectorToAnimate)\n        .to({ x, y, z }, duration)\n        .easing(easing)\n        // .onUpdate(d => {\n        //   if (options.update) {\n        //     options.update(d);\n        //   }\n        // })\n        // .onComplete(() => {\n        //   if (options.callback) options.callback();\n        // })\n        .delay(delay);\n    // start the tween\n    tweenVector3.start();\n    // return the tween in case we want to manipulate it later on\n    // return tweenVector3;\n}\nexport function animateButtonPosition(plane, target) {\n    slideDown(plane.position, target, {\n        duration: plane.material.userData.animationDuration,\n        delay: plane.material.userData.animationDelay,\n        easing: Easing.Quadratic.InOut,\n    });\n}\n","export default __webpack_public_path__ + \"songs/button-press.mp3\";","export default __webpack_public_path__ + \"songs/button-highlight.mp3\";","export default __webpack_public_path__ + \"songs/hide.mp3\";","export default __webpack_public_path__ + \"songs/show.mp3\";","// Todo: Import specific tween functions as needed\nimport * as TWEEN from \"es6-tween\";\nimport { Clock, Scene, Vector2, Raycaster, PerspectiveCamera, WebGLRenderer, TextureLoader, NearestFilter, Mesh, MeshBasicMaterial, Vector3, } from \"three\";\nimport * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { audioManagerSingleton, AudioStatus, RepeatValues, } from \"../audioManager\";\nimport { throttle, sceneWidth, triggerButtonCallback, TextureAnimator, getLocalizedCopy, } from \"../utilities/helpers\";\nimport { animateButtonPosition, createButtons, orbitGeometry, purpleMesh, pinkMesh, planeGeometry, shadowGeometry, shadowTexture, } from \"../utilities/menuElements\";\nimport globeSprite from \"../images/globeSprite.png\";\nimport buttonSrc from \"../effects/button-press.mp3\";\nimport highlightSrc from \"../effects/button-highlight.mp3\";\nimport hideSrc from \"../effects/hide.mp3\";\nimport showSrc from \"../effects/show.mp3\";\nimport autobind from \"../utilities/autobind\";\n// TODO: Set more magic numbers to constants\nconst SHADOW_OFFSET = 1.025;\nclass Menu extends React.Component {\n    constructor(props) {\n        super(props);\n        this.timeOut = null;\n        this.planes = [];\n        this.shadowPlanes = [];\n        this.buttonEffect = new Audio();\n        this.buttonEffect.src = buttonSrc;\n        this.highlightEffect = new Audio();\n        this.highlightEffect.src = highlightSrc;\n        this.hideEffect = new Audio();\n        this.hideEffect.src = hideSrc;\n        this.showEffect = new Audio();\n        this.showEffect.src = showSrc;\n        this.state = {\n            activeButton: \"play\",\n            allowToggle: false,\n            introActive: true,\n        };\n        this.clock = new Clock();\n        this.buttons = [\n            \"disc\",\n            \"settings\",\n            \"hide\",\n            \"rewind\",\n            \"play\",\n            \"fastforward\",\n            \"repeat\",\n            \"stop\",\n            \"advanced\",\n        ];\n        this.onMouseMoveThrottled = throttle(this.onMouseMove.bind(this), 100);\n        autobind(this);\n    }\n    componentDidMount() {\n        this.setupScene();\n        this.setupKeyboardListeners();\n        setTimeout(() => this.setState({ introActive: false }), 1000);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.activeButton !== prevState.activeButton) {\n            const [x, y] = this.menuElements[this.state.activeButton].position;\n            this.orbits.pink.position.set(x, y, 2);\n            this.orbits.purple.position.set(x, y, 2.03);\n            this.playHighlight();\n        }\n    }\n    onResize() {\n        const width = sceneWidth();\n        const height = width * 0.75;\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(width, height);\n    }\n    onMouseDown(e) {\n        e.stopPropagation();\n        if (this.props.isUiHidden)\n            return;\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        const intersects = this.raycaster.intersectObjects(this.planes);\n        if (intersects.length > 0) {\n            const { object: { material: { userData: { onClick }, }, }, } = intersects[0];\n            const { object } = intersects[0];\n            if (audioManagerSingleton.analyser.audioContext.state === \"running\") {\n                this.handleMouseDown(object, onClick);\n            }\n            else {\n                audioManagerSingleton.analyser.audioContext\n                    .resume()\n                    .then(() => {\n                    this.handleMouseDown(object, onClick);\n                })\n                    .catch((e) => console.log(e));\n            }\n        }\n    }\n    handleMouseDown(object, onClick) {\n        if (object.name !== \"hide\") {\n            this.buttonEffect.currentTime = 0;\n            this.buttonEffect.play();\n        }\n        triggerButtonCallback(object, onClick);\n    }\n    onMouseMove(e) {\n        const rect = this.renderer.domElement.getBoundingClientRect();\n        // TODO/WTF: Why is * 1.5 necessary!?\n        this.mouse.x =\n            ((e.clientX - rect.left * 1.5) / (rect.width - rect.left)) * 2 - 1;\n        this.mouse.y = -((e.clientY - rect.top) / (rect.bottom - rect.top)) * 2 + 1;\n        this.manageActiveButton();\n    }\n    setupKeyboardListeners() {\n        window.addEventListener(\"keydown\", (e) => {\n            let nextIndex = this.buttons.indexOf(this.state.activeButton);\n            switch (e.code) {\n                case \"ArrowRight\":\n                    if (nextIndex !== 2 && nextIndex !== 5) {\n                        nextIndex += 1;\n                    }\n                    break;\n                case \"ArrowLeft\":\n                    if (nextIndex !== 3 && nextIndex !== 6) {\n                        nextIndex -= 1;\n                    }\n                    break;\n                case \"ArrowUp\":\n                    nextIndex -= 3;\n                    break;\n                case \"ArrowDown\":\n                    nextIndex += 3;\n                    break;\n                case \"Enter\": {\n                    const nextName = this.buttons[nextIndex];\n                    const nextObject = this.planes.find((plane) => plane.name === nextName);\n                    if (audioManagerSingleton.analyser.audioContext.state === \"running\") {\n                        this.buttonEffect.currentTime = 0;\n                        this.buttonEffect.play();\n                        triggerButtonCallback(nextObject, this.menuElements[nextName].onClick);\n                    }\n                    else {\n                        audioManagerSingleton.analyser.audioContext\n                            .resume()\n                            .then(() => {\n                            this.buttonEffect.currentTime = 0;\n                            this.buttonEffect.play();\n                            triggerButtonCallback(nextObject, this.menuElements[nextName].onClick);\n                        })\n                            .catch((err) => console.log(err));\n                    }\n                    break;\n                }\n                default:\n                    nextIndex = -1;\n            }\n            if (nextIndex >= 0 && nextIndex < this.buttons.length) {\n                this.setState({ activeButton: this.buttons[nextIndex] });\n            }\n        });\n    }\n    setupScene() {\n        const width = sceneWidth();\n        const height = width * 0.75;\n        const scene = new Scene();\n        const camera = new PerspectiveCamera(2.5, width / height, 1, 500);\n        camera.aspect = width / height;\n        camera.position.z = 360;\n        camera.position.y = 0.5;\n        camera.updateProjectionMatrix();\n        const renderer = new WebGLRenderer({ alpha: true, antialias: false });\n        renderer.setSize(width, height);\n        this.mouse = new Vector2();\n        this.raycaster = new Raycaster();\n        this.scene = scene;\n        this.camera = camera;\n        this.renderer = renderer;\n        this.mount.appendChild(this.renderer.domElement);\n        this.createMenuElements();\n        this.setupOrbAnimation();\n        this.setupEventListeners();\n        this.animate();\n    }\n    setupEventListeners() {\n        const { renderer: { domElement }, } = this;\n        window.addEventListener(\"resize\", () => {\n            clearTimeout(this.timeOut);\n            this.timeOut = setTimeout(this.onResize, 250);\n        });\n        window.addEventListener(\"orientationchange\", () => {\n            this.onResize();\n        });\n        domElement.addEventListener(\"mousedown\", (e) => this.onMouseDown(e), false);\n        domElement.addEventListener(\"mousemove\", (e) => this.onMouseMoveThrottled(e), false);\n    }\n    setupOrbAnimation() {\n        const [x, y, z] = [2.25, -4.3, 1];\n        const globeTexture = new TextureLoader().load(globeSprite);\n        globeTexture.magFilter = NearestFilter;\n        globeTexture.minFilter = NearestFilter;\n        this.textureAnimator = new TextureAnimator(globeTexture);\n        const globeMaterial = new MeshBasicMaterial({\n            map: globeTexture,\n            transparent: true,\n            name: \"advanced\",\n            userData: {\n                animationDelay: 900,\n                animationDuration: 300,\n                showShadow: true,\n                onClick: this.props.toggleAbout,\n            },\n        });\n        const spinningGlobe = new Mesh(planeGeometry, globeMaterial);\n        spinningGlobe.position.set(x, y, z);\n        spinningGlobe.name = \"advanced\";\n        shadowTexture.magFilter = NearestFilter;\n        shadowTexture.minFilter = NearestFilter;\n        const shadowMaterial = new MeshBasicMaterial({\n            map: shadowTexture,\n            transparent: true,\n            opacity: 0.5,\n            userData: {\n                animationDelay: 900,\n                animationDuration: 300,\n            },\n        });\n        const shadowPlane = new Mesh(shadowGeometry, shadowMaterial);\n        shadowPlane.position.set(x, y - SHADOW_OFFSET, z - 0.5);\n        // shadowPlane.visible = window.innerWidth >= 400;\n        this.shadowPlanes.push(shadowPlane);\n        this.scene.add(shadowPlane);\n        this.planes.push(spinningGlobe);\n        this.scene.add(spinningGlobe);\n    }\n    getToolTip(repeat, audioStatus) {\n        const { menu } = getLocalizedCopy();\n        const isPlaying = audioStatus === AudioStatus.Playing;\n        const isPaused = audioStatus === AudioStatus.Paused;\n        const tooltips = {\n            disc: () => React.createElement(\"p\", null, menu.disc),\n            settings: () => React.createElement(\"p\", null, menu.settings),\n            hide: () => React.createElement(\"p\", null, menu.hide),\n            rewind: () => React.createElement(\"p\", null, menu.skipBackwards),\n            fastforward: () => React.createElement(\"p\", null, menu.skipForwards),\n            play: () => {\n                let playElement = (React.createElement(\"p\", null,\n                    menu.play,\n                    \" / \",\n                    menu.pause));\n                if (isPlaying) {\n                    playElement = (React.createElement(\"p\", null,\n                        React.createElement(\"strong\", null, menu.play),\n                        \" / \",\n                        menu.pause));\n                }\n                else if (isPaused) {\n                    playElement = (React.createElement(\"p\", null,\n                        menu.play,\n                        \" / \",\n                        React.createElement(\"strong\", null, menu.pause)));\n                }\n                return playElement;\n            },\n            repeat: () => {\n                let repeatElement = (React.createElement(\"p\", null,\n                    menu.repeat,\n                    \": \",\n                    menu.repeatOne,\n                    \" / \",\n                    menu.repeatAll,\n                    \" /\",\n                    \" \",\n                    React.createElement(\"strong\", null, menu.repeatOff)));\n                if (repeat === RepeatValues.Single) {\n                    repeatElement = (React.createElement(\"p\", null,\n                        menu.repeat,\n                        \": \",\n                        React.createElement(\"strong\", null, menu.repeatOne),\n                        \" /\",\n                        \" \",\n                        menu.repeatAll,\n                        \" / \",\n                        menu.repeatOff));\n                }\n                else if (repeat === RepeatValues.All) {\n                    repeatElement = (React.createElement(\"p\", null,\n                        menu.repeat,\n                        \": \",\n                        menu.repeatOne,\n                        \" /\",\n                        \" \",\n                        React.createElement(\"strong\", null, menu.repeatAll),\n                        \" / \",\n                        menu.repeatOff));\n                }\n                return repeatElement;\n            },\n            stop: () => React.createElement(\"p\", null, menu.stop),\n            advanced: () => React.createElement(\"p\", null, menu.advanced),\n        };\n        return tooltips[this.state.activeButton]();\n    }\n    orbitButton() {\n        const { pink, purple } = this.orbits;\n        if (this.props.isUiHidden) {\n            pink.material.visible = false;\n            purple.material.visible = false;\n        }\n        else {\n            pink.material.visible = true;\n            purple.material.visible = true;\n            pink.rotateY(-0.065);\n            purple.rotateY(0.07);\n        }\n    }\n    manageActiveButton() {\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        const intersects = this.raycaster.intersectObjects(this.planes);\n        if (intersects.length > 0) {\n            const { object: { material: { name }, }, } = intersects[0];\n            if (name && name !== this.state.activeButton) {\n                this.setState({ activeButton: name });\n            }\n            document.body.classList.add(\"pointer\");\n        }\n        else {\n            document.body.classList.remove(\"pointer\");\n        }\n    }\n    hideMenu() {\n        if (this.props.isUiHidden) {\n            return this.showIfHidden();\n        }\n        // TODO: Switch this to the real sound effect\n        this.hideEffect.currentTime = 0;\n        this.hideEffect.play();\n        setTimeout(() => {\n            this.planes.forEach((plane) => {\n                const { x, y, z } = plane.position;\n                animateButtonPosition(plane, new Vector3(x, y - 10, z));\n            });\n            this.shadowPlanes.forEach((shadow) => {\n                // eslint-disable-next-line no-param-reassign\n                shadow.visible = false;\n            });\n            this.props.hideDash();\n        }, 450);\n        return setTimeout(() => this.setState({ allowToggle: true }), 1400);\n    }\n    animate() {\n        TWEEN.update();\n        this.orbitButton();\n        const delta = this.clock.getDelta();\n        this.renderer.render(this.scene, this.camera);\n        this.textureAnimator.update(1000 * delta);\n        window.requestAnimationFrame(this.animate);\n    }\n    showIfHidden() {\n        if (this.state.allowToggle && this.props.isUiHidden) {\n            this.props.showIfHidden();\n            this.setState({ allowToggle: false });\n            this.showEffect.currentTime = 0;\n            this.showEffect.play();\n            this.planes.forEach((plane) => {\n                const { x, y, z } = plane.position;\n                animateButtonPosition(plane, new Vector3(x, y + 10, z));\n            });\n            setTimeout(() => {\n                this.shadowPlanes.forEach((shadow) => {\n                    // eslint-disable-next-line no-param-reassign\n                    shadow.visible = true;\n                });\n            }, 1000);\n        }\n    }\n    placeInScene({ name = \"\", position, onClick, mapSrc, animationDelay, animationDuration, showShadow, }) {\n        const [x, y, z] = position;\n        const planeTexture = new TextureLoader().load(mapSrc);\n        planeTexture.magFilter = NearestFilter;\n        planeTexture.minFilter = NearestFilter;\n        const planeMaterial = new MeshBasicMaterial({\n            map: planeTexture,\n            transparent: true,\n            name,\n            userData: {\n                onClick,\n                animationDelay,\n                animationDuration,\n            },\n        });\n        const plane = new Mesh(planeGeometry, planeMaterial);\n        plane.position.set(x, y, z);\n        plane.name = name;\n        if (showShadow) {\n            shadowTexture.magFilter = NearestFilter;\n            shadowTexture.minFilter = NearestFilter;\n            const shadowMaterial = new MeshBasicMaterial({\n                map: shadowTexture,\n                transparent: true,\n                opacity: 0.5,\n                name,\n                userData: {\n                    animationDelay,\n                    animationDuration,\n                },\n            });\n            const shadowPlane = new Mesh(shadowGeometry, shadowMaterial);\n            shadowPlane.position.set(x, y - SHADOW_OFFSET, z - 0.5);\n            // shadowPlane.visible = window.innerWidth >= 400;\n            this.shadowPlanes.push(shadowPlane);\n            this.scene.add(shadowPlane);\n        }\n        // plane.rotateZ(0.75);\n        this.planes.push(plane);\n        this.scene.add(plane);\n    }\n    placeOrbitsInScene() {\n        const [x, y] = [0, -2.15];\n        const pink = new Mesh(orbitGeometry, pinkMesh);\n        const purple = new Mesh(orbitGeometry, purpleMesh);\n        // Push the orbits slight ahead in Z so they hit the plane at the eges of the sphere\n        pink.position.set(x, y, 2);\n        pink.rotateX(0.35);\n        pink.rotateZ(-0.8);\n        purple.position.set(x, y, 2.03);\n        purple.rotateZ(0.8);\n        purple.rotateX(0.25);\n        purple.rotateY(1);\n        this.orbits = {\n            pink,\n            purple,\n        };\n        this.scene.add(pink, purple);\n    }\n    createMenuElements() {\n        const menuElements = createButtons(audioManagerSingleton, this.hideMenu, this.props.toggleMenu);\n        menuElements.forEach((button) => this.placeInScene(button));\n        this.menuElements = menuElements.reduce((obj, { name, position, onClick }) => ({\n            [name]: {\n                onClick,\n                position,\n            },\n            ...obj,\n        }), {});\n        this.menuElements.advanced = {\n            onClick: this.props.toggleAbout,\n            position: [2.25, -4.3, 1],\n        };\n        this.placeOrbitsInScene();\n    }\n    playHighlight() {\n        // Only autoplay highlight on desktop to prevent multiple sounds at once\n        if (typeof window.orientation === \"undefined\" && !this.state.introActive) {\n            if (audioManagerSingleton.analyser.audioContext.state === \"running\") {\n                this.highlightEffect.currentTime = 0;\n                this.highlightEffect.play();\n            }\n        }\n    }\n    render() {\n        return (React.createElement(\"div\", null,\n            React.createElement(\"div\", { onClick: this.showIfHidden, className: \"menu\", ref: (mount) => {\n                    this.mount = mount;\n                } }),\n            React.createElement(\"div\", { className: \"tooltips\", key: this.state.activeButton }, this.getToolTip(this.props.repeat, this.props.audioStatus))));\n    }\n}\nMenu.propTypes = {\n    toggleMenu: PropTypes.func.isRequired,\n    hideDash: PropTypes.func.isRequired,\n    isUiHidden: PropTypes.bool.isRequired,\n    showIfHidden: PropTypes.func.isRequired,\n};\nexport default Menu;\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { Modal } from \"./Modal\";\nconst About = (props) => {\n    return (React.createElement(Modal, { header: \"about\" },\n        React.createElement(MainContent, null,\n            React.createElement(\"p\", null,\n                React.createElement(\"em\", null, \"Your scientists were so preoccupied with whether or not they could, they didn\\u2019t stop to think if they should.\")),\n            React.createElement(\"ul\", null,\n                React.createElement(SocialLink, { href: \"mailto:mcamis@gmail.com\" }, \"mcamis@gmail.com\"),\n                React.createElement(SocialLink, { href: \"https://twitter.com/vmu_beep\" }, \"https://twitter.com/vmu_beep\"),\n                React.createElement(SocialLink, { href: \"https://adam.mcamis.lol\" }, \"https://adam.mcamis.lol\"),\n                React.createElement(SocialLink, { href: \"https://github.com/mcamis/saturn.fm\" }, \"https://github.com/mcamis/saturn.fm\"))),\n        React.createElement(\"button\", { className: \"close\", type: \"button\", onClick: props.toggleAbout }, \"Exit\")));\n};\nconst SocialLink = (props) => {\n    return (React.createElement(\"li\", null,\n        React.createElement(\"a\", { href: props.href }, props.children)));\n};\nconst MainContent = styled.div `\n  font-size: 16px !important;\n  text-align: left;\n  padding: 1em;\n  line-height: 22px;\n\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n  background-color: rgba(131, 23, 71, 0.65);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n  em {\n    margin: 0.5em;\n    padding: 1em 1em 1em 2em;\n    display: inline-block;\n    border-left: 2px solid white;\n  }\n  a {\n    text-decoration: none;\n    color: #f2f2f2;\n    margin-left: 0.5em;\n  }\n  ul {\n    margin-top: 2em;\n  }\n  ul li {\n    list-style-type: none;\n    margin-bottom: 15px;\n  }\n`;\nAbout.propTypes = {\n    toggleAbout: PropTypes.func.isRequired,\n};\nexport default About;\n","import { styled } from \"@linaria/react\";\nimport * as React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { formatTime } from \"../utilities/helpers\";\nimport { useAudioManagerContext } from \"../audioManager\";\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nfunction useInterval(callback, delay) {\n    const savedCallback = useRef();\n    // Remember the latest callback.\n    useEffect(() => {\n        savedCallback.current = callback;\n    });\n    useEffect(() => {\n        function tick() {\n            savedCallback?.current();\n        }\n        if (delay !== null) {\n            const id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n}\nconst Header = () => {\n    const [componentTime, setComponentTime] = useState(0);\n    const { audioElement, currentTrackIndex, ...rest } = useAudioManagerContext();\n    useInterval(() => {\n        setComponentTime(audioElement.currentTime);\n    }, 1000);\n    return (React.createElement(Wrapper, null,\n        React.createElement(\"h3\", null, \"Track\"),\n        React.createElement(\"p\", { className: \"track-number\" }, currentTrackIndex + 1),\n        React.createElement(\"h3\", null, \"Time\"),\n        React.createElement(\"p\", null, formatTime(componentTime))));\n};\n/*\n//.playing {\n  header:after {\n    display: inline-block;\n  }\n}\n\n.hidden {\n  header {\n    animation-name: floatUpRelative;\n    animation-duration: 1000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-out;\n\n    // animation-delay: 150ms;\n  }\n}\n\npaused:\n  header:after {\n    display: inline-block;\n    transform: translate(350%, 0);\n    animation-play-state: paused;\n\n    \n      header p:nth-of-type(2),\n  header:after {\n    animation: blink 1s infinite;\n  }\n  }\n  */\n// todo include pixelated?\nconst Wrapper = styled.header `\n  user-select: none;\n\n  &:before {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    z-index: -1;\n    content: \"\";\n    background: url(\"../images/header.png\") top (center / 100%) no-repeat;\n  }\n\n  &:after {\n    display: none;\n    content: \"\";\n    background: url(\"../images/knight-rider.png\") no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    height: 12%;\n    width: 8%;\n    bottom: 5%;\n    position: absolute;\n\n    animation-name: knight-rider;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -2;\n  }\n\n  width: 79.5%;\n  margin: 0 auto;\n  position: relative;\n  padding: 2% 13.5% 0;\n  display: flex;\n  height: calc(calc(var(--scene-width) * 0.795) * 0.1417322835);\n  z-index: 10;\n  color: #014949;\n\n  h3 {\n    margin: 0;\n    display: inline-block;\n    font-size: calc(var(--scene-width) / 35);\n\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-family: \"Phoebe Condensed Bold\";\n    line-height: 1;\n  }\n  p {\n    line-height: 1;\n    margin: 0;\n    letter-spacing: 2px;\n    padding-left: 2%;\n\n    font-size: calc(var(--scene-width) / 18);\n\n    display: inline-block;\n  }\n  h3:nth-of-type(2) {\n    margin-left: 25%;\n  }\n`;\nexport default Header;\n","export default __webpack_public_path__ + \"songs/intro.mp3\";","import { cx } from \"@linaria/core\";\nimport { styled } from \"@linaria/react\";\nimport * as React from \"react\";\nimport { Suspense } from \"react\";\nimport { AudioStatus, useAudioManagerContext } from \"../audioManager\";\nimport Starfield from \"../components/Starfield\";\nimport Cubes from \"../components/Cubes\";\nimport Menu from \"../components/Menu\";\nimport About from \"../components/About\";\nimport Header from \"../components/Header\";\nimport introSrc from \"../effects/intro.mp3\";\nconst FileReader = React.lazy(() => import(\"../components/FileReader\"));\nconst FullApp = () => {\n    const [hasLoaded, setHasLoaded] = React.useState(false);\n    React.useEffect(() => {\n        const audioElement = new Audio();\n        audioElement.src = introSrc;\n        audioElement.play();\n        setHasLoaded(true);\n    }, []);\n    //   getClassNames() {\n    //     const isPlaying =\n    //       audioManagerSingleton.state.audioStatus === AudioStatus.Playing;\n    //     const isPaused =\n    //       audioManagerSingleton.state.audioStatus === AudioStatus.Paused;\n    //     const hiddenClass = this.state.isUiHidden ? \"hidden\" : \"\";\n    //     const introClass = audioManagerSingleton ? \"intro\" : \" \";\n    //     const pausedClass = isPaused ? \"paused\" : \"\";\n    //     const playingClass = isPlaying ? \"playing\" : \"\";\n    //     const showClass = this.state.show ? \"show\" : \"\";\n    //     const languageClass = [\"ja-JP\", \"ja\"].includes(navigator.language)\n    //       ? \"japanese\"\n    //       : \"\";\n    //     return `${hiddenClass} ${introClass} ${pausedClass} ${playingClass} ${showClass} ${languageClass}`;\n    //   }\n    const { repeat, audioStatus } = useAudioManagerContext();\n    const isPaused = audioStatus === AudioStatus.Paused;\n    const isPlaying = audioStatus === AudioStatus.Playing;\n    const [showFileInput, setShowFileInput] = React.useState(false);\n    const [showAboutModal, setShowAboutModal] = React.useState(false);\n    const [hideDash, setHideDash] = React.useState(false);\n    return (React.createElement(AppWrapper, { className: cx(hasLoaded && \"hasLoaded\") },\n        React.createElement(Header, null),\n        React.createElement(Menu, { isUiHidden: hideDash, showIfHidden: () => hideDash && setHideDash(false), toggleMenu: setShowFileInput, toggleAbout: () => setShowAboutModal(true), hideDash: () => setHideDash(true), repeat: repeat, audioStatus: audioStatus }),\n        React.createElement(\"div\", { className: \"dashboard\" }),\n        React.createElement(Cubes, { audioStatus: audioStatus, isUiHidden: hideDash, isPaused: isPaused, isPlaying: isPlaying }),\n        showFileInput && (React.createElement(Suspense, { fallback: null },\n            React.createElement(FileReader, { addTracks: () => { }, removeTrack: () => { }, toggleMenu: () => setShowFileInput(false) }))),\n        showAboutModal && React.createElement(About, { toggleAbout: () => setShowAboutModal(false) }),\n        React.createElement(Starfield, { isUiHidden: false })));\n};\nconst AppWrapper = styled.div `\n  height: 100%;\n  filter: brightness(0);\n\n  &.hasLoaded {\n    animation-name: menuBrightness;\n    animation-duration: 1s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-out;\n    animation-delay: 200ms;\n\n    @keyframes menuBrightness {\n      from {\n        filter: brightness(0);\n      }\n\n      to {\n        filter: brightness(1);\n      }\n    }\n  }\n`;\nexport default FullApp;\n","import { RepeatWrapping } from \"three\";\nimport * as TWEEN from \"es6-tween\";\nconst JP_LOCALES = [\"ja-JP\", \"ja\"];\nexport function average(arr) {\n    // Prevent returning NaN\n    if (!arr.length) {\n        return 0;\n    }\n    let fullValue = 0;\n    for (let i = 0; i < arr.length; i += 1) {\n        fullValue += arr[i];\n    }\n    return fullValue / arr.length;\n}\nexport const sceneWidth = () => {\n    // Maintain a 4:3 aspect ratio on wide screens, shrink on portrait screens\n    const actualWidth = window.innerWidth;\n    const idealWidth = window.innerHeight * 1.3333;\n    if (idealWidth > actualWidth) {\n        document.documentElement.style.setProperty(\"--scene-width\", `${actualWidth}px`);\n        return actualWidth;\n    }\n    document.documentElement.style.setProperty(\"--scene-width\", `${idealWidth}px`);\n    return idealWidth;\n};\nexport const formatTime = (time) => {\n    const MM = Math.trunc(time / 60)\n        .toString()\n        .padStart(2, \"0\");\n    const SS = Math.trunc(time % 60)\n        .toString()\n        .padStart(2, \"0\");\n    return `${MM}:${SS}`;\n};\nexport const randomSize = () => Math.random() * 2 + 1;\nexport const randomPosition = (max) => Math.random() * max - max * 0.5;\n// I am very bad at maths\n// https://stackoverflow.com/a/846249\nexport const logarithmic = (position) => {\n    const minp = 0;\n    const maxp = 100;\n    const minv = Math.log(1);\n    const maxv = Math.log(142);\n    const scale = (maxv - minv) / (maxp - minp);\n    return Math.exp(minv + scale * (position - minp));\n};\nexport const throttle = (func, timeFrame = 0) => {\n    let lastTime = 0;\n    return (args) => {\n        const now = new Date();\n        if (now - lastTime >= timeFrame) {\n            func(args);\n            lastTime = now;\n        }\n    };\n};\nexport function triggerButtonCallback(object, onClick) {\n    new TWEEN.Tween(object.scale)\n        .to({ x: 1.5, y: 1.5, z: 1.5 }, 100)\n        .easing(TWEEN.Easing.Quadratic.Out)\n        .start();\n    setTimeout(() => {\n        new TWEEN.Tween(object.scale)\n            .to({ x: 1, y: 1, z: 1 }, 100)\n            .easing(TWEEN.Easing.Quadratic.In)\n            .start();\n    }, 250);\n    onClick();\n}\n// https://stemkoski.github.io/Three.js/Texture-Animation.html\n/* eslint-disable no-param-reassign */\nexport function TextureAnimator(texture, tilesHorizontal = 23, tileDisplayDuration = 40, tilesVertical = 19) {\n    texture.wrapS = RepeatWrapping;\n    texture.wrapT = RepeatWrapping;\n    texture.repeat.set(1 / tilesHorizontal, 1 / tilesVertical);\n    let currentDisplayTime = 0;\n    let currentTile = 0;\n    const totalTiles = 419;\n    this.update = (milliSec) => {\n        currentDisplayTime += milliSec;\n        while (currentDisplayTime > tileDisplayDuration) {\n            currentDisplayTime -= tileDisplayDuration;\n            currentTile += 1;\n            if (currentTile > totalTiles) {\n                currentTile = 0;\n            }\n            const currentColumn = currentTile % tilesHorizontal;\n            const currentRow = Math.floor(currentTile / tilesHorizontal);\n            // texture.offset.y = currentRow / tilesVertical;\n            texture.offset.y = 1 - currentRow / tilesVertical - 1 / tilesVertical;\n            texture.offset.x = currentColumn / tilesHorizontal;\n        }\n    };\n}\nexport const getLocalizedCopy = (preferredLanguage = navigator.language) => {\n    if (JP_LOCALES.includes(preferredLanguage)) {\n        return {\n            intro: {},\n            menu: {\n                disc: \"\",\n                settings: \"\",\n                hide: \"\",\n                skipBackwards: \"\",\n                skipForwards: \"\",\n                play: \"\",\n                pause: \"\",\n                repeat: \"\",\n                repeatOne: \"1\",\n                repeatAll: \"\",\n                repeatOff: \"\",\n                stop: \"  \",\n                advanced: \"\",\n                exit: \"\",\n            },\n            fileReader: {\n                header: \"Edit Playlist\",\n                helpText: \"\",\n                exit: \"\",\n                directory: \"\",\n                files: \"\",\n            },\n            playlist: {\n                number: \"#\",\n                title: \"title\",\n                artist: \"artist\",\n                album: \"album\",\n            },\n        };\n    }\n    return {\n        menu: {\n            disc: \"Edit Playlist\",\n            settings: \"Coming Soon\",\n            hide: \"Hide\",\n            skipBackwards: \"Skip Backwards\",\n            skipForwards: \"Skip Forwards\",\n            play: \"Play\",\n            pause: \"Pause\",\n            repeat: \"Repeat\",\n            repeatOne: \"1\",\n            repeatAll: \"All\",\n            repeatOff: \"Off\",\n            stop: \"Stop\",\n            advanced: \"About\",\n            exit: \"\",\n        },\n        fileReader: {\n            header: \"Edit Playlist\",\n            helpText: \"\",\n            exit: \"\",\n            directory: \"\",\n            files: \"\",\n        },\n        playlist: {\n            number: \"#\",\n            title: \"title\",\n            artist: \"artist\",\n            album: \"album\",\n        },\n    };\n};\n"],"names":["ModalHeader","children","React","Header","name","Modal","props","FullscreenOverlay","ContainerWithAnimatedBackground","className","ChildrenWrapper","header","MainContent","menuBrightness","keyframes","fadeInFilter","css","pixelated","menuContentFadeIn","styled","modalBackgroundSrc","StarfieldScene","this","setDimensions","scene","Scene","renderer","WebGLRenderer","alpha","antialias","domElement","setPixelRatio","setSize","width","height","debouncedResize","window","addEventListener","clearTimeout","setTimeout","onResize","bind","setupScene","start","sceneWidth","innerHeight","camera","aspect","updateProjectionMatrix","mainLight","DirectionalLight","leftLight","rightLight","PerspectiveCamera","position","set","add","z","addStars","rafId","requestAnimationFrame","animate","cancelAnimationFrame","animateStars","animateSpaceship","render","spaceship","visible","shouldShowSpaceship","rotateZ","i","stars","length","currentStar","x","randomPosition","y","blueMaterial","MeshBasicMaterial","color","redMaterial","yellowMaterial","whiteMaterial","bufferGeometry","BufferGeometry","bufferVertices","Float32Array","setAttribute","BufferAttribute","material","star","Mesh","baseSize","randomSize","size","scale","push","GLTFLoader","load","gltf","shipModel","rotateY","Math","PI","shipMap","map","magFilter","LinearFilter","minFilter","generateMipmaps","setupSpaceship","Wrapper","isUiHidden","containerRef","setScene","current","appendChild","toggleSpaceShipVisbility","useStarfieldScene","ref","autobind","obj","Object","getOwnPropertyNames","constructor","prototype","forEach","prop","IDLE_ROTATION","randomRange","max","min","random","updateScaleAndColor","cube","averageFFT","target","channelFFT","hue","r","g","b","logarithmic","Color","Tween","to","easing","Easing","derivedInfluence","morphTargetInfluences","derivedSize","m","activeRotation","modifier","derivedMax","abs","derivedMin","rotateX","idleRotation","down","up","Cubes","loader","animateDownL","animateUpL","animateDownR","animateUpR","ambient","AmbientLight","directional","pixRatio","devicePixelRatio","setupCube","mount","slot","cubeModel","dithering","flatShading","audioStatus","AudioStatus","audioManagerSingleton","leftChannel","rightChannel","leftCube","rightCube","leftY","rightY","propTypes","isPlaying","PropTypes","orbitGeometry","CylinderGeometry","orbitTexture","TextureLoader","textureSrc","pinkTexture","pinkSrc","NearestFilter","purpleMesh","side","DoubleSide","transparent","pinkMesh","planeGeometry","PlaneGeometry","shadowGeometry","shadowTexture","orbShadow","animateButtonPosition","plane","vectorToAnimate","delay","duration","userData","animationDuration","animationDelay","Menu","timeOut","planes","shadowPlanes","buttonEffect","Audio","src","buttonSrc","highlightEffect","highlightSrc","hideEffect","hideSrc","showEffect","showSrc","state","activeButton","allowToggle","introActive","clock","Clock","buttons","onMouseMoveThrottled","throttle","onMouseMove","setupKeyboardListeners","setState","prevProps","prevState","menuElements","orbits","pink","purple","playHighlight","e","stopPropagation","raycaster","setFromCamera","mouse","intersects","intersectObjects","onClick","object","handleMouseDown","then","console","log","currentTime","play","triggerButtonCallback","rect","getBoundingClientRect","clientX","left","clientY","top","bottom","manageActiveButton","nextIndex","indexOf","code","nextName","nextObject","find","err","Vector2","Raycaster","createMenuElements","setupOrbAnimation","setupEventListeners","onMouseDown","globeTexture","globeSprite","textureAnimator","TextureAnimator","globeMaterial","showShadow","toggleAbout","spinningGlobe","shadowMaterial","opacity","shadowPlane","repeat","menu","getLocalizedCopy","isPaused","disc","settings","hide","rewind","skipBackwards","fastforward","skipForwards","playElement","pause","repeatElement","repeatOne","repeatAll","repeatOff","RepeatValues","stop","advanced","document","body","classList","remove","showIfHidden","Vector3","shadow","hideDash","TWEEN","orbitButton","delta","getDelta","update","mapSrc","planeTexture","planeMaterial","audioManager","hideMenu","toggleMenu","discSrc","moreSrc","previousTrack","rwdSrc","togglePlayPause","playSrc","loadNextTrack","ffwdSrc","toggleRepeat","repeatSrc","stopSrc","createButtons","button","placeInScene","reduce","placeOrbitsInScene","orientation","key","getToolTip","About","SocialLink","href","type","callback","savedCallback","useState","componentTime","setComponentTime","useAudioManagerContext","audioElement","currentTrackIndex","useRef","useEffect","id","setInterval","clearInterval","formatTime","FileReader","AppWrapper","hasLoaded","setHasLoaded","introSrc","showFileInput","setShowFileInput","showAboutModal","setShowAboutModal","setHideDash","cx","Suspense","fallback","addTracks","removeTrack","Starfield","JP_LOCALES","actualWidth","innerWidth","idealWidth","documentElement","style","setProperty","time","MM","trunc","toString","padStart","SS","minv","exp","func","timeFrame","lastTime","args","now","Date","texture","tilesHorizontal","tileDisplayDuration","tilesVertical","wrapS","RepeatWrapping","wrapT","currentDisplayTime","currentTile","totalTiles","milliSec","currentColumn","currentRow","floor","offset","preferredLanguage","navigator","language","includes","intro","exit","fileReader","helpText","directory","files","playlist","number","title","artist","album"],"sourceRoot":""}