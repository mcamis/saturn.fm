!function(n){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(n[i]=l[i]);for(u&&u(e);m.length;)m.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],i=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),n=o(o.s=t[0]))}return n}var i={},a={0:0},r=[];function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)o.d(t,i,function(e){return n[e]}.bind(null,i));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([80,1]),t()}({34:function(n,e,t){"use strict";e.a=t.p+"images/baffb4fed1442e55e4b55215d1df2165.png"},35:function(n,e,t){"use strict";e.a=t.p+"images/8499926526ed8b51c05734fea5c3a186.png"},38:function(n,e,t){"use strict";var i=t(51),a=t.n(i),r=t(52),o=t.n(r),s=t(19),l=t.n(s),c=t(53),u=t(54),d=t(55),m=t(56),A=t(57),p=t(34),h=t(35),f=t(58),C=o()(a.a),g=l()(c.a),y=l()(u.a),b=l()(d.a),B=l()(m.a),v=l()(A.a),w=l()(p.a),k=l()(h.a),T=l()(f.a);C.push([n.i,'@font-face{font-family:"Phoebe";src:url('+g+')}@font-face{font-family:"PhoebeJP";src:url('+y+')}@font-face{font-family:"ChibiPhoebe";src:url('+b+')}@font-face{font-family:"Phoebe Condensed Bold";src:url('+B+')}*{box-sizing:border-box;font-size:inherit;text-rendering:geometricPrecision;font-weight:100}html{height:calc(var(--vh, 1vh) * 100);overflow:hidden}body{font-family:"Phoebe", "Monaco", monospace;font-size:22px;line-height:1.3;height:calc(var(--vh, 1vh) * 100);overflow:hidden;color:#444;margin:0;background:black}body .intro{filter:brightness(0);animation-name:menuBrightness;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms}@keyframes menuBrightness{from{filter:brightness(0)}to{filter:brightness(1)}}p{margin-top:0}.pointer{cursor:pointer}#root{width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);max-width:133.333vh;max-width:calc(var(--vh, 1vh) * 133.33);margin:0 auto;overflow:hidden}#root>div{height:100%;width:100%;position:relative}canvas{position:absolute;bottom:0;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.cubes canvas{z-index:89}.menu canvas{z-index:90}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.StarField{top:0;width:100%;height:100%;position:absolute}.StarField:after{content:"";background:url('+v+') no-repeat;background-size:cover;background-color:black;position:absolute;left:-35%;right:-35%;top:-35%;bottom:-35%;animation-name:spin;animation-duration:500s;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-1}.StarField canvas{position:relative;top:0;left:0;right:0;bottom:0;z-index:1}@keyframes fadeInOut{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0;pointer-events:none}}.dashboard,.dashboard:after{content:"";background:url('+w+") no-repeat;background-size:100% 47%;background-position:0 100%;position:absolute;left:0;bottom:0;width:50%;z-index:20;padding-bottom:91%;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.dashboard:after{left:99.9%;top:0;transform:scale(-1, 1);width:100%}@keyframes knight-rider{0%{transform:translateX(0) scaleX(0)}5%{transform:translateX(50%) scaleX(1)}90%{transform:translateX(690%) scaleX(1)}100%{transform:translateX(710%) scaleX(0)}}header{user-select:none;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;width:79.5%;margin:0 auto;position:relative;padding:2% 13.5% 0;display:flex;height:calc(calc(var(--scene-width) * 0.795) * 0.1417322835);z-index:10;color:#014949}header:before{background:url("+k+') top center/100% no-repeat;width:100%;position:absolute;top:0;left:0;height:100%;z-index:-1;content:""}header:after{display:none;content:"";background:url('+T+') no-repeat;background-position:center center;background-size:100% 100%;height:12%;width:8%;bottom:5%;position:absolute;animation-name:knight-rider;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-2}header h3{margin:0;display:inline-block;font-size:calc(var(--scene-width) / 35);letter-spacing:2px;text-transform:uppercase;font-family:"Phoebe Condensed Bold";line-height:1}header p{line-height:1;margin:0;letter-spacing:2px;padding-left:2%;font-size:calc(var(--scene-width) / 18);display:inline-block}header h3:nth-of-type(2){margin-left:25%}.playing header:after{display:inline-block}.music-picker{background:white}.exit-button{border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);display:block;margin:0 auto;margin-top:auto;color:white;font-family:Phoebe;font-size:36px;padding:14px 14px 10px;background-color:rgba(93,21,122,0.8);border:0}@keyframes floatDownRelative{from{transform:translateY(0%)}to{transform:translateY(100%)}}@keyframes floatUpRelative{from{transform:translateY(0%)}to{transform:translateY(-105%)}}@keyframes floatDownButtons{from{transform:translateY(0%)}to{transform:translateY(50vh)}}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}.hidden .toast{animation:blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important}.hidden header{animation-name:floatUpRelative;animation-duration:1000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out}.hidden .dashboard,.hidden .cubes canvas,.hidden li{animation-name:floatDownRelative;animation-duration:2000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden li{animation-name:floatDownButtons;animation-duration:400ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-in}.hidden li:nth-child(1){animation-delay:1400ms;animation-duration:300ms}.hidden li:nth-child(2){animation-delay:1300ms;animation-duration:300ms}.hidden li:nth-child(3){animation-delay:1100ms;animation-duration:300ms}.hidden li:nth-child(4){animation-delay:780ms;animation-duration:350ms}.hidden li:nth-child(5){animation-delay:800ms;animation-duration:350ms}.hidden li:nth-child(6){animation-delay:1000ms;animation-duration:350ms}.hidden li:nth-child(7){animation-delay:680ms}.hidden li:nth-child(8){animation-delay:600ms}.hidden li:nth-child(9){animation-delay:720ms}.hidden li button.bottom:after,.hidden li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden .tooltips{display:none !important}@keyframes toolTip{from{opacity:1}to{opacity:0}}.tooltips p{color:black;position:absolute;background:rgba(255,255,255,0.5);left:50%;transform:translate(-50%, 0) scale(0.8, 1);bottom:0;z-index:70;padding:6px 8px 0;text-align:center;line-height:calc(var(--scene-width) / 18);font-size:calc(var(--scene-width) / 18);display:inline-block;margin:0 0 15px;z-index:99;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear;animation-delay:10s;white-space:nowrap;user-select:none}.tooltips img{height:30px;width:auto;bottom:20px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.tooltips strong{font-weight:100;color:#ff2034}blink{animation:blink 1s infinite}.toast{position:fixed;left:50%;top:40%;transform:translate(-50%, -50%);width:6em;z-index:9999}.paused header:after{display:inline-block;transform:translate(350%, 0);animation-play-state:paused}.paused .toast,.paused header p:nth-of-type(2),.paused header:after{animation:blink 1s infinite}@keyframes floatInRelative{from{transform:translateY(100%)}to{transform:translateY(0%)}}@keyframes floatDownInRelative{from{transform:translateY(-105%)}to{transform:translateY(0%)}}@keyframes floatInButtons{from{transform:translateY(50vh)}to{transform:translateY(0%)}}.show header{animation-name:floatDownInRelative;animation-duration:600ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:700ms}.show .dashboard,.show .cubes canvas{animation-name:floatInRelative;animation-duration:1500ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:0}.show li button.bottom:after,.show li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.flip{transform:scaleX(-1);display:inline-block}.current-track-info{font-size:12px;color:white;position:absolute;bottom:50vw;left:10px;z-index:999;opacity:0;text-transform:uppercase;animation-name:fadeInOut;animation-duration:12s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}@media screen and (min-width: 800px){.current-track-info{bottom:10px;left:10px}}.current-track-info p{margin:0}.current-track-info a{text-decoration:underline;font-weight:normal;color:white}.start-context{position:fixed;z-index:9999;background:rgba(10,5,25,0.5);left:0;right:0;bottom:0;top:0;display:flex;text-align:center;align-items:center;justify-content:center;font-size:16px}.start-context button{transition:background-color 250ms ease;background:none;border:1px solid white;color:white;padding:0.5em 1.5em;color:white;border-radius:2px;background:rgba(0,0,0,0.75);box-shadow:0 5px 20px 10px rgba(255,255,255,0.2)}.start-context button span{display:block;margin-bottom:8px;padding-bottom:8px;border-bottom:0.5px solid white}.start-context button:hover,.start-context button:active{background:rgba(255,255,255,0.25);cursor:pointer}.japanese .FileReader h2{font-family:"PhoebeJP", sans-serif}.japanese .tooltips p{line-height:calc(var(--scene-width) / 20);font-size:calc(var(--scene-width) / 20);font-family:"PhoebeJP", sans-serif;padding-bottom:8px}\n',"",{version:3,sources:["webpack://./src/styles/index.scss"],names:[],mappings:"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",sourcesContent:['/*\n                                                                      ..;===+.\n                                                                  .:=iiiiii=+=\n                                                               .=i))=;::+)i=+,\n                                                            ,=i);)I)))I):=i=;\n                                                         .=i==))))ii)))I:i++\n                                                       +)+))iiiiiiii))I=i+:\'\n                                  .,:;;++++++;:,.       )iii+:::;iii))+i=\'\n                               .:;++=iiiiiiiiii=++;.    =::,,,:::=i));=+\'\n                             ,;+==ii)))))))))))ii==+;,      ,,,:=i))+=:\n                           ,;+=ii))))))IIIIII))))ii===;.    ,,:=i)=i+\n                          ;+=ii)))IIIIITIIIIII))))iiii=+,   ,:=));=,\n                        ,+=i))IIIIIITTTTTITIIIIII)))I)i=+,,:+i)=i+\n                       ,+i))IIIIIITTTTTTTTTTTTI))IIII))i=::i))i=\'\n                      ,=i))IIIIITLLTTTTTTTTTTIITTTTIII)+;+i)+i`\n                      =i))IIITTLTLTTTTTTTTTIITTLLTTTII+:i)ii:\'\n                     +i))IITTTLLLTTTTTTTTTTTTLLLTTTT+:i)))=,\n                     =))ITTTTTTTTTTTLTTTTTTLLLLLLTi:=)IIiii;\n                    .i)IIITTTTTTTTLTTTITLLLLLLLT);=)I)))))i;\n                    :))IIITTTTTLTTTTTTLLHLLLLL);=)II)IIIIi=:\n                    :i)IIITTTTTTTTTLLLHLLHLL)+=)II)ITTTI)i=\n                    .i)IIITTTTITTLLLHHLLLL);=)II)ITTTTII)i+\n                    =i)IIIIIITTLLLLLLHLL=:i)II)TTTTTTIII)i\'\n                  +i)i)))IITTLLLLLLLLT=:i)II)TTTTLTTIII)i;\n                +ii)i:)IITTLLTLLLLT=;+i)I)ITTTTLTTTII))i;\n               =;)i=:,=)ITTTTLTTI=:i))I)TTTLLLTTTTTII)i;\n             +i)ii::,  +)IIITI+:+i)I))TTTTLLTTTTTII))=,\n           :=;)i=:,,    ,i++::i))I)ITTTTTTTTTTIIII)=+\'\n         .+ii)i=::,,   ,,::=i)))iIITTTTTTTTIIIII)=+\n        ,==)ii=;:,,,,:::=ii)i)iIIIITIIITIIII))i+:\'\n       +=:))i==;:::;=iii)+)=  `:i)))IIIII)ii+\'\n     .+=:))iiiiiiii)))+ii;\n    .+=;))iiiiii)));ii+\n   .+=i:)))))))=+ii+\n  .;==i+::::=)i=;\n  ,+==iiiiii+,\n  `+=+++;`\n\n*/\n\n@font-face {\n  font-family: "Phoebe";\n  src: url("../fonts/PhoebeV4.ttf");\n}\n\n@font-face {\n  font-family: "PhoebeJP";\n  src: url("../fonts/PhoebeJP.ttf");\n}\n@font-face {\n  font-family: "ChibiPhoebe";\n  src: url("../fonts/ChibiPhoebe.ttf");\n}\n@font-face {\n  font-family: "Phoebe Condensed Bold";\n  src: url("../fonts/PhoebeCondesnedB.ttf");\n}\n\n@mixin pixelated {\n  image-rendering: optimizeSpeed; /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast; /* Safari                        */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers       */\n}\n\n@mixin menuBackground {\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n}\n\n@mixin fadeInFilter {\n  animation-name: menuBrightness;\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n\n  @keyframes menuBrightness {\n    from {\n      filter: brightness(0);\n    }\n\n    to {\n      filter: brightness(1);\n    }\n  }\n}\n\n/* Typography & Base Styling */\n\n* {\n  box-sizing: border-box;\n  font-size: inherit;\n  text-rendering: geometricPrecision;\n  font-weight: 100;\n}\n\nhtml {\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n}\n\nbody {\n  font-family: "Phoebe", "Monaco", monospace;\n  font-size: 22px;\n\n  line-height: 1.3;\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n  color: #444;\n  margin: 0;\n  background: black;\n\n  // @include pixelated;\n  .intro {\n    filter: brightness(0);\n    @include fadeInFilter;\n  }\n}\n\np {\n  margin-top: 0;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  height: calc(var(--vh, 1vh) * 100);\n  max-width: 133.333vh;\n  max-width: calc(var(--vh, 1vh) * 133.33);\n  margin: 0 auto;\n  overflow: hidden;\n\n  > div {\n    height: 100%;\n    width: 100%;\n    position: relative;\n  }\n}\n\ncanvas {\n  position: absolute;\n  bottom: 0;\n  @include pixelated;\n}\n\n.cubes canvas {\n  z-index: 89;\n}\n\n.menu {\n  canvas {\n    z-index: 90;\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(-0deg);\n  }\n\n  to {\n    transform: rotate(-360deg);\n  }\n}\n\n.StarField {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  &:after {\n    content: "";\n    background: url("../images/galaxy.png") no-repeat;\n    background-size: cover;\n    background-color: black;\n    position: absolute;\n    left: -35%;\n    right: -35%;\n    top: -35%;\n    bottom: -35%;\n    animation-name: spin;\n    animation-duration: 500s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -1;\n  }\n\n  canvas {\n    position: relative;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n  }\n}\n\n@keyframes fadeInOut {\n  0% {\n    opacity: 0;\n  }\n\n  10% {\n    opacity: 1;\n  }\n\n  75% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    pointer-events: none;\n  }\n}\n\n.dashboard,\n.dashboard:after {\n  content: "";\n  background: url("../images/dashboard.png") no-repeat;\n  background-size: 100% 47%;\n  background-position: 0 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 50%;\n  // height: 900px;\n\n  z-index: 20;\n  padding-bottom: 91%;\n  @include pixelated;\n}\n\n.dashboard:after {\n  left: 99.9%;\n  top: 0;\n  transform: scale(-1, 1);\n  width: 100%;\n}\n\n@keyframes knight-rider {\n  0% {\n    transform: translateX(0) scaleX(0);\n  }\n  5% {\n    transform: translateX(50%) scaleX(1);\n  }\n\n  90% {\n    transform: translateX(690%) scaleX(1);\n  }\n  100% {\n    transform: translateX(710%) scaleX(0);\n  }\n}\nheader {\n  user-select: none; /* Standard */\n\n  @include pixelated;\n  &:before {\n    background: url("../images/header.png") top (center / 100%) no-repeat;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    z-index: -1;\n    content: "";\n  }\n\n  &:after {\n    display: none;\n    content: "";\n    background: url("../images/knight-rider.png") no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    height: 12%;\n    width: 8%;\n    bottom: 5%;\n    position: absolute;\n\n    animation-name: knight-rider;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -2;\n  }\n\n  width: 79.5%;\n  margin: 0 auto;\n  position: relative;\n  padding: 2% 13.5% 0;\n  display: flex;\n  height: calc(calc(var(--scene-width) * 0.795) * 0.1417322835);\n  z-index: 10;\n  color: #014949;\n\n  h3 {\n    margin: 0;\n    display: inline-block;\n    font-size: calc(var(--scene-width) / 35);\n\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-family: "Phoebe Condensed Bold";\n    line-height: 1;\n  }\n  p {\n    line-height: 1;\n    margin: 0;\n    letter-spacing: 2px;\n    padding-left: 2%;\n\n    font-size: calc(var(--scene-width) / 18);\n\n    display: inline-block;\n  }\n  h3:nth-of-type(2) {\n    margin-left: 25%;\n  }\n}\n.playing {\n  header:after {\n    display: inline-block;\n  }\n}\n.music-picker {\n  background: white;\n}\n\n.exit-button {\n  @include menuBackground;\n  display: block;\n  margin: 0 auto;\n  margin-top: auto;\n  color: white;\n  font-family: Phoebe;\n  font-size: 36px;\n  padding: 14px 14px 10px;\n  background-color: rgba(93, 21, 122, 0.8);\n  border: 0;\n}\n\n@keyframes floatDownRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(100%);\n  }\n}\n\n@keyframes floatUpRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(-105%);\n  }\n}\n\n@keyframes floatDownButtons {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(50vh);\n  }\n}\n\n@keyframes blink {\n  0% {\n    opacity: 0;\n  }\n\n  49% {\n    opacity: 0;\n  }\n\n  50% {\n    opacity: 1;\n  }\n}\n\n.hidden {\n  .toast {\n    animation: blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important;\n  }\n\n  header {\n    animation-name: floatUpRelative;\n    animation-duration: 1000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-out;\n\n    // animation-delay: 150ms;\n  }\n\n  .dashboard,\n  .cubes canvas,\n  li {\n    animation-name: floatDownRelative;\n    animation-duration: 2000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n  }\n\n  li {\n    animation-name: floatDownButtons;\n    animation-duration: 400ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-in;\n  }\n\n  li {\n    &:nth-child(1) {\n      animation-delay: 1400ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(2) {\n      animation-delay: 1300ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 1100ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(4) {\n      animation-delay: 780ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(5) {\n      animation-delay: 800ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(6) {\n      animation-delay: 1000ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(7) {\n      animation-delay: 680ms;\n    }\n\n    &:nth-child(8) {\n      animation-delay: 600ms;\n    }\n\n    &:nth-child(9) {\n      animation-delay: 720ms;\n    }\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n\n  .tooltips {\n    display: none !important;\n  }\n}\n// TODO: ReactCSSTransitionGroup\n@keyframes toolTip {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.tooltips {\n  p {\n    color: black;\n    position: absolute;\n    background: rgba(255, 255, 255, 0.5);\n    left: 50%;\n    transform: translate(-50%, 0) scale(0.8, 1);\n    bottom: 0;\n    z-index: 70;\n    padding: 6px 8px 0;\n    text-align: center;\n    line-height: calc(var(--scene-width) / 18);\n    font-size: calc(var(--scene-width) / 18);\n    display: inline-block;\n    margin: 0 0 15px;\n    z-index: 99;\n    // animation-name: toolTip;\n    animation-duration: 200ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n    animation-timing-function: linear;\n    animation-delay: 10s;\n    white-space: nowrap;\n    user-select: none;\n  }\n  img {\n    height: 30px;\n    width: auto;\n    bottom: 20px;\n    @include pixelated;\n  }\n  strong {\n    font-weight: 100;\n    color: rgb(255, 32, 52);\n  }\n}\n\nblink {\n  animation: blink 1s infinite;\n}\n\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 40%;\n  transform: translate(-50%, -50%);\n  width: 6em;\n  z-index: 9999;\n}\n\n.paused {\n  header:after {\n    display: inline-block;\n    transform: translate(350%, 0);\n    animation-play-state: paused;\n  }\n\n  .toast,\n  header p:nth-of-type(2),\n  header:after {\n    animation: blink 1s infinite;\n  }\n}\n\n@keyframes floatInRelative {\n  from {\n    transform: translateY(100%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatDownInRelative {\n  from {\n    transform: translateY(-105%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatInButtons {\n  from {\n    transform: translateY(50vh);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n.show {\n  header {\n    animation-name: floatDownInRelative;\n    animation-duration: 600ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 700ms;\n  }\n\n  .dashboard,\n  .cubes canvas {\n    animation-name: floatInRelative;\n    animation-duration: 1500ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 0;\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n}\n\n.flip {\n  transform: scaleX(-1);\n  display: inline-block;\n}\n\n.current-track-info {\n  font-size: 12px;\n  color: white;\n  position: absolute;\n  bottom: 50vw;\n  left: 10px;\n  z-index: 999;\n  opacity: 0;\n  text-transform: uppercase;\n  animation-name: fadeInOut;\n  animation-duration: 12s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: linear;\n\n  @media screen and (min-width: 800px) {\n    bottom: 10px;\n    left: 10px;\n  }\n\n  p {\n    margin: 0;\n  }\n  a {\n    text-decoration: underline;\n    font-weight: normal;\n    color: white;\n  }\n}\n\n.start-context {\n  position: fixed;\n  z-index: 9999;\n  background: rgba(10, 5, 25, 0.5);\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  button {\n    transition: background-color 250ms ease;\n    background: none;\n    border: 1px solid white;\n    color: white;\n    padding: 0.5em 1.5em;\n\n    color: white;\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.75);\n\n    box-shadow: 0 5px 20px 10px rgba(255, 255, 255, 0.2);\n    span {\n      display: block;\n      margin-bottom: 8px;\n      padding-bottom: 8px;\n      border-bottom: 0.5px solid white;\n    }\n    &:hover,\n    &:active {\n      background: rgba(255, 255, 255, 0.25);\n      cursor: pointer;\n    }\n  }\n}\n\n.japanese {\n  .FileReader {\n    h2 {\n      font-family: "PhoebeJP", sans-serif;\n    }\n  }\n  .tooltips p {\n    line-height: calc(var(--scene-width) / 20);\n    font-size: calc(var(--scene-width) / 20);\n    font-family: "PhoebeJP", sans-serif;\n    padding-bottom: 8px;\n  }\n}\n'],sourceRoot:""}]),e.a=C},53:function(n,e,t){"use strict";e.a=t.p+"fonts/PhoebeV4.ttf"},54:function(n,e,t){"use strict";e.a=t.p+"fonts/PhoebeJP.ttf"},55:function(n,e,t){"use strict";e.a=t.p+"fonts/ChibiPhoebe.ttf"},56:function(n,e,t){"use strict";e.a=t.p+"fonts/PhoebeCondesnedB.ttf"},57:function(n,e,t){"use strict";e.a=t.p+"images/a10fe169c1fed7cb21d02f6fc2304bd1.png"},58:function(n,e,t){"use strict";e.a=t.p+"images/84d4d572aca8177cf2e916a1eee1a825.png"},80:function(n,e,t){"use strict";t.r(e),t.d(e,"store",(function(){return nt}));var i={};t.r(i),t.d(i,"loadingStart",(function(){return $})),t.d(i,"loadingFinish",(function(){return nn})),t.d(i,"toggleRepeat",(function(){return en})),t.d(i,"playing",(function(){return tn})),t.d(i,"paused",(function(){return an})),t.d(i,"setCurrentTrack",(function(){return rn})),t.d(i,"addTracks",(function(){return on})),t.d(i,"arrangeTracks",(function(){return sn})),t.d(i,"removeTrack",(function(){return ln}));var a=t(0),r=t.n(a),o=t(23),s=t.n(o),l=t(32),c=t.n(l),u=t(21),d=t.n(u),m=t(11),A=t.n(m),p=t(12),h=t.n(p),f=t(14),C=t.n(f),g=t(17),y=t.n(g),b=t(18),B=t.n(b),v=t(10),w=t.n(v),k=t(4),T=t.n(k),x=t(20);function E(n){Object.getOwnPropertyNames(n.constructor.prototype).forEach((function(e){"function"==typeof n[e]&&(n[e]=n[e].bind(n))}))}var I=t(2),S=t(9),R=["ja-JP","ja"];function M(n){if(!n.length)return 0;for(var e=0,t=0;t<n.length;t+=1)e+=n[t];return e/n.length}var D=function(){var n=window.innerWidth,e=1.3333*window.innerHeight;return e>n?(document.documentElement.style.setProperty("--scene-width","".concat(n,"px")),n):(document.documentElement.style.setProperty("--scene-width","".concat(e,"px")),e)},L=function(n){var e=Math.trunc(n/60).toString().padStart(2,"0"),t=Math.trunc(n%60).toString().padStart(2,"0");return"".concat(e,":").concat(t)},z=function(n){return Math.random()*n-.5*n};function O(n,e){new S.Tween(n.scale).to({x:1.5,y:1.5,z:1.5},100).easing(S.Easing.Quadratic.Out).start(),setTimeout((function(){new S.Tween(n.scale).to({x:1,y:1,z:1},100).easing(S.Easing.Quadratic.In).start()}),250),e()}function P(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:23,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:19;n.wrapS=I.RepeatWrapping,n.wrapT=I.RepeatWrapping,n.repeat.set(1/e,1/i);var a=0,r=0,o=419;this.update=function(s){for(a+=s;a>t;){a-=t,(r+=1)>o&&(r=0);var l=r%e,c=Math.floor(r/e);n.offset.y=1-c/i-1/i,n.offset.x=l/e}}}var F=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.language;return R.includes(n)?{intro:{},menu:{disc:"プレイリスト",settings:"ユーザー設定",hide:"パネル消去",skipBackwards:"曲戻し",skipForwards:"曲送り",play:"再生",pause:"一時停止",repeat:"リピート",repeatOne:"1曲",repeatAll:"全曲",repeatOff:"解除",stop:"停  止",advanced:"機能切り替え",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}:{menu:{disc:"Edit Playlist",settings:"Coming Soon",hide:"Hide",skipBackwards:"Skip Backwards",skipForwards:"Skip Forwards",play:"Play",pause:"Pause",repeat:"Repeat",repeatOne:"1",repeatAll:"All",repeatOff:"Off",stop:"Stop",advanced:"About",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}},j=function(){function n(e){A()(this,n),this.audio=e,this.leftChannel=[],this.rightChannel=[],this.setupAudioNodes(),E(this)}return h()(n,[{key:"setupAudioNodes",value:function(){var n=window.AudioContext||window.webkitAudioContext;this.audioContext=new n;var e=/iP(hone|od|ad)/.test(navigator.platform);(navigator.userAgent.indexOf("Firefox")>0||e)&&this.audioContext.suspend();var t=this.createAnalyserNode(),i=this.createAnalyserNode(),a=this.audioContext.createChannelSplitter(2);this.audioContext.createMediaElementSource(this.audio).connect(a),a.connect(t,0),a.connect(i,1),this.dataArrayLeft=new Uint8Array(t.frequencyBinCount),this.dataArrayRight=new Uint8Array(i.frequencyBinCount),this.analyserLeft=t,this.analyserRight=i}},{key:"createAnalyserNode",value:function(){var n=this.audioContext.createAnalyser();return n.smoothingTimeConstant=.1,n.fftSize=128,n.connect(this.audioContext.destination),n}},{key:"runAnalysis",value:function(){var n=this.analyserLeft,e=this.analyserRight,t=this.dataArrayLeft,i=this.dataArrayRight;n.getByteFrequencyData(t),e.getByteFrequencyData(i),this.leftChannel=t,this.rightChannel=i,this.frameId=requestAnimationFrame(this.runAnalysis)}},{key:"startAnalyser",value:function(){this.frameId=this.frameId||requestAnimationFrame(this.runAnalysis)}},{key:"pauseAnalyser",value:function(){cancelAnimationFrame(this.frameId),this.frameId=void 0}},{key:"start",value:function(){"suspended"!==this.audioContext.state&&this.startAnalyser()}},{key:"pause",value:function(){this.pauseAnalyser()}},{key:"stop",value:function(){this.pauseAnalyser(),this.audioContext.close()}},{key:"averageFFT",get:function(){return[M(this.leftChannel),M(this.rightChannel)]}},{key:"rawFFT",get:function(){return[this.leftChannel,this.rightChannel]}}]),n}(),U=t(29),N=t.n(U),q=t(45),G=t.n(q),Y=t(30),W=t.n(Y),_=t.p+"songs/02.mp3",X=t.p+"songs/03.mp3",Z=t.p+"songs/04.mp3",H=t.p+"images/a3b8d8c7b399f4f27b2a124891bf1eed.png";function K(n){var e=function(n,e){if("object"!==N()(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==N()(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===N()(e)?e:String(e)}function Q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function V(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(t),!0).forEach((function(e){W()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var J={currentTrack:null,loading:!1,repeat:"off",currentTime:L(0),playing:!1,paused:!1,playlist:["Track2","Track3","Track4"],tracks:{Track2:{file:_,track:1,album:"Music for Touching",artist:"Cookies",title:"Go Back",href:"",albumArtUrl:H},Track3:{file:X,track:2,album:"Music for Touching",artist:"Cookies",title:"July Seventeen",href:"",albumArtUrl:H},Track4:{file:Z,track:3,album:"Music for Touching",artist:"Cookies",title:"Crybaby (A)",href:"",albumArtUrl:H}}},$=function(){return nt.dispatch({type:"LOADING_STARTED",data:{loading:!0}})},nn=function(){return nt.dispatch({type:"LOADING_FINISHED",data:{loading:!1}})},en=function(n){return nt.dispatch({type:"TOGGLE_REPEAT",data:{repeat:n}})},tn=function(){return nt.dispatch({type:"PLAYING"})},an=function(){return nt.dispatch({type:"PAUSED"})},rn=function(n){return nt.dispatch({type:"SET_CURRENT_TRACK",data:{trackIndex:n}})},on=function(n){return nt.dispatch({type:"ADD_TRACKS",data:{tracks:n}})},sn=function(n){return nt.dispatch({type:"ARRANGE_TRACKS",data:{playlist:n}})},ln=function(n){return nt.dispatch({type:"REMOVE_TRACK",data:{trackIndex:n}})},cn=t.p+"images/818bb7b33691bf1b5e4c3c2387fdd991.jpeg",un=function(){function n(){A()(this,n),this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.repeat="off",this.reduxState=J,this.changeSrc=!0,this.analyser=new j(this.audioElement),this.setupEventListeners(),this.syncManagerWithStore(),E(this)}return h()(n,[{key:"syncManagerWithStore",value:function(){var n=this;nt.subscribe((function(){n.reduxState=nt.getState().audio,n.reduxState.currentTrack!==n.currentTrack?(n.currentTrack=n.reduxState.currentTrack,n.changeTrack=!0):n.changeTrack=!1}))}},{key:"togglePlay",value:function(){var n=this.audioElement;n.src||rn(0),n.paused||n.ended?this.playAndReport():n.pause()}},{key:"updateMediaSession",value:function(n){var e=n.title,t=n.artist,i=n.album,a=n.albumArtUrl;this.audioElement.title="「".concat("SATURN.FM」",e," - ").concat(t),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:e,artist:t,album:i,artwork:[{src:a||cn,sizes:"512x512"}]}))}},{key:"playAndReport",value:function(){var n=this,e=this.reduxState,t=e.tracks,i=e.playlist,a=e.currentTrack,r=i[void 0===a?0:a],o=t[r].file;if(o instanceof File){var s=URL.createObjectURL(o);this.audioElement.src!==s&&(this.audioElement.src=s),this.audioElement.play(),this.audioElement.play().then((function(){n.updateMediaSession(t[r])}))}else{console.log({nextSong:o});var l=o.split("./songs");console.log({splitSrc:l});var c=l.length>0;console.log({isFromDefaultPlaylist:c});var u=c?l[0]:o;console.log({derivedSrc:u}),console.log("current src",this.audioElement.src),(!this.audioElement.src||u.length>0&&!this.audioElement.src.includes(u))&&(this.audioElement.src=o),this.audioElement.play().then((function(){n.updateMediaSession(t[r])}))}}},{key:"revokeSongUrl",value:function(){var n=this.reduxState,e=n.tracks,t=n.playlist,i=n.currentTrack,a=void 0===i?0:i;if(1!==t.length){var r=e[t[a]].file;r instanceof File&&URL.revokeObjectURL(r)}}},{key:"loadNext",value:function(n){this.revokeSongUrl();var e=this.reduxState.currentTrack+1;e>=this.reduxState.playlist.length?(rn(0),n&&"context"!==this.reduxState.repeat||this.playAndReport()):(rn(e),this.playAndReport())}},{key:"loadPrevious",value:function(){this.revokeSongUrl();var n=this.reduxState.currentTrack;rn(n?n-1:0),this.playAndReport()}},{key:"setupEventListeners",value:function(){var n=this;this.audioElement.addEventListener("loadstart",(function(){return $()})),this.audioElement.addEventListener("canplaythrough",(function(){return nn()})),this.audioElement.addEventListener("play",(function(){tn(),n.analyser.start()})),this.audioElement.addEventListener("pause",(function(){an(),n.analyser.pause()})),this.audioElement.addEventListener("ended",(function(){"track"===n.reduxState.repeat?n.togglePlay():n.loadNext(!0)})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){return n.togglePlay()})),navigator.mediaSession.setActionHandler("pause",(function(){return n.togglePlay()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return n.previousTrack()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return n.nextTrack()})))}},{key:"nextTrack",value:function(){this.loadNext()}},{key:"previousTrack",value:function(){this.audioElement.currentTime>=3?this.audioElement.currentTime=0:this.loadPrevious()}},{key:"pause",value:function(){this.audioElement.pause()}},{key:"stop",value:function(){this.audioElement.pause(),this.audioElement.currentTime=0}},{key:"toggleRepeat",value:function(){var n;switch(this.reduxState.repeat){case"off":n="track";break;case"track":n="context";break;default:n="off"}en(n)}},{key:"analyserFFT",get:function(){return this.analyser.averageFFT}},{key:"rawFFT",get:function(){return this.analyser.rawFFT}},{key:"currentTime",get:function(){return this.audioElement.currentTime}}]),n}(),dn=t(13),mn=t.n(dn),An=t(33),pn=t.n(An),hn=function(n,e){return Math.random()*(n-e)+e},fn=function(n,e){var t,i,a,r=142.5-(t=.75*e,i=Math.log(1),a=(Math.log(142)-i)/100,Math.exp(i+a*(t-0))),o=new I.Color("hsl(".concat(r>0?r:0,", 100%, 48%)")),s=o.r,l=o.g,c=o.b;return new S.Tween(n.material.color).to({r:s,g:l,b:c},100).easing(S.Easing.Linear.None).start()},Cn=function(n,e){fn(n,e);var t=.007*e>1?1:.007*e;n.morphTargetInfluences[0]=t;var i=.008*e+.5,a=i<1.65?i:1.65;return new S.Tween(n.scale).to({x:a,y:a,z:a},50).easing(S.Easing.Linear.None).start()},gn=function(n,e){var t=e?-Math.abs(.03):.03,i=e?-Math.abs(.01):.01;n.rotateX(hn(t,i)),n.rotateY(hn(t,i))},yn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;i?n.position.y+=.0075:t&&(n.position.y-=.0075),n.rotateY(.0025*e)};function bn(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=w()(n);if(e){var a=w()(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return B()(this,t)}}var Bn=function(n){y()(t,n);var e=bn(t);function t(n){var i;return A()(this,t),(i=e.call(this,n)).debouncedResize=null,i.loader=new pn.a,i.animateDownL=!0,i.animateUpL=!1,i.animateDownR=!0,i.animateUpR=!1,E(C()(i)),window.addEventListener("resize",(function(){clearTimeout(i.debouncedResize),i.debouncedResize=setTimeout(i.onResize,250)})),window.addEventListener("orientationchange",(function(){i.onResize()})),i}return h()(t,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(n){return this.props.hidden!==n.hidden}},{key:"onResize",value:function(){var n=D(),e=.75*n;this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e)}},{key:"setupScene",value:function(){var n=D(),e=.75*n,t=new I.Scene,i=new I.PerspectiveCamera(20,n/e,1,1200);i.position.z=45,i.position.y=-27;var a=new I.AmbientLight(16777215,.35),r=new I.DirectionalLight(16777215,.7);r.position.set(0,500,900),t.add(a,r);var o=new I.WebGLRenderer({alpha:!0,antialias:!1}),s=window.devicePixelRatio;o.setPixelRatio(1===s?.5*s:.15*s),o.setSize(n,e),this.scene=t,this.camera=i,this.renderer=o,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(n,e){var t=this,i=mn()(e,3),a=i[0],r=i[1],o=i[2];this.loader.load("./models/cubeBigger.gltf",(function(e){var i=mn()(e.scene.children,3)[2];i.material.color=new I.Color("hsl(143, 100%, 48%)"),i.material.dithering=!0,i.material.flatShading=!1,i.position.set(a,r,o),i.rotateX(.075),"rightCube"===n?i.rotateY(.075):i.rotateY(-.1),t[n]=i,t.scene.add(i),"rightCube"===n&&t.props.setAnimationCallback(t.animate)}))}},{key:"animate",value:function(){if(this.props.playing){var n=mn()(this.props.audioManager.analyserFFT,2),e=n[0],t=n[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,Cn(this.leftCube,e),Cn(this.rightCube,t),gn(this.leftCube),gn(this.rightCube,-1)}else{var i=this.leftCube.position.y;i>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),i<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var a=this.rightCube.position.y;a>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),a<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),yn(this.leftCube,.35,this.animateDownL,this.animateUpL),yn(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var n=this;return r.a.createElement("div",{className:"cubes",ref:function(e){n.mount=e}})}}]),t}(r.a.Component);Bn.propTypes={setAnimationCallback:T.a.func.isRequired,audioManager:T.a.shape({}).isRequired,playing:T.a.bool.isRequired,hidden:T.a.bool.isRequired};var vn=Bn,wn=t.p+"images/543a72f6f864fc8510ea00ec42576c97.png",kn=t.p+"images/0bbfcff4472b1f675fd40a82519634a3.png",Tn=t.p+"images/002dd322a815a9564be6e1935bd86dae.png",xn=t.p+"images/d15ab5d39baa5d5cf453752383c0805f.png",En=t.p+"images/5e38e41d27cca8a06521f15f8f44a93e.png",In=t.p+"images/aa4138b43c8fc8be9e062c9b238e79c9.png",Sn=t.p+"images/4e00a72f43366d3d78c29876e3ea273d.png",Rn=t.p+"images/c9c13bb55f77610c72c57d28e12fbafe.png",Mn=t.p+"images/0d8d1f45572906e55ef762143d0c5f6c.gif",Dn=t.p+"images/777c6fbc3202247c243985661ac68b16.gif",Ln=t.p+"images/222a3f19cc7a7ce394a9c474b7e95477.png",zn=new I.CylinderGeometry(1.45,1.45,.35,40,1,!0),On=(new I.TextureLoader).load(Mn),Pn=(new I.TextureLoader).load(Dn);On.magFilter=I.NearestFilter,Pn.magFilter=I.NearestFilter;var Fn=new I.MeshBasicMaterial({side:I.DoubleSide,transparent:!0,map:On}),jn=new I.MeshBasicMaterial({side:I.DoubleSide,transparent:!0,map:Pn}),Un=new I.PlaneGeometry(2,2,1,1),Nn=new I.PlaneGeometry(1.5,1.5,1,1),qn=(new I.TextureLoader).load(Ln);function Gn(n,e){var t,i,a,r,o,s,l,c,u,d,m;t=n.position,i=e,a={duration:n.material.userData.animationDuration,delay:n.material.userData.animationDelay,easing:S.Easing.Quadratic.InOut},r=i.x,o=i.y,s=i.z,l=a.easing,c=void 0===l?S.Easing.Quadratic.In:l,u=a.delay,d=a.duration,m=void 0===d?2e3:d,new S.Tween(t).to({x:r,y:o,z:s},m).easing(c).delay(u).start()}var Yn=t.p+"images/eafd93780f7964be6bb714e719850105.png",Wn=t.p+"songs/button-press.mp3",_n=t.p+"songs/button-highlight.mp3",Xn=t.p+"songs/hide.mp3",Zn=t.p+"songs/show.mp3";function Hn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function Kn(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=w()(n);if(e){var a=w()(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return B()(this,t)}}var Qn=function(n){y()(t,n);var e=Kn(t);function t(n){var i;return A()(this,t),(i=e.call(this,n)).timeOut=null,i.planes=[],i.shadowPlanes=[],i.buttonEffect=new Audio,i.buttonEffect.src=Wn,i.highlightEffect=new Audio,i.highlightEffect.src=_n,i.hideEffect=new Audio,i.hideEffect.src=Xn,i.showEffect=new Audio,i.showEffect.src=Zn,i.state={activeButton:"play",allowToggle:!1,introActive:!0},i.clock=new I.Clock,i.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],i.onMouseMoveThrottled=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0;return function(i){var a=new Date;a-t>=e&&(n(i),t=a)}}(i.onMouseMove.bind(C()(i)),100),E(C()(i)),i}return h()(t,[{key:"componentDidMount",value:function(){var n=this;this.setupScene(),this.setupKeyboardListeners(),setTimeout((function(){return n.setState({introActive:!1})}),1e3)}},{key:"shouldComponentUpdate",value:function(n,e){return this.state.activeButton!==e.activeButton||(this.props.hidden!==n.hidden||this.props.paused!==n.paused||this.props.repeat!==n.repeat||this.props.playing!==n.playing)}},{key:"componentDidUpdate",value:function(n,e){if(this.state.activeButton!==e.activeButton){var t=mn()(this.menuElements[this.state.activeButton].position,2),i=t[0],a=t[1];this.orbits.pink.position.set(i,a,2),this.orbits.purple.position.set(i,a,2.03),this.playHighlight()}}},{key:"onResize",value:function(){var n=D(),e=.75*n;this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e)}},{key:"onMouseDown",value:function(n){var e=this;if(n.stopPropagation(),!this.props.hidden){this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.planes);if(t.length>0){var i=t[0].object.material.userData.onClick,a=t[0].object;"running"===this.props.audioManager.analyser.audioContext.state?this.handleMouseDown(a,i):this.props.audioManager.analyser.audioContext.resume().then((function(){e.handleMouseDown(a,i)})).catch((function(n){return console.log(n)}))}}}},{key:"handleMouseDown",value:function(n,e){"hide"!==n.name&&(this.buttonEffect.currentTime=0,this.buttonEffect.play()),O(n,e)}},{key:"onMouseMove",value:function(n){var e=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(n.clientX-1.5*e.left)/(e.width-e.left)*2-1,this.mouse.y=-(n.clientY-e.top)/(e.bottom-e.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var n=this;window.addEventListener("keydown",(function(e){var t=n.buttons.indexOf(n.state.activeButton);switch(e.code){case"ArrowRight":2!==t&&5!==t&&(t+=1);break;case"ArrowLeft":3!==t&&6!==t&&(t-=1);break;case"ArrowUp":t-=3;break;case"ArrowDown":t+=3;break;case"Enter":var i=n.buttons[t],a=n.planes.find((function(n){return n.name===i}));"running"===n.props.audioManager.analyser.audioContext.state?(n.buttonEffect.currentTime=0,n.buttonEffect.play(),O(a,n.menuElements[i].onClick)):n.props.audioManager.analyser.audioContext.resume().then((function(){n.buttonEffect.currentTime=0,n.buttonEffect.play(),O(a,n.menuElements[i].onClick)})).catch((function(n){return console.log(n)}));break;default:t=-1}t>=0&&t<n.buttons.length&&n.setState({activeButton:n.buttons[t]})}))}},{key:"setupScene",value:function(){var n=D(),e=.75*n,t=new I.Scene,i=new I.PerspectiveCamera(2.5,n/e,1,500);i.aspect=n/e,i.position.z=360,i.position.y=.5,i.updateProjectionMatrix();var a=new I.WebGLRenderer({alpha:!0,antialias:!1});a.setSize(n,e),this.mouse=new I.Vector2,this.raycaster=new I.Raycaster,this.scene=t,this.camera=i,this.renderer=a,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.props.setAnimationCallback(this.animate)}},{key:"setupEventListeners",value:function(){var n=this,e=this.renderer.domElement;window.addEventListener("resize",(function(){clearTimeout(n.timeOut),n.timeOut=setTimeout(n.onResize,250)})),window.addEventListener("orientationchange",(function(){n.onResize()})),e.addEventListener("mousedown",(function(e){return n.onMouseDown(e)}),!1),e.addEventListener("mousemove",(function(e){return n.onMouseMoveThrottled(e)}),!1)}},{key:"setupOrbAnimation",value:function(){var n=(new I.TextureLoader).load(Yn);n.magFilter=I.NearestFilter,n.minFilter=I.NearestFilter,this.textureAnimator=new P(n);var e=new I.MeshBasicMaterial({map:n,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:this.props.toggleAbout}}),t=new I.Mesh(Un,e);t.position.set(2.25,-4.3,1),t.name="advanced",qn.magFilter=I.NearestFilter,qn.minFilter=I.NearestFilter;var i=new I.MeshBasicMaterial({map:qn,transparent:!0,opacity:.5,userData:{animationDelay:900,animationDuration:300}}),a=new I.Mesh(Nn,i);a.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(a),this.scene.add(a),this.planes.push(t),this.scene.add(t)}},{key:"getToolTip",value:function(){var n=this.props,e=n.playing,t=n.paused,i=n.repeat,a=F().menu;return{disc:function(){return r.a.createElement("p",null,a.disc)},settings:function(){return r.a.createElement("p",null,a.settings)},hide:function(){return r.a.createElement("p",null,a.hide)},rewind:function(){return r.a.createElement("p",null,a.skipBackwards)},fastforward:function(){return r.a.createElement("p",null,a.skipForwards)},play:function(){var n=r.a.createElement("p",null,a.play," / ",a.pause);return e?n=r.a.createElement("p",null,r.a.createElement("strong",null,a.play)," / ",a.pause):t&&(n=r.a.createElement("p",null,a.play," / ",r.a.createElement("strong",null,a.pause))),n},repeat:function(){var n=r.a.createElement("p",null,a.repeat,": ",a.repeatOne," / ",a.repeatAll," /"," ",r.a.createElement("strong",null,a.repeatOff));return"track"===i?n=r.a.createElement("p",null,a.repeat,": ",r.a.createElement("strong",null,a.repeatOne)," /"," ",a.repeatAll," / ",a.repeatOff):"context"===i&&(n=r.a.createElement("p",null,a.repeat,": ",a.repeatOne," /"," ",r.a.createElement("strong",null,a.repeatAll)," / ",a.repeatOff)),n},stop:function(){return r.a.createElement("p",null,a.stop)},advanced:function(){return r.a.createElement("p",null,a.advanced)}}[this.state.activeButton]()}},{key:"orbitButton",value:function(){var n=this.orbits,e=n.pink,t=n.purple;this.props.hidden?(e.material.visible=!1,t.material.visible=!1):(e.material.visible=!0,t.material.visible=!0,e.rotateY(-.065),t.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.planes);if(n.length>0){var e=n[0].object.material.name;e&&e!==this.state.activeButton&&this.setState({activeButton:e}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var n=this;return this.props.hidden?this.showIfHidden():(this.hideEffect.currentTime=0,this.hideEffect.play(),setTimeout((function(){n.planes.forEach((function(n){var e=n.position,t=e.x,i=e.y,a=e.z;Gn(n,new I.Vector3(t,i-10,a))})),n.shadowPlanes.forEach((function(n){n.visible=!1})),n.props.hideDash()}),450),setTimeout((function(){return n.setState({allowToggle:!0})}),1400))}},{key:"animate",value:function(){S.update(),this.orbitButton();var n=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*n)}},{key:"showIfHidden",value:function(){var n=this;this.state.allowToggle&&this.props.hidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.showEffect.currentTime=0,this.showEffect.play(),this.planes.forEach((function(n){var e=n.position,t=e.x,i=e.y,a=e.z;Gn(n,new I.Vector3(t,i+10,a))})),setTimeout((function(){n.shadowPlanes.forEach((function(n){n.visible=!0}))}),1e3))}},{key:"placeInScene",value:function(n){var e=n.name,t=void 0===e?"":e,i=n.position,a=n.onClick,r=n.mapSrc,o=n.animationDelay,s=n.animationDuration,l=n.showShadow,c=mn()(i,3),u=c[0],d=c[1],m=c[2],A=(new I.TextureLoader).load(r);A.magFilter=I.NearestFilter,A.minFilter=I.NearestFilter;var p=new I.MeshBasicMaterial({map:A,transparent:!0,name:t,userData:{onClick:a,animationDelay:o,animationDuration:s}}),h=new I.Mesh(Un,p);if(h.position.set(u,d,m),h.name=t,l){qn.magFilter=I.NearestFilter,qn.minFilter=I.NearestFilter;var f=new I.MeshBasicMaterial({map:qn,transparent:!0,opacity:.5,name:t,userData:{animationDelay:o,animationDuration:s}}),C=new I.Mesh(Nn,f);C.position.set(u,d-1.025,m-.5),this.shadowPlanes.push(C),this.scene.add(C)}this.planes.push(h),this.scene.add(h)}},{key:"placeOrbitsInScene",value:function(){var n=new I.Mesh(zn,jn),e=new I.Mesh(zn,Fn);n.position.set(0,-2.15,2),n.rotateX(.35),n.rotateZ(-.8),e.position.set(0,-2.15,2.03),e.rotateZ(.8),e.rotateX(.25),e.rotateY(1),this.orbits={pink:n,purple:e},this.scene.add(n,e)}},{key:"createMenuElements",value:function(){var n,e,t,i=this,a=(n=this.props.audioManager,e=this.hideMenu,t=this.props.toggleMenu,[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(t(),500)},animationDuration:400,animationDelay:220,mapSrc:wn,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:kn,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:e,animationDelay:180,animationDuration:400,mapSrc:Tn,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:n.previousTrack,animationDelay:500,animationDuration:350,mapSrc:xn,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:n.togglePlay,animationDelay:300,animationDuration:350,mapSrc:En,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:n.nextTrack,animationDelay:280,animationDuration:350,mapSrc:In},{name:"repeat",position:[-2.25,-4.3,1],onClick:n.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:Rn,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:n.stop,animationDelay:700,animationDuration:300,mapSrc:Sn,showShadow:!0}]);a.forEach((function(n){return i.placeInScene(n)})),this.menuElements=a.reduce((function(n,e){var t=e.name,i=e.position,a=e.onClick;return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(t),!0).forEach((function(e){W()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}(W()({},t,{onClick:a,position:i}),n)}),{}),this.menuElements.advanced={onClick:this.props.toggleAbout,position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"playHighlight",value:function(){void 0!==window.orientation||this.state.introActive||"running"===this.props.audioManager.analyser.audioContext.state&&(this.highlightEffect.currentTime=0,this.highlightEffect.play())}},{key:"render",value:function(){var n=this;return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(e){n.mount=e}}),r.a.createElement("div",{className:"tooltips",key:this.state.activeButton},this.getToolTip()))}}]),t}(r.a.Component);Qn.propTypes={toggleMenu:T.a.func.isRequired,repeat:T.a.oneOf(["off","context","track"]).isRequired,hideDash:T.a.func.isRequired,hidden:T.a.bool.isRequired,showIfHidden:T.a.func.isRequired,audioManager:T.a.shape({}).isRequired};var Vn=Qn,Jn=t(7),$n=t.p+"images/57e24614352a90824b34fdc4411b3795.png",ne=t.p+"images/a45c3be41aef2a6557c01e81a079f19b.png",ee=function(n){var e=n.children;return r.a.createElement(te,null,e)},te=Jn.b.h2.withConfig({displayName:"ModalHeader__Header",componentId:"sc-1ntnrm9-0"})(["line-height:59px;padding:2px 22px 6px;font-size:42px;text-stroke:0.45px rgba(0,0,0,0.5);color:white;text-transform:capitalize;padding:4px 1.5em 0;margin:0 auto;margin-bottom:20px;background:url(",");background-color:rgba(0,0,0,0.5);background-size:100% 100%;border-radius:10px;display:inline-block;"],ne),ie=function(n){return r.a.createElement(le,null,r.a.createElement(ce,{className:n.className},r.a.createElement(ue,null,r.a.createElement(ee,null,n.header),r.a.createElement(de,null,n.children))))},ae=Object(Jn.c)(["from{filter:brightness(0);}to{filter:brightness(1);}"]),re=Object(Jn.a)(["animation-name:",";animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms;"],ae),oe=Object(Jn.a)(["image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;"]),se=Object(Jn.c)(["from{opacity:0;}to{opacity:1;}"]),le=Jn.b.div.withConfig({displayName:"Modal__FullscreenOverlay",componentId:"sc-1rc4znx-0"})(["background:black;position:fixed;top:0;bottom:0;right:0;left:0;z-index:100;"]),ce=Jn.b.div.withConfig({displayName:"Modal__ContainerWithAnimatedBackground",componentId:"sc-1rc4znx-1"})(['padding:2em;height:100%;cursor:default;font-size:14px;&:before{position:absolute;left:0;right:0;bottom:0;top:0;content:" ";display:block;filter:brightness(0);'," ",";background:url(",") repeat-y;background-position:center top;background-size:100% 880px;z-index:-1;}"],re,oe,$n),ue=Jn.b.div.withConfig({displayName:"Modal__ChildrenWrapper",componentId:"sc-1rc4znx-2"})(["max-width:1000px;margin:0 auto;opacity:0;animation-name:",";animation-duration:10ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:1.35s;display:flex;height:100%;flex-direction:column;align-items:center;"],se),de=Jn.b.div.withConfig({displayName:"Modal__MainContent",componentId:"sc-1rc4znx-3"})(["width:100%;font-size:13px;color:white;min-height:200px;height:100%;overflow-y:scroll;display:flex;flex-direction:column;align-items:center;@media screen and (min-width:500px){padding:4px;}"]),me=function(n){return r.a.createElement(ie,{header:"About",className:"About"},r.a.createElement(pe,null,r.a.createElement("p",null,r.a.createElement("em",null,"Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.")),r.a.createElement("ul",null,r.a.createElement(Ae,{icon:"",href:"mailto:mcamis@gmail.com"},"mcamis@gmail.com"),r.a.createElement(Ae,{href:"https://twitter.com/vmu_beep"},"https://twitter.com/vmu_beep"),r.a.createElement(Ae,{href:"https://adam.mcamis.lol"},"https://adam.mcamis.lol"),r.a.createElement(Ae,{href:"https://github.com/mcamis/saturn.fm"},"https://github.com/mcamis/saturn.fm"))),r.a.createElement("button",{className:"close",type:"button",onClick:n.toggleAbout},"Exit"))},Ae=function(n){return r.a.createElement("li",null,r.a.createElement("span",{role:"img","aria-label":"icon"},n.icon)," ",r.a.createElement("a",{href:n.href},n.hildren))},pe=Jn.b.div.withConfig({displayName:"About__MainContent",componentId:"sc-168iblg-0"})(["font-size:16px !important;text-align:left;padding:1em;line-height:22px;em{margin:0.5em;padding:1em 1em 1em 2em;display:inline-block;border-left:2px solid white;}a{text-decoration:none;color:#f2f2f2;margin-left:0.5em;}ul{margin-top:2em;}ul li{list-style-type:none;margin-bottom:15px;}}"]);me.propTypes={toggleAbout:T.a.func.isRequired};var he=me,fe=t(36),Ce=t(49),ge=t.n(Ce),ye=t(85);function be(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return Be(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Be(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){s=!0,r=n},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}}function Be(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}async function ve(n){var e={};try{e=await function(n){return new Promise((function(e,t){ge.a.read(n,{onSuccess:function(n){return e(n)},onError:function(n){return t(n)}})}))}(n)}catch(n){console.log("Fetching Tags Error",n)}var t,i=e.tags,a=(i=void 0===i?{}:i).artist,r=void 0===a?"":a,o=i.album,s=void 0===o?"":o,l=i.title,c=void 0===l?n.name:l,u=i.track,d=void 0===u?0:u,m=i.picture,A=void 0===m?{}:m,p=A.data,h=A.type;if(p){var f=new Uint8Array(p),C=new Blob([f],{type:h});t=URL.createObjectURL(C)}return{file:n,track:d,artist:r,album:s,title:c,albumArtUrl:t}}async function we(n){var e;try{e=await async function(n){var e=n.extensions,t=void 0===e?null:e,i=n.allowDirectory,a=void 0!==i&&i;return new Promise((function(n){var e=document.createElement("input");t&&e.setAttribute("accept",t),e.type="file",e.multiple=!0,e.webkitdirectory=a,e.directory=a,e.mozdirectory=a,e.addEventListener("change",(function(e){n(e.target.files)})),e.click()}))}(n)}catch(n){console.log(n)}return await async function(n){var e,t=[],i=be(n);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.type.includes("audio")&&t.push(ve(a))}}catch(n){i.e(n)}finally{i.f()}return(await Promise.all(t)).reduce((function(n,e){return n[Object(ye.a)()]=e,n}),{})}(e)}function ke(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=w()(n);if(e){var a=w()(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return B()(this,t)}}var Te=function(n){var e=n.isDragging,t=n.currentPlaying;return"draggable ".concat(e?"isDragging":""," ").concat(t?"currentTrack":"")},xe=function(n){y()(t,n);var e=ke(t);function t(n){var i;return A()(this,t),(i=e.call(this,n)).onDragEnd=i.onDragEnd.bind(C()(i)),i}return h()(t,[{key:"onDragEnd",value:function(n){var e=this.props.audio.currentTrack;if(n.destination){var t=function(n,e,t){var i=Array.from(n),a=i.splice(e,1),r=mn()(a,1)[0];return i.splice(t,0,r),i}(this.props.audio.playlist,n.source.index,n.destination.index);n.source.index===e?this.props.setCurrentTrack(n.destination.index):n.destination.index===e?n.source.index<e?this.props.setCurrentTrack(e-1):this.props.setCurrentTrack(n.destination.index?e+1:1):n.source.index>e&&e>n.destination.index?this.props.setCurrentTrack(e+1):n.source.index<e&&e<n.destination.index&&this.props.setCurrentTrack(e-1),this.props.arrangeTracks(t)}}},{key:"getTracks",value:async function(){var n=await we({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(n)}},{key:"getDirectory",value:async function(){var n=await we({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(n)}},{key:"render",value:function(){var n=this,e=this.props.audio,t=e.currentTrack,i=e.playing,a=e.playlist,o=e.tracks,s=F(),l=s.fileReader,u=s.playlist;return r.a.createElement(ie,{className:"FileReader",header:l.header},r.a.createElement(Ie,null,r.a.createElement(Re,null,r.a.createElement("div",null,u.number),r.a.createElement("div",null,u.title),r.a.createElement("div",null,u.artist),r.a.createElement("div",null,u.album),r.a.createElement("div",null)),r.a.createElement(De,null,r.a.createElement(fe.a,{onDragEnd:this.onDragEnd},r.a.createElement(fe.c,{droppableId:"droppable"},(function(e){return r.a.createElement("div",{ref:e.innerRef},a.map((function(e,s){var l=o[e],u=l.artist,d=l.album,m=l.title,A=i&&e===a[t];return r.a.createElement(fe.b,{key:e,draggableId:e,index:s},(function(e,t){var i=t.isDragging;return r.a.createElement("div",c()({className:Te({isDragging:i,currentPlaying:A}),ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement("div",null,A?"▱":s+1),r.a.createElement("div",null,m),r.a.createElement("div",null,u),r.a.createElement("div",null,d),r.a.createElement("button",{className:"icon-button",onClick:function(){return n.props.removeTrack(s)},type:"button"},"▵"))}))})),e.placeholder)}))))),r.a.createElement(Ee,null,r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getDirectory()}},"Add a directory"),r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getTracks()}},"Add file(s)")),r.a.createElement(Se,null,r.a.createElement("button",{className:"exit-button",type:"button",onClick:this.props.toggleMenu},"Exit")))}}]),t}(a.Component),Ee=Jn.b.div.withConfig({displayName:"FileReader__EditorControlButtons",componentId:"ct0el1-0"})(["margin-top:2em;button{margin:0 1em;}"]),Ie=Jn.b.div.withConfig({displayName:"FileReader__PlaylistWrapper",componentId:"ct0el1-1"})(["width:100%;max-height:calc(var(--vh,1vh) * 60);display:flex;flex-direction:column;align-items:center;border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);"]),Se=Jn.b.footer.withConfig({displayName:"FileReader__PlaylistFooter",componentId:"ct0el1-2"})(["margin-top:auto;"]),Re=Jn.b.div.withConfig({displayName:"FileReader__PlaylistHeader",componentId:"ct0el1-3"})(["background-color:rgba(131,23,71,0.65);border-bottom:1px solid rgba(255,255,255,0.25);width:100%;display:flex;flex-direction:row;color:white;text-align:left;font-size:42px;text-transform:capitalize;@media screen and (min-width:500px){padding:14px 0 0;}div:nth-child(1){width:40px;}div:nth-child(2){width:40%;max-width:400px;}div:nth-child(3){width:25%;max-width:200px;}div:nth-child(4){width:25%;max-width:200px;}div:nth-child(5){width:30px;}"]),Me=Object(Jn.c)(["0%{background:rgba(255,255,255,0.1);}50%{background:rgba(255,255,255,0.25);}100%{background:rgba(255,255,255,0.1);}"]),De=Jn.b.div.withConfig({displayName:"FileReader__PlaylistEditor",componentId:"ct0el1-4"})(["background-color:rgba(131,23,71,0.65);width:100%;.draggable{*{user-select:none;}cursor:grab;border-radius:2px;margin:0 0 2px;display:flex;flex-direction:row;text-align:left;align-items:center;font-size:10px;font-family:ChibiPhoebe;text-transform:uppercase;letter-spacing:1px;font-size:20px;@media screen and (min-width:500px){font-size:26px;line-height:14px;padding:3px 0 3px;margin:0;}p{margin:0;padding:0;}&:hover{animation:"," 3s infinite;}&:active{cursor:grabbing !important;}&.isDragging{cursor:grabbing;border:1px white;background:rgba(255,255,255,0.5);border-radius:2px;}div:nth-child(1){width:40px;}div:nth-child(2){width:40%;max-width:400px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}div:nth-child(3){width:25%;max-width:300px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}div:nth-child(4){width:25%;max-width:300px;overflow:hidden;white-space:pre;text-overflow:ellipsis;}button{font-family:ChibiPhoebe;transition:all 200ms ease;color:white;background:none;border:0;outline:0;padding:0;margin:0 auto;line-height:inherit;}}"],Me);xe.propTypes={audio:T.a.shape({tracks:T.a.object.isRequired,playlist:T.a.array.isRequired}).isRequired,arrangeTracks:T.a.func.isRequired,addTracks:T.a.func.isRequired,removeTrack:T.a.func.isRequired,toggleMenu:T.a.func.isRequired};var Le=xe;var ze=function(n){var e,t,i,o=n.audioManager,s=n.currentTrack,l=Object(a.useState)(0),c=mn()(l,2),u=c[0],d=c[1];return e=function(){d(o.currentTime)},t=1e3,i=Object(a.useRef)(),Object(a.useEffect)((function(){i.current=e})),Object(a.useEffect)((function(){if(null!==t){var n=setInterval((function(){i.current()}),t);return function(){return clearInterval(n)}}}),[t]),r.a.createElement("header",null,r.a.createElement("h3",null,"Track"),r.a.createElement("p",{className:"track-number"},s+1),r.a.createElement("h3",null,"Time"),r.a.createElement("p",null,L(u)))};ze.propTypes={audioManager:T.a.shape({})};var Oe=ze;function Pe(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=w()(n);if(e){var a=w()(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return B()(this,t)}}var Fe={plain:[2.5,-3.5,510],spinny:[-2.5,3.5,505],fast:[0,3,510]},je=function(n){y()(t,n);var e=Pe(t);function t(n){var i;A()(this,t),(i=e.call(this,n)).timeOut=null,E(C()(i));var a=D(),r=window.innerHeight;i.width=a,i.height=r;var o=new I.BufferGeometry,s=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);return o.setAttribute("position",new I.BufferAttribute(s,3)),i.blueMaterial=new I.MeshBasicMaterial({color:7707903}),i.redMaterial=new I.MeshBasicMaterial({color:16741754}),i.yellowMaterial=new I.MeshBasicMaterial({color:15589691}),i.whiteMaterial=new I.MeshBasicMaterial({color:16777215}),i.starGeometry=o,window.addEventListener("resize",(function(){clearTimeout(i.timeOut),i.timeOut=setTimeout(i.onResize,250)})),window.addEventListener("orientationchange",(function(){i.onResize()})),i}return h()(t,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(n){return this.props.hidden!==n.hidden||this.props.animation!==n.animation}},{key:"componentDidUpdate",value:function(n){if(this.props.animation!==n.animation){var e=mn()(Fe[this.props.animation],3),t=e[0],i=e[1],a=e[2];this.spaceShip.position.set(t,i,a)}}},{key:"onResize",value:function(){var n=D(),e=window.innerHeight;this.width=n,this.height=e,this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e)}},{key:"setupScene",value:function(){var n=new I.Scene,e=new I.PerspectiveCamera(70,this.width/this.height,1,1e3),t=new I.DirectionalLight(16777215,3),i=new I.DirectionalLight(16777215,2),a=new I.DirectionalLight(16777215,2);t.position.set(-10,46,600),i.position.set(-200,46,500),a.position.set(200,46,500),n.add(t,i,a);var r=new I.WebGLRenderer({alpha:!0,antialias:!1});r.setClearColor(16777215),e.position.z=500;var o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),s=window.devicePixelRatio;r.setPixelRatio(1===s||o?.65*s:.25*s),r.setSize(this.width,this.height),r.setClearColor(0,0),this.camera=e,this.renderer=r,this.scene=n,this.stars=this.stars||[],this.mount.appendChild(this.renderer.domElement),this.setupSpaceShip(),this.addStars(),this.props.setAnimationCallback(this.animate)}},{key:"setupSpaceShip",value:function(){var n=this;(new pn.a).load("./models/saturn_v1.gltf",(function(e){var t=e.scene,i=mn()(Fe[n.props.animation],3),a=i[0],r=i[1],o=i[2];t.position.set(a,r,o),t.rotateZ(3.5),t.rotateY(Math.PI),t.visible=!1;var s=t.children[1].material.map;s.magFilter=I.LinearFilter,s.minFilter=I.LinearFilter,s.generateMipmaps=!1,n.spaceShip=t,window.ship=t,n.scene.add(t)}))}},{key:"animate",value:function(){this.animateStars(),this.renderScene(),this.spaceShip&&(this.props.hidden?(this.spaceShip.visible=!0,"plain"===this.props.animation?this.plain():"spinny"===this.props.animation?this.spinny():"fast"===this.props.animation&&this.fast()):this.spaceShip.visible=!1)}},{key:"plain",value:function(){this.spaceShip.rotateZ(.01),this.spaceShip.position.z-=.045,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"spinny",value:function(){this.spaceShip.rotateZ(.0025),this.spaceShip.position.z-=.2,this.spaceShip.position.x+=.05,this.spaceShip.position.y+=.025,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"fast",value:function(){this.spaceShip.rotateZ(-.005),this.spaceShip.position.z-=.05,this.spaceShip.position.x-=.0075,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"addStars",value:function(){for(var n=-500;n<500;n+=13){var e=this.whiteMaterial;n>0&&n<100?e=this.redMaterial:n>100&&n<200?e=this.yellowMaterial:n>100&&n<200&&(e=this.blueMaterial);var t=new I.Mesh(this.starGeometry,e);t.position.x=z(this.width),t.position.y=z(this.height),t.position.z=n;var i=2*Math.random()+1,a=this.width<500?.75:1;t.scale.set(i*a,i*a,1),this.scene.add(t),this.stars.push(t)}}},{key:"animateStars",value:function(){for(var n=0;n<this.stars.length;n+=1){var e=this.props.useSlow?5:20;this.stars[n].position.z+=e*Math.random(),this.stars[n].position.z>550&&(this.stars[n].position.z-=800,this.stars[n].position.x=z(this.width),this.stars[n].position.y=z(this.height))}}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var n=this;return r.a.createElement("div",{className:"StarField"},r.a.createElement("div",{ref:function(e){n.mount=e}}))}}]),t}(r.a.Component);je.propTypes={hidden:T.a.bool.isRequired,animation:T.a.string.isRequired,setRandomAnimation:T.a.func.isRequired,setAnimationCallback:T.a.func.isRequired};var Ue=je,Ne=function(n){var e=n.href,t=n.artist,i=n.title;return r.a.createElement("div",{className:"current-track-info nice",key:i+t},r.a.createElement("p",null,i," ",t&&r.a.createElement(r.a.Fragment,null,"- ",t)),e&&r.a.createElement("p",null,r.a.createElement("a",{href:e,target:"blank"},e)))};Ne.propTypes={href:T.a.string,artist:T.a.string.isRequired,title:T.a.string.isRequired},Ne.defaultProps={href:""};var qe=Ne,Ge=t.p+"songs/intro.mp3";function Ye(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=w()(n);if(e){var a=w()(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return B()(this,t)}}var We=function(n){y()(t,n);var e=Ye(t);function t(n){var i;return A()(this,t),i=e.call(this,n),E(C()(i)),i.introEffect=new Audio,i.introEffect.src=Ge,i.audioManager=null,i.state={animation:"plain",show:!1,hidden:!1,showAboutModal:!1,fileReaderVisible:!1,frameCallbacks:[]},i.frameId=null,i}return h()(t,[{key:"componentDidMount",value:function(){this.frameId=requestAnimationFrame(this.animate)}},{key:"setupAnalyser",value:function(){var n=this;this.audioManager=new un,this.audioManager.analyser.audioContext.resume().then((function(){n.forceUpdate(),n.playIntro()}))}},{key:"getClassNames",value:function(){var n=this.props.audio,e=n.playing,t=n.paused,i=this.state.hidden?"hidden":"",a=this.audioManager?"intro":" ",r=t?"paused":"",o=e?"playing":"",s=this.state.show?"show":"",l=["ja-JP","ja"].includes(navigator.language)?"japanese":"";return"".concat(i," ").concat(a," ").concat(r," ").concat(o," ").concat(s," ").concat(l)}},{key:"setRandomAnimation",value:function(){var n=this,e=["plain","spinny","fast"].filter((function(e){return e!==n.state.animation})),t=e[Math.floor(Math.random()*e.length)];this.setState({animation:t})}},{key:"setAnimationCallback",value:function(n){this.setState((function(e){return{frameCallbacks:[].concat(d()(e.frameCallbacks),[n])}}))}},{key:"playIntro",value:function(){var n=this;setTimeout((function(){n.introEffect.play()}),350)}},{key:"hideDash",value:function(){var n=["plain","spinny","fast"],e=n[Math.floor(Math.random()*n.length)];this.setState((function(n){return{hidden:!n.hidden,show:!1,animation:e}}))}},{key:"showIfHidden",value:function(){this.state.hidden&&(this.frameId=this.frameId||requestAnimationFrame(this.animate),this.setState({hidden:!1,show:!0}))}},{key:"animate",value:function(){this.state.frameCallbacks.forEach((function(n){return n()})),this.frameId=requestAnimationFrame(this.animate)}},{key:"toggleMenu",value:function(){this.frameId?(cancelAnimationFrame(this.frameId),this.frameId=void 0):requestAnimationFrame(this.animate),this.setState((function(n){return{fileReaderVisible:!n.fileReaderVisible}}))}},{key:"render",value:function(){var n=this,e=this.props.audio,t=e.playing,a=e.paused,o=e.repeat,s=e.playlist,l=e.currentTrack,u=e.tracks[s[l]];return r.a.createElement("div",{className:this.getClassNames()},this.audioManager&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{currentTrack:this.props.audio.currentTrack,audioManager:this.audioManager}),r.a.createElement(Vn,{audioManager:this.audioManager,hidden:this.state.hidden,showIfHidden:this.showIfHidden,toggleMenu:this.toggleMenu,toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))},hideDash:this.hideDash,repeat:o,paused:a,playing:t,setAnimationCallback:this.setAnimationCallback}),r.a.createElement("div",{className:"dashboard"}),r.a.createElement(vn,{audioManager:this.audioManager,hidden:this.state.hidden,paused:a,playing:t,setAnimationCallback:this.setAnimationCallback}),this.props.toast&&r.a.createElement("p",null,this.props.toast),this.state.fileReaderVisible&&r.a.createElement(Le,c()({},i,{audio:this.props.audio,toggleMenu:this.toggleMenu})),this.state.showAboutModal&&r.a.createElement(he,{toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))}}),u&&r.a.createElement(qe,{title:u.title,href:u.href,artist:u.artist})),r.a.createElement(Ue,{useSlow:!this.audioManager,animation:this.state.animation,hidden:this.state.hidden,setAnimationCallback:this.setAnimationCallback,setRandomAnimation:this.setRandomAnimation}),(!this.audioManager||"suspended"===this.audioManager.analyser.audioContext.state)&&r.a.createElement("div",{className:"start-context"},r.a.createElement("button",{type:"button",onClick:function(){return n.setupAnalyser()}},"Press Start")))}}]),t}(a.Component);We.propTypes={audio:T.a.shape({currentTrack:T.a.number,playing:T.a.bool.isRequired,paused:T.a.bool.isRequired,repeat:T.a.oneOf(["off","context","track"]).isRequired}).isRequired,toast:T.a.string},We.defaultProps={toast:""};var _e=Object(x.b)((function(n){return{audio:n.audio}}))(We),Xe=t(15),Ze=Object(Xe.c)({audio:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PLAYING":return V(V({},n),{},{playing:!0,paused:!1});case"PAUSED":return V(V({},n),{},{playing:!1,paused:!0});case"TOGGLE_REPEAT":return V(V({},n),{},{repeat:e.data.repeat});case"SET_CURRENT_TRACK":return V(V({},n),{},{currentTrack:e.data.trackIndex});case"ADD_TRACKS":return V(V({},n),{},{tracks:V(V({},n.tracks),e.data.tracks),playlist:[].concat(d()(n.playlist),d()(Object.keys(e.data.tracks).sort((function(n,t){var i=e.data.tracks[n],a=e.data.tracks[t];return i.album>a.album?1:i.album<a.album?-1:i.track>a.track?1:i.track<a.track?-1:void 0}))))});case"ARRANGE_TRACKS":return V(V({},n),{},{playlist:e.data.playlist});case"REMOVE_TRACK":var t=n.playlist[e.datatrackIndex],i=n.tracks,a=(i[t],G()(i,[t].map(K)));return V(V({},n),{},{playlist:[].concat(d()(n.playlist.slice(0,e.data.trackIndex)),d()(n.playlist.slice(e.data.trackIndex+1))),tracks:V({},a)});default:return n}}});var He=t(50),Ke=t.n(He),Qe=t(38),Ve={insert:"head",singleton:!1},Je=(Ke()(Qe.a,Ve),Qe.a.locals,t(34)),$e=t(35);t(84).a({dsn:"https://992c24dba9924e9a9431f74d2b9515a6@sentry.io/1830195"});var nt=Object(Xe.e)(Ze,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function et(){var n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(n,"px"))}window.addEventListener("resize",(function(){et()})),window.addEventListener("orientationchange",(function(){et()})),setTimeout((function(){et(),[Je.a,$e.a,Yn,wn,kn,Tn,xn,En,In,Sn,Rn,Mn,Dn,Ln].forEach((function(n){(new Image).src=n})),s.a.render(r.a.createElement(x.a,{store:nt},r.a.createElement(_e,null)),document.getElementById("root"))}),100)}});