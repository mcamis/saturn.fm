"use strict";(self.webpackChunksaturn_fm=self.webpackChunksaturn_fm||[]).push([[404],{8404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(6902),a=n(7294),l=n(6261),c=n(7628),i=n.n(c),s=n(4586);const o=e=>"string"==typeof e&&e.length;async function d(e){let t={};try{t=await function(e){return new Promise(((t,n)=>{i().read(e,{onSuccess:e=>t(e),onError:e=>n(e)})}))}(e)}catch(e){console.log("Fetching Tags Error",e)}const{tags:{artist:n,album:r,title:a,track:l,picture:c}={}}=t;let s;if(c?.data){const e=new Uint8Array(c?.data),t=new Blob([e],{type:c?.format});s=URL.createObjectURL(t)}return{file:e,track:l??0,artist:o(n)?n:"Unknown Artist",album:o(r)?r:"Unknown Album",title:o(a)?a:e.name,albumArtUrl:s}}async function u(e){let t;try{t=await async function(e){let{extensions:t,allowDirectory:n}=e;return new Promise((e=>{const r=document.createElement("input");t&&r.setAttribute("accept",t),r.type="file",r.multiple=!0,r.webkitdirectory=n,r.directory=n,r.mozdirectory=n,r.addEventListener("change",(t=>{e(t.target.files),document.body.removeChild(r)})),document.body.appendChild(r),r.click()}))}(e),console.log(t)}catch(e){console.log(e)}return await async function(e){const t=[];for(const n of Array.from(e))n.type.includes("audio")&&t.push(d(n));return(await Promise.all(t)).reduce(((e,t)=>(e.push({...t,id:(0,s.Z)()}),e)),[])}(t)}var m=n(2363),p=n(3297),y=n(6302);const f=e=>{let{isDragging:t,currentPlaying:n}=e;return`draggable ${t?"isDragging":""} ${n?"currentTrack":""}`};function E(e){const t=y.jt.state.tracks[y.jt.state.currentTrackIndex];if(!e.destination)return;const n=((e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r})(y.jt.state.tracks,e.source.index,e.destination.index);e.source.index===t?y.jt.setCurrentTrack(e.destination.index):e.destination.index===t?e.source.index<t?y.jt.setCurrentTrack(t-1):y.jt.setCurrentTrack(e.destination.index?t+1:1):e.source.index>t&&t>e.destination.index?y.jt.setCurrentTrack(t+1):e.source.index<t&&t<e.destination.index&&y.jt.setCurrentTrack(t-1),y.jt.setNewTrackOrder(n)}const g=(0,r.Z)("div")({name:"EditorControlButtons",class:"ey2ytmj"}),b=(0,r.Z)("div")({name:"PlaylistWrapper",class:"puov92m"}),k=(0,r.Z)("footer")({name:"PlaylistFooter",class:"p1tombes"}),v=(0,r.Z)("div")({name:"PlaylistHeader",class:"p1vxy9se"}),w=(0,r.Z)("div")({name:"PlaylistEditor",class:"pvw4qut"}),x=(0,r.Z)("button")({name:"ExitButton",class:"e12f363v"}),h=e=>{const{tracks:t}=(0,y.AE)(),{fileReader:n,playlist:r}=(0,m.TE)();return a.createElement(p.u,{header:n.header},a.createElement(b,null,a.createElement(v,null,a.createElement("div",null,r.number),a.createElement("div",null,r.title),a.createElement("div",null,r.artist),a.createElement("div",null,r.album),a.createElement("div",null)),a.createElement(w,null,a.createElement(l.Z5,{onDragEnd:E},a.createElement(l.bK,{droppableId:"droppable"},(n=>a.createElement("div",{ref:n.innerRef},t.map(((t,n)=>{let{artist:r,album:c,title:i,id:s}=t;return a.createElement(l._l,{key:s,draggableId:s,index:n},((t,l)=>{let{isDragging:s}=l;return a.createElement("div",{className:f({isDragging:s,currentPlaying:!1}),ref:t.innerRef,...t.draggableProps,...t.dragHandleProps},a.createElement("div",null,n+1),a.createElement("div",null,i),a.createElement("div",null,r),a.createElement("div",null,c),a.createElement("button",{className:"icon-button",onClick:()=>e.removeTrack(n),type:"button"},"â–µ"))}))})),n.placeholder)))))),a.createElement(g,null,a.createElement("button",{className:"add-files",type:"button",onClick:()=>async function(){const e=await u({extensions:".mp3, .wav, .aac",allowDirectory:!0});y.jt.addTracks(e)}()},"Add a directory"),a.createElement("button",{className:"add-files",type:"button",onClick:()=>async function(){const e=await u({extensions:".mp3, .m4a, .flac, .wav, .aac"});y.jt.addTracks(e)}()},"Add file(s)")),a.createElement(k,null,a.createElement(x,{type:"button",onClick:e.toggleMenu},"Exit")))};n(7943)},7943:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=404.9d63c7e61147869ffa41.js.map