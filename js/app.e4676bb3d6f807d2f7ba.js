!function(n){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],d=0,A=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&A.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(n[i]=l[i]);for(u&&u(t);A.length;)A.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],i=!0,s=1;s<e.length;s++){var l=e[s];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),n=r(r.s=e[0]))}return n}var i={},a={0:0},o=[];function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([67,1]),e()}({21:function(n,t,e){"use strict";t.a=e.p+"images/baffb4fed1442e55e4b55215d1df2165.png"},22:function(n,t,e){"use strict";t.a=e.p+"images/8499926526ed8b51c05734fea5c3a186.png"},28:function(n,t,e){"use strict";var i=e(19),a=e.n(i),o=e(20),r=e.n(o),s=e(10),l=e.n(s),c=e(41),u=r()(a.a),d=l()(c.a);u.push([n.i,'.starfield{top:0;width:100%;height:100%;position:absolute}.starfield:after{content:"";background:url('+d+") no-repeat;background-size:cover;background-color:black;position:absolute;left:-35%;right:-35%;top:-35%;bottom:-35%;animation-name:spin;animation-duration:500s;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-1}.starfield canvas{position:relative;top:0;left:0;right:0;bottom:0;z-index:1}\n","",{version:3,sources:["webpack://./src/components/Starfield/style.scss"],names:[],mappings:"AAAA,WACE,KAAM,CACN,UAAW,CACX,WAAY,CACZ,iBAAkB,CAJpB,iBAOI,UAAW,CACX,4DAAoD,CACpD,qBAAsB,CACtB,sBAAuB,CACvB,iBAAkB,CAClB,SAAU,CACV,UAAW,CACX,QAAS,CACT,WAAY,CACZ,mBAAoB,CACpB,uBAAwB,CACxB,kCAAmC,CACnC,gCAAiC,CACjC,UAAW,CApBf,kBAwBI,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QAAS,CACT,SAAU",sourcesContent:['.starfield {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  &:after {\n    content: "";\n    background: url("../../images/galaxy.png") no-repeat;\n    background-size: cover;\n    background-color: black;\n    position: absolute;\n    left: -35%;\n    right: -35%;\n    top: -35%;\n    bottom: -35%;\n    animation-name: spin;\n    animation-duration: 500s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -1;\n  }\n\n  canvas {\n    position: relative;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n  }\n}\n'],sourceRoot:""}]),t.a=u},29:function(n,t,e){"use strict";var i=e(19),a=e.n(i),o=e(20),r=e.n(o),s=e(10),l=e.n(s),c=e(42),u=e(43),d=e(44),A=e(45),m=e(21),f=e(22),p=e(46),h=r()(a.a),C=l()(c.a),g=l()(u.a),b=l()(d.a),B=l()(A.a),y=l()(m.a),v=l()(f.a),w=l()(p.a);h.push([n.i,'@font-face{font-family:"Phoebe";src:url('+C+')}@font-face{font-family:"PhoebeJP";src:url('+g+')}@font-face{font-family:"ChibiPhoebe";src:url('+b+')}@font-face{font-family:"Phoebe Condensed Bold";src:url('+B+')}*{box-sizing:border-box;font-size:inherit;text-rendering:geometricPrecision;font-weight:100}html{height:calc(var(--vh, 1vh) * 100);overflow:hidden}body{font-family:"Phoebe", "Monaco", monospace;font-size:22px;line-height:1.3;height:calc(var(--vh, 1vh) * 100);overflow:hidden;color:#444;margin:0;background:black}body .intro{filter:brightness(0);animation-name:menuBrightness;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms}@keyframes menuBrightness{from{filter:brightness(0)}to{filter:brightness(1)}}p{margin-top:0}.pointer{cursor:pointer}#root{width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);max-width:133.333vh;max-width:calc(var(--vh, 1vh) * 133.33);margin:0 auto;overflow:hidden}#root>div{height:100%;width:100%;position:relative}canvas{position:absolute;bottom:0;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.cubes canvas{z-index:89}.menu canvas{z-index:90}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}@keyframes fadeInOut{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0;pointer-events:none}}.dashboard,.dashboard:after{content:"";background:url('+y+") no-repeat;background-size:100% 47%;background-position:0 100%;position:absolute;left:0;bottom:0;width:50%;z-index:20;padding-bottom:91%;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.dashboard:after{left:99.9%;top:0;transform:scale(-1, 1);width:100%}@keyframes knight-rider{0%{transform:translateX(0) scaleX(0)}5%{transform:translateX(50%) scaleX(1)}90%{transform:translateX(690%) scaleX(1)}100%{transform:translateX(710%) scaleX(0)}}header{user-select:none;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;width:79.5%;margin:0 auto;position:relative;padding:2% 13.5% 0;display:flex;height:calc(calc(var(--scene-width) * 0.795) * 0.1417322835);z-index:10;color:#014949}header:before{background:url("+v+') top center/100% no-repeat;width:100%;position:absolute;top:0;left:0;height:100%;z-index:-1;content:""}header:after{display:none;content:"";background:url('+w+') no-repeat;background-position:center center;background-size:100% 100%;height:12%;width:8%;bottom:5%;position:absolute;animation-name:knight-rider;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-2}header h3{margin:0;display:inline-block;font-size:calc(var(--scene-width) / 35);letter-spacing:2px;text-transform:uppercase;font-family:"Phoebe Condensed Bold";line-height:1}header p{line-height:1;margin:0;letter-spacing:2px;padding-left:2%;font-size:calc(var(--scene-width) / 18);display:inline-block}header h3:nth-of-type(2){margin-left:25%}.playing header:after{display:inline-block}.music-picker{background:white}.exit-button{border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);display:block;margin:0 auto;margin-top:auto;color:white;font-family:Phoebe;font-size:36px;padding:14px 14px 10px;background-color:rgba(93,21,122,0.8);border:0}@keyframes floatDownRelative{from{transform:translateY(0%)}to{transform:translateY(100%)}}@keyframes floatUpRelative{from{transform:translateY(0%)}to{transform:translateY(-105%)}}@keyframes floatDownButtons{from{transform:translateY(0%)}to{transform:translateY(50vh)}}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}.hidden .toast{animation:blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important}.hidden header{animation-name:floatUpRelative;animation-duration:1000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out}.hidden .dashboard,.hidden .cubes canvas,.hidden li{animation-name:floatDownRelative;animation-duration:2000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden li{animation-name:floatDownButtons;animation-duration:400ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-in}.hidden li:nth-child(1){animation-delay:1400ms;animation-duration:300ms}.hidden li:nth-child(2){animation-delay:1300ms;animation-duration:300ms}.hidden li:nth-child(3){animation-delay:1100ms;animation-duration:300ms}.hidden li:nth-child(4){animation-delay:780ms;animation-duration:350ms}.hidden li:nth-child(5){animation-delay:800ms;animation-duration:350ms}.hidden li:nth-child(6){animation-delay:1000ms;animation-duration:350ms}.hidden li:nth-child(7){animation-delay:680ms}.hidden li:nth-child(8){animation-delay:600ms}.hidden li:nth-child(9){animation-delay:720ms}.hidden li button.bottom:after,.hidden li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden .tooltips{display:none !important}@keyframes toolTip{from{opacity:1}to{opacity:0}}.tooltips p{color:black;position:absolute;background:rgba(255,255,255,0.5);left:50%;transform:translate(-50%, 0) scale(0.8, 1);bottom:0;z-index:70;padding:6px 8px 0;text-align:center;line-height:calc(var(--scene-width) / 18);font-size:calc(var(--scene-width) / 18);display:inline-block;margin:0 0 15px;z-index:99;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear;animation-delay:10s;white-space:nowrap;user-select:none}.tooltips img{height:30px;width:auto;bottom:20px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.tooltips strong{font-weight:100;color:#ff2034}blink{animation:blink 1s infinite}.toast{position:fixed;left:50%;top:40%;transform:translate(-50%, -50%);width:6em;z-index:9999}.paused header:after{display:inline-block;transform:translate(350%, 0);animation-play-state:paused}.paused .toast,.paused header p:nth-of-type(2),.paused header:after{animation:blink 1s infinite}@keyframes floatInRelative{from{transform:translateY(100%)}to{transform:translateY(0%)}}@keyframes floatDownInRelative{from{transform:translateY(-105%)}to{transform:translateY(0%)}}@keyframes floatInButtons{from{transform:translateY(50vh)}to{transform:translateY(0%)}}.show header{animation-name:floatDownInRelative;animation-duration:600ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:700ms}.show .dashboard,.show .cubes canvas{animation-name:floatInRelative;animation-duration:1500ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:0}.show li button.bottom:after,.show li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.flip{transform:scaleX(-1);display:inline-block}.current-track-info{font-size:12px;color:white;position:absolute;bottom:50vw;left:10px;z-index:999;opacity:0;text-transform:uppercase;animation-name:fadeInOut;animation-duration:12s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}@media screen and (min-width: 800px){.current-track-info{bottom:10px;left:10px}}.current-track-info p{margin:0}.current-track-info a{text-decoration:underline;font-weight:normal;color:white}.start-context{position:fixed;z-index:9999;background:rgba(10,5,25,0.5);left:0;right:0;bottom:0;top:0;display:flex;text-align:center;align-items:center;justify-content:center;font-size:16px}.start-context button{transition:background-color 250ms ease;background:none;border:1px solid white;color:white;padding:0.5em 1.5em;color:white;border-radius:2px;background:rgba(0,0,0,0.75);box-shadow:0 5px 20px 10px rgba(255,255,255,0.2)}.start-context button span{display:block;margin-bottom:8px;padding-bottom:8px;border-bottom:0.5px solid white}.start-context button:hover,.start-context button:active{background:rgba(255,255,255,0.25);cursor:pointer}.japanese .FileReader h2{font-family:"PhoebeJP", sans-serif}.japanese .tooltips p{line-height:calc(var(--scene-width) / 20);font-size:calc(var(--scene-width) / 20);font-family:"PhoebeJP", sans-serif;padding-bottom:8px}\n',"",{version:3,sources:["webpack://./src/styles/index.scss"],names:[],mappings:"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",sourcesContent:['/*\n                                                                      ..;===+.\n                                                                  .:=iiiiii=+=\n                                                               .=i))=;::+)i=+,\n                                                            ,=i);)I)))I):=i=;\n                                                         .=i==))))ii)))I:i++\n                                                       +)+))iiiiiiii))I=i+:\'\n                                  .,:;;++++++;:,.       )iii+:::;iii))+i=\'\n                               .:;++=iiiiiiiiii=++;.    =::,,,:::=i));=+\'\n                             ,;+==ii)))))))))))ii==+;,      ,,,:=i))+=:\n                           ,;+=ii))))))IIIIII))))ii===;.    ,,:=i)=i+\n                          ;+=ii)))IIIIITIIIIII))))iiii=+,   ,:=));=,\n                        ,+=i))IIIIIITTTTTITIIIIII)))I)i=+,,:+i)=i+\n                       ,+i))IIIIIITTTTTTTTTTTTI))IIII))i=::i))i=\'\n                      ,=i))IIIIITLLTTTTTTTTTTIITTTTIII)+;+i)+i`\n                      =i))IIITTLTLTTTTTTTTTIITTLLTTTII+:i)ii:\'\n                     +i))IITTTLLLTTTTTTTTTTTTLLLTTTT+:i)))=,\n                     =))ITTTTTTTTTTTLTTTTTTLLLLLLTi:=)IIiii;\n                    .i)IIITTTTTTTTLTTTITLLLLLLLT);=)I)))))i;\n                    :))IIITTTTTLTTTTTTLLHLLLLL);=)II)IIIIi=:\n                    :i)IIITTTTTTTTTLLLHLLHLL)+=)II)ITTTI)i=\n                    .i)IIITTTTITTLLLHHLLLL);=)II)ITTTTII)i+\n                    =i)IIIIIITTLLLLLLHLL=:i)II)TTTTTTIII)i\'\n                  +i)i)))IITTLLLLLLLLT=:i)II)TTTTLTTIII)i;\n                +ii)i:)IITTLLTLLLLT=;+i)I)ITTTTLTTTII))i;\n               =;)i=:,=)ITTTTLTTI=:i))I)TTTLLLTTTTTII)i;\n             +i)ii::,  +)IIITI+:+i)I))TTTTLLTTTTTII))=,\n           :=;)i=:,,    ,i++::i))I)ITTTTTTTTTTIIII)=+\'\n         .+ii)i=::,,   ,,::=i)))iIITTTTTTTTIIIII)=+\n        ,==)ii=;:,,,,:::=ii)i)iIIIITIIITIIII))i+:\'\n       +=:))i==;:::;=iii)+)=  `:i)))IIIII)ii+\'\n     .+=:))iiiiiiii)))+ii;\n    .+=;))iiiiii)));ii+\n   .+=i:)))))))=+ii+\n  .;==i+::::=)i=;\n  ,+==iiiiii+,\n  `+=+++;`\n\n*/\n\n@font-face {\n  font-family: "Phoebe";\n  src: url("../fonts/PhoebeV4.ttf");\n}\n\n@font-face {\n  font-family: "PhoebeJP";\n  src: url("../fonts/PhoebeJP.ttf");\n}\n@font-face {\n  font-family: "ChibiPhoebe";\n  src: url("../fonts/ChibiPhoebe.ttf");\n}\n@font-face {\n  font-family: "Phoebe Condensed Bold";\n  src: url("../fonts/PhoebeCondesnedB.ttf");\n}\n\n@mixin pixelated {\n  image-rendering: optimizeSpeed; /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast; /* Safari                        */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers       */\n}\n\n@mixin menuBackground {\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n}\n\n@mixin fadeInFilter {\n  animation-name: menuBrightness;\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n\n  @keyframes menuBrightness {\n    from {\n      filter: brightness(0);\n    }\n\n    to {\n      filter: brightness(1);\n    }\n  }\n}\n\n/* Typography & Base Styling */\n\n* {\n  box-sizing: border-box;\n  font-size: inherit;\n  text-rendering: geometricPrecision;\n  font-weight: 100;\n}\n\nhtml {\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n}\n\nbody {\n  font-family: "Phoebe", "Monaco", monospace;\n  font-size: 22px;\n\n  line-height: 1.3;\n  height: calc(var(--vh, 1vh) * 100);\n  overflow: hidden;\n  color: #444;\n  margin: 0;\n  background: black;\n\n  // @include pixelated;\n  .intro {\n    filter: brightness(0);\n    @include fadeInFilter;\n  }\n}\n\np {\n  margin-top: 0;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  height: calc(var(--vh, 1vh) * 100);\n  max-width: 133.333vh;\n  max-width: calc(var(--vh, 1vh) * 133.33);\n  margin: 0 auto;\n  overflow: hidden;\n\n  > div {\n    height: 100%;\n    width: 100%;\n    position: relative;\n  }\n}\n\ncanvas {\n  position: absolute;\n  bottom: 0;\n  @include pixelated;\n}\n\n.cubes canvas {\n  z-index: 89;\n}\n\n.menu {\n  canvas {\n    z-index: 90;\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(-0deg);\n  }\n\n  to {\n    transform: rotate(-360deg);\n  }\n}\n\n@keyframes fadeInOut {\n  0% {\n    opacity: 0;\n  }\n\n  10% {\n    opacity: 1;\n  }\n\n  75% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    pointer-events: none;\n  }\n}\n\n.dashboard,\n.dashboard:after {\n  content: "";\n  background: url("../images/dashboard.png") no-repeat;\n  background-size: 100% 47%;\n  background-position: 0 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 50%;\n  // height: 900px;\n\n  z-index: 20;\n  padding-bottom: 91%;\n  @include pixelated;\n}\n\n.dashboard:after {\n  left: 99.9%;\n  top: 0;\n  transform: scale(-1, 1);\n  width: 100%;\n}\n\n@keyframes knight-rider {\n  0% {\n    transform: translateX(0) scaleX(0);\n  }\n  5% {\n    transform: translateX(50%) scaleX(1);\n  }\n\n  90% {\n    transform: translateX(690%) scaleX(1);\n  }\n  100% {\n    transform: translateX(710%) scaleX(0);\n  }\n}\nheader {\n  user-select: none; /* Standard */\n\n  @include pixelated;\n  &:before {\n    background: url("../images/header.png") top (center / 100%) no-repeat;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    z-index: -1;\n    content: "";\n  }\n\n  &:after {\n    display: none;\n    content: "";\n    background: url("../images/knight-rider.png") no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    height: 12%;\n    width: 8%;\n    bottom: 5%;\n    position: absolute;\n\n    animation-name: knight-rider;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -2;\n  }\n\n  width: 79.5%;\n  margin: 0 auto;\n  position: relative;\n  padding: 2% 13.5% 0;\n  display: flex;\n  height: calc(calc(var(--scene-width) * 0.795) * 0.1417322835);\n  z-index: 10;\n  color: #014949;\n\n  h3 {\n    margin: 0;\n    display: inline-block;\n    font-size: calc(var(--scene-width) / 35);\n\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-family: "Phoebe Condensed Bold";\n    line-height: 1;\n  }\n  p {\n    line-height: 1;\n    margin: 0;\n    letter-spacing: 2px;\n    padding-left: 2%;\n\n    font-size: calc(var(--scene-width) / 18);\n\n    display: inline-block;\n  }\n  h3:nth-of-type(2) {\n    margin-left: 25%;\n  }\n}\n.playing {\n  header:after {\n    display: inline-block;\n  }\n}\n.music-picker {\n  background: white;\n}\n\n.exit-button {\n  @include menuBackground;\n  display: block;\n  margin: 0 auto;\n  margin-top: auto;\n  color: white;\n  font-family: Phoebe;\n  font-size: 36px;\n  padding: 14px 14px 10px;\n  background-color: rgba(93, 21, 122, 0.8);\n  border: 0;\n}\n\n@keyframes floatDownRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(100%);\n  }\n}\n\n@keyframes floatUpRelative {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(-105%);\n  }\n}\n\n@keyframes floatDownButtons {\n  from {\n    transform: translateY(0%);\n  }\n\n  to {\n    transform: translateY(50vh);\n  }\n}\n\n@keyframes blink {\n  0% {\n    opacity: 0;\n  }\n\n  49% {\n    opacity: 0;\n  }\n\n  50% {\n    opacity: 1;\n  }\n}\n\n.hidden {\n  .toast {\n    animation: blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important;\n  }\n\n  header {\n    animation-name: floatUpRelative;\n    animation-duration: 1000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-out;\n\n    // animation-delay: 150ms;\n  }\n\n  .dashboard,\n  .cubes canvas,\n  li {\n    animation-name: floatDownRelative;\n    animation-duration: 2000ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n  }\n\n  li {\n    animation-name: floatDownButtons;\n    animation-duration: 400ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; // animation-delay: 10s;\n    animation-timing-function: ease-in;\n  }\n\n  li {\n    &:nth-child(1) {\n      animation-delay: 1400ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(2) {\n      animation-delay: 1300ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 1100ms;\n      animation-duration: 300ms;\n    }\n\n    &:nth-child(4) {\n      animation-delay: 780ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(5) {\n      animation-delay: 800ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(6) {\n      animation-delay: 1000ms;\n      animation-duration: 350ms;\n    }\n\n    &:nth-child(7) {\n      animation-delay: 680ms;\n    }\n\n    &:nth-child(8) {\n      animation-delay: 600ms;\n    }\n\n    &:nth-child(9) {\n      animation-delay: 720ms;\n    }\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n\n  .tooltips {\n    display: none !important;\n  }\n}\n// TODO: ReactCSSTransitionGroup\n@keyframes toolTip {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.tooltips {\n  p {\n    color: black;\n    position: absolute;\n    background: rgba(255, 255, 255, 0.5);\n    left: 50%;\n    transform: translate(-50%, 0) scale(0.8, 1);\n    bottom: 0;\n    z-index: 70;\n    padding: 6px 8px 0;\n    text-align: center;\n    line-height: calc(var(--scene-width) / 18);\n    font-size: calc(var(--scene-width) / 18);\n    display: inline-block;\n    margin: 0 0 15px;\n    z-index: 99;\n    // animation-name: toolTip;\n    animation-duration: 200ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n    animation-timing-function: linear;\n    animation-delay: 10s;\n    white-space: nowrap;\n    user-select: none;\n  }\n  img {\n    height: 30px;\n    width: auto;\n    bottom: 20px;\n    @include pixelated;\n  }\n  strong {\n    font-weight: 100;\n    color: rgb(255, 32, 52);\n  }\n}\n\nblink {\n  animation: blink 1s infinite;\n}\n\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 40%;\n  transform: translate(-50%, -50%);\n  width: 6em;\n  z-index: 9999;\n}\n\n.paused {\n  header:after {\n    display: inline-block;\n    transform: translate(350%, 0);\n    animation-play-state: paused;\n  }\n\n  .toast,\n  header p:nth-of-type(2),\n  header:after {\n    animation: blink 1s infinite;\n  }\n}\n\n@keyframes floatInRelative {\n  from {\n    transform: translateY(100%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatDownInRelative {\n  from {\n    transform: translateY(-105%);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes floatInButtons {\n  from {\n    transform: translateY(50vh);\n  }\n\n  to {\n    transform: translateY(0%);\n  }\n}\n\n.show {\n  header {\n    animation-name: floatDownInRelative;\n    animation-duration: 600ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 700ms;\n  }\n\n  .dashboard,\n  .cubes canvas {\n    animation-name: floatInRelative;\n    animation-duration: 1500ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: backwards; // animation-delay: 10s;\n    animation-timing-function: linear;\n    animation-delay: 0;\n  }\n\n  li {\n    button,\n    a {\n      &.bottom:after {\n        animation-name: fadeOut;\n        animation-duration: 200ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards; // animation-delay: 10s;\n        animation-timing-function: linear;\n      }\n    }\n  }\n}\n\n.flip {\n  transform: scaleX(-1);\n  display: inline-block;\n}\n\n.current-track-info {\n  font-size: 12px;\n  color: white;\n  position: absolute;\n  bottom: 50vw;\n  left: 10px;\n  z-index: 999;\n  opacity: 0;\n  text-transform: uppercase;\n  animation-name: fadeInOut;\n  animation-duration: 12s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards; // animation-delay: 10s;\n  animation-timing-function: linear;\n\n  @media screen and (min-width: 800px) {\n    bottom: 10px;\n    left: 10px;\n  }\n\n  p {\n    margin: 0;\n  }\n  a {\n    text-decoration: underline;\n    font-weight: normal;\n    color: white;\n  }\n}\n\n.start-context {\n  position: fixed;\n  z-index: 9999;\n  background: rgba(10, 5, 25, 0.5);\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  button {\n    transition: background-color 250ms ease;\n    background: none;\n    border: 1px solid white;\n    color: white;\n    padding: 0.5em 1.5em;\n\n    color: white;\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.75);\n\n    box-shadow: 0 5px 20px 10px rgba(255, 255, 255, 0.2);\n    span {\n      display: block;\n      margin-bottom: 8px;\n      padding-bottom: 8px;\n      border-bottom: 0.5px solid white;\n    }\n    &:hover,\n    &:active {\n      background: rgba(255, 255, 255, 0.25);\n      cursor: pointer;\n    }\n  }\n}\n\n.japanese {\n  .FileReader {\n    h2 {\n      font-family: "PhoebeJP", sans-serif;\n    }\n  }\n  .tooltips p {\n    line-height: calc(var(--scene-width) / 20);\n    font-size: calc(var(--scene-width) / 20);\n    font-family: "PhoebeJP", sans-serif;\n    padding-bottom: 8px;\n  }\n}\n'],sourceRoot:""}]),t.a=h},41:function(n,t,e){"use strict";t.a=e.p+"images/a10fe169c1fed7cb21d02f6fc2304bd1.png"},42:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeV4.ttf"},43:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeJP.ttf"},44:function(n,t,e){"use strict";t.a=e.p+"fonts/ChibiPhoebe.ttf"},45:function(n,t,e){"use strict";t.a=e.p+"fonts/PhoebeCondesnedB.ttf"},46:function(n,t,e){"use strict";t.a=e.p+"images/84d4d572aca8177cf2e916a1eee1a825.png"},67:function(n,t,e){"use strict";e.r(t);var i=e(0),a=e.n(i),o=e(14),r=e.n(o),s=e(34),l=e.n(s),c=e(7),u=e.n(c),d=e(8),A=e.n(d),m=e(9),f=e.n(m),p=e(12),h=e.n(p),C=e(13),g=e.n(C),b=e(6),B=e.n(b),y=e(2),v=e.n(y);function w(n){Object.getOwnPropertyNames(n.constructor.prototype).forEach((function(t){"function"==typeof n[t]&&(n[t]=n[t].bind(n))}))}var k=e(1),x=e(5),T=e.p+"songs/02.mp3",I=e.p+"songs/03.mp3",E=e.p+"songs/04.mp3",S=e.p+"images/a3b8d8c7b399f4f27b2a124891bf1eed.png",z=["ja-JP","ja"];function D(n){if(!n.length)return 0;for(var t=0,e=0;e<n.length;e+=1)t+=n[e];return t/n.length}var P=function(){var n=window.innerWidth,t=1.3333*window.innerHeight;return t>n?(document.documentElement.style.setProperty("--scene-width","".concat(n,"px")),n):(document.documentElement.style.setProperty("--scene-width","".concat(t,"px")),t)},L=function(n){var t=Math.trunc(n/60).toString().padStart(2,"0"),e=Math.trunc(n%60).toString().padStart(2,"0");return"".concat(t,":").concat(e)},R=function(n){return Math.random()*n-.5*n};function O(n,t){new x.Tween(n.scale).to({x:1.5,y:1.5,z:1.5},100).easing(x.Easing.Quadratic.Out).start(),setTimeout((function(){new x.Tween(n.scale).to({x:1,y:1,z:1},100).easing(x.Easing.Quadratic.In).start()}),250),t()}function M(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:23,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:19;n.wrapS=k.bb,n.wrapT=k.bb,n.repeat.set(1/t,1/i);var a=0,o=0,r=419;this.update=function(s){for(a+=s;a>e;){a-=e,(o+=1)>r&&(o=0);var l=o%t,c=Math.floor(o/t);n.offset.y=1-c/i-1/i,n.offset.x=l/t}}}var U,j,F=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.language;return z.includes(n)?{intro:{},menu:{disc:"プレイリスト",settings:"ユーザー設定",hide:"パネル消去",skipBackwards:"曲戻し",skipForwards:"曲送り",play:"再生",pause:"一時停止",repeat:"リピート",repeatOne:"1曲",repeatAll:"全曲",repeatOff:"解除",stop:"停  止",advanced:"機能切り替え",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}:{menu:{disc:"Edit Playlist",settings:"Coming Soon",hide:"Hide",skipBackwards:"Skip Backwards",skipForwards:"Skip Forwards",play:"Play",pause:"Pause",repeat:"Repeat",repeatOne:"1",repeatAll:"All",repeatOff:"Off",stop:"Stop",advanced:"About",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}},Y=[{file:T,track:1,album:"Music for Touching",artist:"Cookies",title:"Go Back",href:"",albumArtUrl:S,isDefault:!0,srcPath:""},{file:I,track:2,album:"Music for Touching",artist:"Cookies",title:"July Seventeen",href:"",albumArtUrl:S,isDefault:!0,srcPath:""},{file:E,track:3,album:"Music for Touching",artist:"Cookies",title:"Crybaby (A)",href:"",albumArtUrl:S,isDefault:!0,srcPath:""}],q=function(){function n(t){u()(this,n),this.audio=t,this.leftChannel=[],this.rightChannel=[],this.setupAudioNodes(),w(this)}return A()(n,[{key:"setupAudioNodes",value:function(){var n=window.AudioContext||window.webkitAudioContext;this.audioContext=new n;var t=/iP(hone|od|ad)/.test(navigator.platform);(navigator.userAgent.indexOf("Firefox")>0||t)&&this.audioContext.suspend();var e=this.createAnalyserNode(),i=this.createAnalyserNode(),a=this.audioContext.createChannelSplitter(2);this.audioContext.createMediaElementSource(this.audio).connect(a),a.connect(e,0),a.connect(i,1),this.dataArrayLeft=new Uint8Array(e.frequencyBinCount),this.dataArrayRight=new Uint8Array(i.frequencyBinCount),this.analyserLeft=e,this.analyserRight=i}},{key:"createAnalyserNode",value:function(){var n=this.audioContext.createAnalyser();return n.smoothingTimeConstant=.1,n.fftSize=128,n.connect(this.audioContext.destination),n}},{key:"runAnalysis",value:function(){var n=this.analyserLeft,t=this.analyserRight,e=this.dataArrayLeft,i=this.dataArrayRight;n.getByteFrequencyData(e),t.getByteFrequencyData(i),this.leftChannel=e,this.rightChannel=i,this.frameId=requestAnimationFrame(this.runAnalysis)}},{key:"startAnalyser",value:function(){this.frameId=this.frameId||requestAnimationFrame(this.runAnalysis)}},{key:"pauseAnalyser",value:function(){cancelAnimationFrame(this.frameId),this.frameId=void 0}},{key:"start",value:function(){"suspended"!==this.audioContext.state&&this.startAnalyser()}},{key:"pause",value:function(){this.pauseAnalyser()}},{key:"stop",value:function(){this.pauseAnalyser(),this.audioContext.close()}},{key:"averageFFT",get:function(){return[D(this.leftChannel),D(this.rightChannel)]}},{key:"rawFFT",get:function(){return[this.leftChannel,this.rightChannel]}}]),n}(),H=e.p+"images/818bb7b33691bf1b5e4c3c2387fdd991.jpeg";!function(n){n[n.Off=0]="Off",n[n.Single=1]="Single",n[n.All=2]="All"}(U||(U={})),function(n){n[n.Idle=0]="Idle",n[n.Playing=1]="Playing",n[n.Stopped=2]="Stopped",n[n.Paused=3]="Paused"}(j||(j={}));var W={loading:!1,repeat:U.Off,currentTime:L(0),hasPendingSrcChange:!1,currentTrackIndex:0,tracks:Y,playerState:j.Idle},G=function(){function n(){this.state=W,this.audioElement=new Audio,this.analyser=new q(this.audioElement),this.setupEventListeners(),w(this),this.loadFirstTrack()}return n.prototype.createContext=function(n){this.analyser.audioContext.resume().then((function(){return n&&n()}))},n.prototype.loadFirstTrack=function(){this.loadTrack(0)},n.prototype.togglePlayPause=function(){var n=this.audioElement,t=n.paused||n.ended;n.src,t?this.playAndReport():n.pause()},n.prototype.updateMediaSession=function(){var n=this.state.tracks[this.state.currentTrackIndex],t=n.title,e=n.artist,i=n.album,a=n.albumArtUrl;this.audioElement.title="「SATURN.FM」".concat(t," - ").concat(e),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:t,artist:e,album:i,artwork:[{src:null!=a?a:H,sizes:"512x512"}]}))},n.prototype.getNextTrackIndex=function(){return this.state.repeat===U.Single?this.state.currentTrackIndex:this.state.currentTrackIndex===this.state.tracks.length-1?0:this.state.currentTrackIndex+1},n.prototype.getPreviousTrackIndex=function(){return 0===this.state.currentTrackIndex?this.state.tracks.length-1:this.state.currentTrackIndex-1},n.prototype.loadTrack=function(n){var t,e=null!==(t=this.state.tracks[n])&&void 0!==t?t:{},i=e.srcPath,a=e.file;if(i||a){var o=this.audioElement.src;if(a instanceof File){var r=URL.createObjectURL(a);this.audioElement.src=r}else this.audioElement.src=null!=a?a:i;this.state.currentTrackIndex=n,this.revokeSongUrl(o)}},n.prototype.loadNextTrack=function(){this.loadTrack(this.getNextTrackIndex())},n.prototype.loadPreviousTrack=function(){this.loadTrack(this.getPreviousTrackIndex())},n.prototype.playAndReport=function(){this.audioElement.play(),this.state.playerState=j.Playing},n.prototype.revokeSongUrl=function(n){try{URL.revokeObjectURL(n)}catch(n){console.log("what happens if this wasnt originall a file url?",n)}},n.prototype.setupEventListeners=function(){var n=this;this.audioElement.addEventListener("canplaythrough",(function(){return n.state.playerState===j.Playing&&n.togglePlayPause()})),this.audioElement.addEventListener("play",(function(){n.updateMediaSession(),n.analyser.start()})),this.audioElement.addEventListener("pause",(function(){n.analyser.pause()})),this.audioElement.addEventListener("ended",(function(){n.loadNextTrack()})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){return n.togglePlayPause()})),navigator.mediaSession.setActionHandler("pause",(function(){return n.togglePlayPause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return n.previousTrack()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return n.loadNextTrack()})))},n.prototype.previousTrack=function(){this.audioElement.currentTime>=3?this.audioElement.currentTime=0:this.loadPreviousTrack()},n.prototype.pause=function(){this.audioElement.pause(),this.state.playerState=j.Paused},n.prototype.stop=function(){this.audioElement.pause(),this.audioElement.currentTime=0,this.state.currentTrackIndex=0,this.state.playerState=j.Stopped},n.prototype.toggleRepeat=function(){switch(this.state.repeat){case U.Off:this.state.repeat=U.Single;break;case U.Single:this.state.repeat=U.All;break;case U.All:this.state.repeat=U.Off}},Object.defineProperty(n.prototype,"analyserFFT",{get:function(){return this.analyser.averageFFT},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rawFFT",{get:function(){return this.analyser.rawFFT},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentTime",{get:function(){return this.audioElement.currentTime},enumerable:!1,configurable:!0}),n}(),N=new G,X=e(11),Z=e.n(X),Q=e(17),K=function(n,t){return Math.random()*(n-t)+t},J=function(n,t){var e,i,a,o=142.5-(e=.75*t,i=Math.log(1),a=(Math.log(142)-i)/100,Math.exp(i+a*(e-0))),r=new k.i("hsl(".concat(o>0?o:0,", 100%, 48%)")),s=r.r,l=r.g,c=r.b;return new x.Tween(n.material.color).to({r:s,g:l,b:c},100).easing(x.Easing.Linear.None).start()},V=function(n,t){J(n,t);var e=.007*t>1?1:.007*t;n.morphTargetInfluences[0]=e;var i=.008*t+.5,a=i<1.65?i:1.65;return new x.Tween(n.scale).to({x:a,y:a,z:a},50).easing(x.Easing.Linear.None).start()},_=function(n,t){var e=t?-Math.abs(.03):.03,i=t?-Math.abs(.01):.01;n.rotateX(K(e,i)),n.rotateY(K(e,i))},$=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;i?n.position.y+=.0075:e&&(n.position.y-=.0075),n.rotateY(.0025*t)};function nn(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=B()(n);if(t){var a=B()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return g()(this,e)}}var tn=function(n){h()(e,n);var t=nn(e);function e(n){var i;return u()(this,e),(i=t.call(this,n)).debouncedResize=null,i.loader=new Q.a,i.animateDownL=!0,i.animateUpL=!1,i.animateDownR=!0,i.animateUpR=!1,w(f()(i)),window.addEventListener("resize",(function(){clearTimeout(i.debouncedResize),i.debouncedResize=setTimeout(i.onResize,250)})),window.addEventListener("orientationchange",(function(){i.onResize()})),i}return A()(e,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(n){return this.props.isUiHidden!==n.isUiHidden}},{key:"onResize",value:function(){var n=P(),t=.75*n;this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)}},{key:"setupScene",value:function(){var n=P(),t=.75*n,e=new k.cb,i=new k.S(20,n/t,1,1200);i.position.z=45,i.position.y=-27;var a=new k.a(16777215,.35),o=new k.k(16777215,.7);o.position.set(0,500,900),e.add(a,o);var r=new k.pb({alpha:!0,antialias:!1}),s=window.devicePixelRatio;r.setPixelRatio(1===s?.5*s:.15*s),r.setSize(n,t),this.scene=e,this.camera=i,this.renderer=r,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(n,t){var e=this,i=Z()(t,3),a=i[0],o=i[1],r=i[2];this.loader.load("./models/cubeBigger.gltf",(function(t){var i=Z()(t.scene.children,3)[2];i.material.color=new k.i("hsl(143, 100%, 48%)"),i.material.dithering=!0,i.material.flatShading=!1,i.position.set(a,o,r),i.rotateX(.075),"rightCube"===n?i.rotateY(.075):i.rotateY(-.1),e[n]=i,e.scene.add(i),"rightCube"===n&&e.props.setAnimationCallback(e.animate)}))}},{key:"animate",value:function(){if(this.props.audioManager.state.playerState===j.Playing){var n=Z()(this.props.audioManager.analyserFFT,2),t=n[0],e=n[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,V(this.leftCube,t),V(this.rightCube,e),_(this.leftCube),_(this.rightCube,-1)}else{var i=this.leftCube.position.y;i>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),i<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var a=this.rightCube.position.y;a>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),a<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),$(this.leftCube,.35,this.animateDownL,this.animateUpL),$(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var n=this;return a.a.createElement("div",{className:"cubes",ref:function(t){n.mount=t}})}}]),e}(a.a.Component);tn.propTypes={setAnimationCallback:v.a.func.isRequired,audioManager:v.a.shape({}).isRequired,isPlaying:v.a.bool.isRequired,isUiHidden:v.a.bool.isRequired};var en=tn,an=e(26),on=e.n(an),rn=e.p+"images/543a72f6f864fc8510ea00ec42576c97.png",sn=e.p+"images/0bbfcff4472b1f675fd40a82519634a3.png",ln=e.p+"images/002dd322a815a9564be6e1935bd86dae.png",cn=e.p+"images/d15ab5d39baa5d5cf453752383c0805f.png",un=e.p+"images/5e38e41d27cca8a06521f15f8f44a93e.png",dn=e.p+"images/aa4138b43c8fc8be9e062c9b238e79c9.png",An=e.p+"images/4e00a72f43366d3d78c29876e3ea273d.png",mn=e.p+"images/c9c13bb55f77610c72c57d28e12fbafe.png",fn=e.p+"images/0d8d1f45572906e55ef762143d0c5f6c.gif",pn=e.p+"images/777c6fbc3202247c243985661ac68b16.gif",hn=e.p+"images/222a3f19cc7a7ce394a9c474b7e95477.png",Cn=new k.j(1.45,1.45,.35,40,1,!0),gn=(new k.jb).load(fn),bn=(new k.jb).load(pn);gn.magFilter=k.M,bn.magFilter=k.M;var Bn=new k.I({side:k.l,transparent:!0,map:gn}),yn=new k.I({side:k.l,transparent:!0,map:bn}),vn=new k.T(2,2,1,1),wn=new k.T(1.5,1.5,1,1),kn=(new k.jb).load(hn);function xn(n,t){var e,i,a,o,r,s,l,c,u,d,A;e=n.position,i=t,a={duration:n.material.userData.animationDuration,delay:n.material.userData.animationDelay,easing:x.Easing.Quadratic.InOut},o=i.x,r=i.y,s=i.z,l=a.easing,c=void 0===l?x.Easing.Quadratic.In:l,u=a.delay,d=a.duration,A=void 0===d?2e3:d,new x.Tween(e).to({x:o,y:r,z:s},A).easing(c).delay(u).start()}var Tn=e.p+"images/eafd93780f7964be6bb714e719850105.png",In=e.p+"songs/button-press.mp3",En=e.p+"songs/button-highlight.mp3",Sn=e.p+"songs/hide.mp3",zn=e.p+"songs/show.mp3";function Dn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function Pn(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=B()(n);if(t){var a=B()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return g()(this,e)}}var Ln=function(n){h()(e,n);var t=Pn(e);function e(n){var i;return u()(this,e),(i=t.call(this,n)).timeOut=null,i.planes=[],i.shadowPlanes=[],i.buttonEffect=new Audio,i.buttonEffect.src=In,i.highlightEffect=new Audio,i.highlightEffect.src=En,i.hideEffect=new Audio,i.hideEffect.src=Sn,i.showEffect=new Audio,i.showEffect.src=zn,i.state={activeButton:"play",allowToggle:!1,introActive:!0},i.clock=new k.h,i.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],i.onMouseMoveThrottled=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=0;return function(i){var a=new Date;a-e>=t&&(n(i),e=a)}}(i.onMouseMove.bind(f()(i)),100),w(f()(i)),i}return A()(e,[{key:"componentDidMount",value:function(){var n=this;this.setupScene(),this.setupKeyboardListeners(),setTimeout((function(){return n.setState({introActive:!1})}),1e3)}},{key:"componentDidUpdate",value:function(n,t){if(this.state.activeButton!==t.activeButton){var e=Z()(this.menuElements[this.state.activeButton].position,2),i=e[0],a=e[1];this.orbits.pink.position.set(i,a,2),this.orbits.purple.position.set(i,a,2.03),this.playHighlight()}}},{key:"onResize",value:function(){var n=P(),t=.75*n;this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)}},{key:"onMouseDown",value:function(n){var t=this;if(n.stopPropagation(),!this.props.isUiHidden){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.planes);if(e.length>0){var i=e[0].object.material.userData.onClick,a=e[0].object;"running"===N.analyser.audioContext.state?this.handleMouseDown(a,i):N.analyser.audioContext.resume().then((function(){t.handleMouseDown(a,i)})).catch((function(n){return console.log(n)}))}}}},{key:"handleMouseDown",value:function(n,t){"hide"!==n.name&&(this.buttonEffect.currentTime=0,this.buttonEffect.play()),O(n,t)}},{key:"onMouseMove",value:function(n){var t=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(n.clientX-1.5*t.left)/(t.width-t.left)*2-1,this.mouse.y=-(n.clientY-t.top)/(t.bottom-t.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var n=this;window.addEventListener("keydown",(function(t){var e=n.buttons.indexOf(n.state.activeButton);switch(t.code){case"ArrowRight":2!==e&&5!==e&&(e+=1);break;case"ArrowLeft":3!==e&&6!==e&&(e-=1);break;case"ArrowUp":e-=3;break;case"ArrowDown":e+=3;break;case"Enter":var i=n.buttons[e],a=n.planes.find((function(n){return n.name===i}));"running"===N.analyser.audioContext.state?(n.buttonEffect.currentTime=0,n.buttonEffect.play(),O(a,n.menuElements[i].onClick)):N.analyser.audioContext.resume().then((function(){n.buttonEffect.currentTime=0,n.buttonEffect.play(),O(a,n.menuElements[i].onClick)})).catch((function(n){return console.log(n)}));break;default:e=-1}e>=0&&e<n.buttons.length&&n.setState({activeButton:n.buttons[e]})}))}},{key:"setupScene",value:function(){var n=P(),t=.75*n,e=new k.cb,i=new k.S(2.5,n/t,1,500);i.aspect=n/t,i.position.z=360,i.position.y=.5,i.updateProjectionMatrix();var a=new k.pb({alpha:!0,antialias:!1});a.setSize(n,t),this.mouse=new k.mb,this.raycaster=new k.ab,this.scene=e,this.camera=i,this.renderer=a,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.props.setAnimationCallback(this.animate)}},{key:"setupEventListeners",value:function(){var n=this,t=this.renderer.domElement;window.addEventListener("resize",(function(){clearTimeout(n.timeOut),n.timeOut=setTimeout(n.onResize,250)})),window.addEventListener("orientationchange",(function(){n.onResize()})),t.addEventListener("mousedown",(function(t){return n.onMouseDown(t)}),!1),t.addEventListener("mousemove",(function(t){return n.onMouseMoveThrottled(t)}),!1)}},{key:"setupOrbAnimation",value:function(){var n=(new k.jb).load(Tn);n.magFilter=k.M,n.minFilter=k.M,this.textureAnimator=new M(n);var t=new k.I({map:n,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:this.props.toggleAbout}}),e=new k.H(vn,t);e.position.set(2.25,-4.3,1),e.name="advanced",kn.magFilter=k.M,kn.minFilter=k.M;var i=new k.I({map:kn,transparent:!0,opacity:.5,userData:{animationDelay:900,animationDuration:300}}),a=new k.H(wn,i);a.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(a),this.scene.add(a),this.planes.push(e),this.scene.add(e)}},{key:"getToolTip",value:function(){var n=F().menu,t=N.state,e=t.repeat,i=t.playerState,o=i===j.Playing,r=i===j.Paused;return{disc:function(){return a.a.createElement("p",null,n.disc)},settings:function(){return a.a.createElement("p",null,n.settings)},hide:function(){return a.a.createElement("p",null,n.hide)},rewind:function(){return a.a.createElement("p",null,n.skipBackwards)},fastforward:function(){return a.a.createElement("p",null,n.skipForwards)},play:function(){var t=a.a.createElement("p",null,n.play," / ",n.pause);return o?t=a.a.createElement("p",null,a.a.createElement("strong",null,n.play)," / ",n.pause):r&&(t=a.a.createElement("p",null,n.play," / ",a.a.createElement("strong",null,n.pause))),t},repeat:function(){var t=a.a.createElement("p",null,n.repeat,": ",n.repeatOne," / ",n.repeatAll," /"," ",a.a.createElement("strong",null,n.repeatOff));return e===U.Single?t=a.a.createElement("p",null,n.repeat,": ",a.a.createElement("strong",null,n.repeatOne)," /"," ",n.repeatAll," / ",n.repeatOff):e===U.All&&(t=a.a.createElement("p",null,n.repeat,": ",n.repeatOne," /"," ",a.a.createElement("strong",null,n.repeatAll)," / ",n.repeatOff)),t},stop:function(){return a.a.createElement("p",null,n.stop)},advanced:function(){return a.a.createElement("p",null,n.advanced)}}[this.state.activeButton]()}},{key:"orbitButton",value:function(){var n=this.orbits,t=n.pink,e=n.purple;this.props.isUiHidden?(t.material.visible=!1,e.material.visible=!1):(t.material.visible=!0,e.material.visible=!0,t.rotateY(-.065),e.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.planes);if(n.length>0){var t=n[0].object.material.name;t&&t!==this.state.activeButton&&this.setState({activeButton:t}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var n=this;return this.props.isUiHidden?this.showIfHidden():(this.hideEffect.currentTime=0,this.hideEffect.play(),setTimeout((function(){n.planes.forEach((function(n){var t=n.position,e=t.x,i=t.y,a=t.z;xn(n,new k.nb(e,i-10,a))})),n.shadowPlanes.forEach((function(n){n.visible=!1})),n.props.hideDash()}),450),setTimeout((function(){return n.setState({allowToggle:!0})}),1400))}},{key:"animate",value:function(){x.update(),this.orbitButton();var n=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*n)}},{key:"showIfHidden",value:function(){var n=this;this.state.allowToggle&&this.props.isUiHidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.showEffect.currentTime=0,this.showEffect.play(),this.planes.forEach((function(n){var t=n.position,e=t.x,i=t.y,a=t.z;xn(n,new k.nb(e,i+10,a))})),setTimeout((function(){n.shadowPlanes.forEach((function(n){n.visible=!0}))}),1e3))}},{key:"placeInScene",value:function(n){var t=n.name,e=void 0===t?"":t,i=n.position,a=n.onClick,o=n.mapSrc,r=n.animationDelay,s=n.animationDuration,l=n.showShadow,c=Z()(i,3),u=c[0],d=c[1],A=c[2],m=(new k.jb).load(o);m.magFilter=k.M,m.minFilter=k.M;var f=new k.I({map:m,transparent:!0,name:e,userData:{onClick:a,animationDelay:r,animationDuration:s}}),p=new k.H(vn,f);if(p.position.set(u,d,A),p.name=e,l){kn.magFilter=k.M,kn.minFilter=k.M;var h=new k.I({map:kn,transparent:!0,opacity:.5,name:e,userData:{animationDelay:r,animationDuration:s}}),C=new k.H(wn,h);C.position.set(u,d-1.025,A-.5),this.shadowPlanes.push(C),this.scene.add(C)}this.planes.push(p),this.scene.add(p)}},{key:"placeOrbitsInScene",value:function(){var n=new k.H(Cn,yn),t=new k.H(Cn,Bn);n.position.set(0,-2.15,2),n.rotateX(.35),n.rotateZ(-.8),t.position.set(0,-2.15,2.03),t.rotateZ(.8),t.rotateX(.25),t.rotateY(1),this.orbits={pink:n,purple:t},this.scene.add(n,t)}},{key:"createMenuElements",value:function(){var n,t,e,i=this,a=(n=N,t=this.hideMenu,e=this.props.toggleMenu,[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(e(),500)},animationDuration:400,animationDelay:220,mapSrc:rn,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:sn,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:t,animationDelay:180,animationDuration:400,mapSrc:ln,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:n.previousTrack,animationDelay:500,animationDuration:350,mapSrc:cn,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:n.togglePlayPause,animationDelay:300,animationDuration:350,mapSrc:un,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:n.loadNextTrack,animationDelay:280,animationDuration:350,mapSrc:dn},{name:"repeat",position:[-2.25,-4.3,1],onClick:n.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:mn,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:n.stop,animationDelay:700,animationDuration:300,mapSrc:An,showShadow:!0}]);a.forEach((function(n){return i.placeInScene(n)})),this.menuElements=a.reduce((function(n,t){var e=t.name,i=t.position,a=t.onClick;return function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(e),!0).forEach((function(t){on()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Dn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}(on()({},e,{onClick:a,position:i}),n)}),{}),this.menuElements.advanced={onClick:this.props.toggleAbout,position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"playHighlight",value:function(){void 0!==window.orientation||this.state.introActive||"running"===N.analyser.audioContext.state&&(this.highlightEffect.currentTime=0,this.highlightEffect.play())}},{key:"render",value:function(){var n=this;return a.a.createElement("div",null,a.a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(t){n.mount=t}}),a.a.createElement("div",{className:"tooltips",key:this.state.activeButton},this.getToolTip()))}}]),e}(a.a.Component);Ln.propTypes={toggleMenu:v.a.func.isRequired,hideDash:v.a.func.isRequired,isUiHidden:v.a.bool.isRequired,showIfHidden:v.a.func.isRequired};var Rn=Ln,On=e(3),Mn=e.n(On),Un=e(4),jn=e.p+"images/57e24614352a90824b34fdc4411b3795.png",Fn=e.p+"images/a45c3be41aef2a6557c01e81a079f19b.png";function Yn(){var n=Mn()(["\n  line-height: 59px;\n  padding: 2px 22px 6px;\n  font-size: 42px;\n  text-stroke: 0.45px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  text-transform: capitalize;\n\n  padding: 4px 1.5em 0;\n  margin: 0 auto;\n  margin-bottom: 20px;\n\n  background: url(",");\n  background-color: rgba(0, 0, 0, 0.5);\n  background-size: 100% 100%;\n  border-radius: 10px;\n\n  display: inline-block;\n"]);return Yn=function(){return n},n}var qn=function(n){var t=n.children;return a.a.createElement(Hn,null,t)},Hn=Un.b.h2(Yn(),Fn);function Wn(){var n=Mn()(["\n  width: 100%;\n  font-size: 13px;\n  color: white;\n  min-height: 200px;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  // &::-webkit-scrollbar {\n  //   width: 1em;\n  // }\n  // &::-webkit-scrollbar-track {\n  //   box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  // }\n\n  // &::-webkit-scrollbar-thumb {\n  //   background-color: darkgrey;\n  //   outline: 1px solid slategrey;\n  // }\n\n  @media screen and (min-width: 500px) {\n    padding: 4px;\n  }\n"]);return Wn=function(){return n},n}function Gn(){var n=Mn()(["\n  max-width: 1000px;\n  margin: 0 auto;\n  opacity: 0;\n  animation-name: ",";\n  animation-duration: 10ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 1.35s;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n"]);return Gn=function(){return n},n}function Nn(){var n=Mn()(['\n  padding: 2em;\n  height: 100%;\n  cursor: default;\n  font-size: 14px;\n\n  &:before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    content: " ";\n    display: block;\n    filter: brightness(0);\n    ',"\n    ",";\n    background: url(",") repeat-y;\n    background-position: center top;\n    background-size: 100% 880px;\n    z-index: -1;\n  }\n"]);return Nn=function(){return n},n}function Xn(){var n=Mn()(["\n  background: black;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 100;\n"]);return Xn=function(){return n},n}function Zn(){var n=Mn()(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]);return Zn=function(){return n},n}function Qn(){var n=Mn()(["\n  image-rendering: optimizeSpeed; /* Older versions of FF */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+  */\n  image-rendering: -webkit-optimize-contrast; /* Safari */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers */\n"]);return Qn=function(){return n},n}function Kn(){var n=Mn()(["\n  animation-name: ",";\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n"]);return Kn=function(){return n},n}function Jn(){var n=Mn()(["\n  from {\n    filter: brightness(0);\n  }\n\n  to {\n    filter: brightness(1);\n  }\n"]);return Jn=function(){return n},n}var Vn=function(n){return a.a.createElement(et,null,a.a.createElement(it,{className:n.className},a.a.createElement(at,null,a.a.createElement(qn,null,n.header),a.a.createElement(ot,null,n.children))))},_n=Object(Un.c)(Jn()),$n=Object(Un.a)(Kn(),_n),nt=Object(Un.a)(Qn()),tt=Object(Un.c)(Zn()),et=Un.b.div(Xn()),it=Un.b.div(Nn(),$n,nt,jn),at=Un.b.div(Gn(),tt),ot=Un.b.div(Wn());function rt(){var n=Mn()(["\n  font-size: 16px !important;\n  text-align: left;\n  padding: 1em;\n  line-height: 22px;\n\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n  background-color: rgba(131, 23, 71, 0.65);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n  em {\n    margin: 0.5em;\n    padding: 1em 1em 1em 2em;\n    display: inline-block;\n    border-left: 2px solid white;\n  }\n  a {\n    text-decoration: none;\n    color: #f2f2f2;\n    margin-left: 0.5em;\n  }\n  ul {\n    margin-top: 2em;\n  }\n  ul li {\n    list-style-type: none;\n    margin-bottom: 15px;\n  }\n"]);return rt=function(){return n},n}var st=function(n){return a.a.createElement(Vn,{header:"About",className:"About"},a.a.createElement(ct,null,a.a.createElement("p",null,a.a.createElement("em",null,"Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.")),a.a.createElement("ul",null,a.a.createElement(lt,{href:"mailto:mcamis@gmail.com"},"mcamis@gmail.com"),a.a.createElement(lt,{href:"https://twitter.com/vmu_beep"},"https://twitter.com/vmu_beep"),a.a.createElement(lt,{href:"https://adam.mcamis.lol"},"https://adam.mcamis.lol"),a.a.createElement(lt,{href:"https://github.com/mcamis/saturn.fm"},"https://github.com/mcamis/saturn.fm"))),a.a.createElement("button",{className:"close",type:"button",onClick:n.toggleAbout},"Exit"))},lt=function(n){return a.a.createElement("li",null,a.a.createElement("a",{href:n.href},n.children))},ct=Un.b.div(rt());st.propTypes={toggleAbout:v.a.func.isRequired};var ut=st,dt=e(38),At=e.n(dt),mt=e(23),ft=e(39),pt=e.n(ft),ht=e(69);function Ct(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return gt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gt(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return r=n.done,n},e:function(n){s=!0,o=n},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw o}}}}function gt(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}async function bt(n){var t={};try{t=await function(n){return new Promise((function(t,e){pt.a.read(n,{onSuccess:function(n){return t(n)},onError:function(n){return e(n)}})}))}(n)}catch(n){console.log("Fetching Tags Error",n)}var e,i=t.tags,a=(i=void 0===i?{}:i).artist,o=void 0===a?"":a,r=i.album,s=void 0===r?"":r,l=i.title,c=void 0===l?n.name:l,u=i.track,d=void 0===u?0:u,A=i.picture,m=void 0===A?{}:A,f=m.data,p=m.type;if(f){var h=new Uint8Array(f),C=new Blob([h],{type:p});e=URL.createObjectURL(C)}return{file:n,track:d,artist:o,album:s,title:c,albumArtUrl:e}}async function Bt(n){var t;try{t=await async function(n){var t=n.extensions,e=void 0===t?null:t,i=n.allowDirectory,a=void 0!==i&&i;return new Promise((function(n){var t=document.createElement("input");e&&t.setAttribute("accept",e),t.type="file",t.multiple=!0,t.webkitdirectory=a,t.directory=a,t.mozdirectory=a,t.addEventListener("change",(function(e){n(e.target.files),document.body.removeChild(t)})),document.body.appendChild(t),t.click()}))}(n)}catch(n){console.log(n)}return await async function(n){var t,e=[],i=Ct(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.type.includes("audio")&&e.push(bt(a))}}catch(n){i.e(n)}finally{i.f()}return(await Promise.all(e)).reduce((function(n,t){return n[Object(ht.a)()]=t,n}),{})}(t)}function yt(){var n=Mn()(["\n  background-color: rgba(131, 23, 71, 0.65);\n  width: 100%;\n\n  .draggable {\n    * {\n      user-select: none; /* Standard */\n    }\n    cursor: grab;\n    border-radius: 2px;\n    margin: 0 0 2px;\n    display: flex;\n    flex-direction: row;\n    text-align: left;\n    align-items: center;\n    font-size: 10px;\n    font-family: ChibiPhoebe;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 20px;\n\n    @media screen and (min-width: 500px) {\n      font-size: 26px;\n      line-height: 14px;\n      padding: 3px 0 3px;\n      margin: 0;\n    }\n    p {\n      margin: 0;\n      padding: 0;\n    }\n    &:hover {\n      animation: "," 3s infinite;\n    }\n    &:active {\n      cursor: grabbing !important;\n    }\n    &.isDragging {\n      cursor: grabbing;\n      border: 1px white;\n      background: rgba(255, 255, 255, 0.5);\n      border-radius: 2px;\n    }\n    // Handle\n    div:nth-child(1) {\n      width: 40px;\n    }\n    //Song\n    div:nth-child(2) {\n      width: 40%;\n      max-width: 400px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    //Artist\n    div:nth-child(3) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    // Album\n    div:nth-child(4) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    button {\n      font-family: ChibiPhoebe;\n      transition: all 200ms ease;\n      color: white;\n      background: none;\n      border: 0;\n      outline: 0;\n      padding: 0;\n      margin: 0 auto;\n      line-height: inherit;\n    }\n  }\n"]);return yt=function(){return n},n}function vt(){var n=Mn()(["\n0% {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n50% {\n  background: rgba(255, 255, 255, 0.25);\n}\n\n100% {\n  background: rgba(255, 255, 255, 0.1);\n}\n"]);return vt=function(){return n},n}function wt(){var n=Mn()(["\n  background-color: rgba(131, 23, 71, 0.65);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  color: white;\n  text-align: left;\n  font-size: 42px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 500px) {\n    padding: 14px 0 0;\n  }\n\n  div:nth-child(1) {\n    width: 40px;\n  }\n  // Song\n  div:nth-child(2) {\n    width: 40%;\n    max-width: 400px;\n  }\n  //Artist\n  div:nth-child(3) {\n    width: 25%;\n    max-width: 200px;\n  }\n  // Album\n  div:nth-child(4) {\n    width: 25%;\n    max-width: 200px;\n  }\n  div:nth-child(5) {\n    width: 30px;\n  }\n"]);return wt=function(){return n},n}function kt(){var n=Mn()(["\n  margin-top: auto;\n"]);return kt=function(){return n},n}function xt(){var n=Mn()(["\n  width: 100%;\n  max-height: calc(var(--vh, 1vh) * 60);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n"]);return xt=function(){return n},n}function Tt(){var n=Mn()(["\n  margin-top: 2em;\n  button {\n    margin: 0 1em;\n  }\n"]);return Tt=function(){return n},n}function It(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=B()(n);if(t){var a=B()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return g()(this,e)}}var Et=function(n){var t=n.isDragging,e=n.currentPlaying;return"draggable ".concat(t?"isDragging":""," ").concat(e?"currentTrack":"")},St=function(n){h()(e,n);var t=It(e);function e(n){var i;return u()(this,e),(i=t.call(this,n)).onDragEnd=i.onDragEnd.bind(f()(i)),i}return A()(e,[{key:"onDragEnd",value:function(n){var t=N.state.tracks[N.state.currentTrackIndex];if(n.destination){var e=function(n,t,e){var i=Array.from(n),a=i.splice(t,1),o=Z()(a,1)[0];return i.splice(e,0,o),i}(this.props.audio.playlist,n.source.index,n.destination.index);n.source.index===t?this.props.setCurrentTrack(n.destination.index):n.destination.index===t?n.source.index<t?this.props.setCurrentTrack(t-1):this.props.setCurrentTrack(n.destination.index?t+1:1):n.source.index>t&&t>n.destination.index?this.props.setCurrentTrack(t+1):n.source.index<t&&t<n.destination.index&&this.props.setCurrentTrack(t-1),this.props.arrangeTracks(e)}}},{key:"getTracks",value:async function(){var n=await Bt({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(n)}},{key:"getDirectory",value:async function(){var n=await Bt({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(n)}},{key:"render",value:function(){var n=this,t=N.state.tracks,e=F(),i=e.fileReader,o=e.playlist;return a.a.createElement(Vn,{className:"FileReader",header:i.header},a.a.createElement(Dt,null,a.a.createElement(Lt,null,a.a.createElement("div",null,o.number),a.a.createElement("div",null,o.title),a.a.createElement("div",null,o.artist),a.a.createElement("div",null,o.album),a.a.createElement("div",null)),a.a.createElement(Ot,null,a.a.createElement(mt.a,{onDragEnd:this.onDragEnd},a.a.createElement(mt.c,{droppableId:"droppable"},(function(e){return a.a.createElement("div",{ref:e.innerRef},t.map((function(t,e){var i=t.artist,o=t.album,r=t.title,s=t.file;return a.a.createElement(mt.b,{key:s,draggableId:s,index:e},(function(t,s){var l=s.isDragging;return a.a.createElement("div",At()({className:Et({isDragging:l,currentPlaying:!1}),ref:t.innerRef},t.draggableProps,t.dragHandleProps),a.a.createElement("div",null,e+1),a.a.createElement("div",null,r),a.a.createElement("div",null,i),a.a.createElement("div",null,o),a.a.createElement("button",{className:"icon-button",onClick:function(){return n.props.removeTrack(e)},type:"button"},"▵"))}))})),e.placeholder)}))))),a.a.createElement(zt,null,a.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getDirectory()}},"Add a directory"),a.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getTracks()}},"Add file(s)")),a.a.createElement(Pt,null,a.a.createElement("button",{className:"exit-button",type:"button",onClick:this.props.toggleMenu},"Exit")))}}]),e}(i.Component),zt=Un.b.div(Tt()),Dt=Un.b.div(xt()),Pt=Un.b.footer(kt()),Lt=Un.b.div(wt()),Rt=Object(Un.c)(vt()),Ot=Un.b.div(yt(),Rt);St.propTypes={arrangeTracks:v.a.func.isRequired,addTracks:v.a.func.isRequired,removeTrack:v.a.func.isRequired,toggleMenu:v.a.func.isRequired};var Mt=St;var Ut=function(n){var t,e,o,r=n.audioManager,s=Object(i.useState)(0),l=s[0],c=s[1];return t=function(){c(r.currentTime)},e=1e3,o=Object(i.useRef)(),Object(i.useEffect)((function(){o.current=t})),Object(i.useEffect)((function(){if(null!==e){var n=setInterval((function(){null==o||o.current()}),e);return function(){return clearInterval(n)}}}),[e]),a.a.createElement("header",null,a.a.createElement("h3",null,"Track"),a.a.createElement("p",{className:"track-number"},r.state.currentTrackIndex+1),a.a.createElement("h3",null,"Time"),a.a.createElement("p",null,L(l)))},jt=function(){function n(){var n=this;this.stars=[],this.setDimensions(),this.scene=new k.cb,this.renderer=new k.pb({alpha:!0,antialias:!1}),this.domElement=this.renderer.domElement,this.renderer.setPixelRatio(.75),this.renderer.setSize(this.width,this.height),this.debouncedResize=null,window.addEventListener("resize",(function(){clearTimeout(n.debouncedResize),n.debouncedResize=window.setTimeout(n.onResize.bind(n),250)})),window.addEventListener("orientationchange",(function(){n.onResize()})),this.setupScene(),this.start()}return n.prototype.setDimensions=function(){var n=P(),t=window.innerHeight;return this.width=n,this.height=t,[n,t]},n.prototype.onResize=function(){this.setDimensions(),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)},n.prototype.setupScene=function(){var n=new k.k(16777215,3),t=new k.k(16777215,2),e=new k.k(16777215,2),i=new k.S(70,this.width/this.height,.1,1e3);n.position.set(-10,46,600),t.position.set(-200,46,500),e.position.set(200,46,500),this.scene.add(n,t,e),i.position.z=500,this.camera=i,this.addStars()},n.prototype.start=function(){this.rafId=window.requestAnimationFrame(this.animate.bind(this))},n.prototype.stop=function(){window.cancelAnimationFrame(this.rafId)},n.prototype.animate=function(){this.animateStars(),this.animateSpaceship(),this.renderer.render(this.scene,this.camera),this.rafId=window.requestAnimationFrame(this.animate.bind(this))},n.prototype.animateSpaceship=function(){this.spaceship&&(this.spaceship.visible=this.shouldShowSpaceship,this.shouldShowSpaceship&&(this.spaceship.rotateZ(.01),this.spaceship.position.z-=.045,this.spaceship.position.z<400&&(this.spaceship.position.z=0)))},n.prototype.animateStars=function(){for(var n=0;n<this.stars.length;n+=1){var t=this.stars[n];if(!t)return;this.stars[n].position.z+=1.25+.05*n,t.position.z>550&&(t.position.z=-1e3,t.position.x=R(this.width),t.position.y=R(this.height))}},n.prototype.addStars=function(){var n=new k.I({color:7707903}),t=new k.I({color:16741754}),e=new k.I({color:15589691}),i=new k.I({color:16777215}),a=new k.f,o=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);a.setAttribute("position",new k.e(o,3));for(var r=-500;r<500;r+=10){var s=i;r>0&&r<100?s=t:r>100&&r<200?s=e:r>100&&r<200&&(s=n);var l=new k.H(a,s);l.position.x=R(this.width),l.position.y=R(this.height),l.position.z=r;var c=2*Math.random()+1,u=c<.5?.5:c;l.scale.set(u,u,u),this.scene.add(l),this.stars.push(l)}},n.prototype.setupSpaceship=function(){var n=this;(new Q.a).load("../models/saturn_v1.gltf",(function(t){var e,i=t.scene,a=[2.5,-3.5,510],o=a[0],r=a[1],s=a[2];i.position.set(o,r,s),i.rotateZ(3.5),i.rotateY(Math.PI),i.visible=!1;var l=null===(e=i.children[1].material)||void 0===e?void 0:e.map;l.magFilter=k.z,l.minFilter=k.z,l.generateMipmaps=!1,n.spaceship=i,n.scene.add(i)}))},n.prototype.toggleSpaceShipVisbility=function(n){this.shouldShowSpaceship=n,!this.spaceship&&n&&this.setupSpaceship()},n}(),Ft=e(18),Yt=e.n(Ft),qt=e(28),Ht={insert:"head",singleton:!1},Wt=(Yt()(qt.a,Ht),qt.a.locals,function(n){var t=n.isUiHidden,e=a.a.useRef();return function(n,t){var e=a.a.useState(null),i=e[0],o=e[1];a.a.useEffect((function(){var t;i&&(null===(t=null==n?void 0:n.current)||void 0===t||t.appendChild(i.domElement))}),[i]),a.a.useEffect((function(){o(new jt)}),[]),a.a.useEffect((function(){null==i||i.toggleSpaceShipVisbility(t)}),[t])}(e,t),a.a.createElement("div",{className:"starfield"},a.a.createElement("div",{ref:e}))}),Gt=function(n){if(!n)return null;var t=n.href,e=n.artist,i=n.title;return a.a.createElement("div",{className:"current-track-info nice",key:i+e},a.a.createElement("p",null,i," ",e&&a.a.createElement(a.a.Fragment,null,"- ",e)),t&&a.a.createElement("p",null,a.a.createElement("a",{href:t,target:"blank"},t)))},Nt=e.p+"songs/intro.mp3";function Xt(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=B()(n);if(t){var a=B()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return g()(this,e)}}var Zt=function(n){h()(e,n);var t=Xt(e);function e(n){var i;return u()(this,e),i=t.call(this,n),w(f()(i)),i.introEffect=new Audio,i.introEffect.src=Nt,i.state={show:!1,isUiHidden:!1,showAboutModal:!1,fileReaderVisible:!1,frameCallbacks:[]},i.frameId=null,i}return A()(e,[{key:"componentDidMount",value:function(){this.frameId=requestAnimationFrame(this.animate)}},{key:"setupAnalyser",value:function(){var n=this;N.createContext((function(){n.forceUpdate(),n.playIntro()}))}},{key:"getClassNames",value:function(){var n=N.state.playerState===j.Playing,t=N.state.playerState===j.Paused,e=this.state.isUiHidden?"hidden":"",i=N?"intro":" ",a=t?"paused":"",o=n?"playing":"",r=this.state.show?"show":"",s=["ja-JP","ja"].includes(navigator.language)?"japanese":"";return"".concat(e," ").concat(i," ").concat(a," ").concat(o," ").concat(r," ").concat(s)}},{key:"setAnimationCallback",value:function(n){this.setState((function(t){return{frameCallbacks:[].concat(l()(t.frameCallbacks),[n])}}))}},{key:"playIntro",value:function(){var n=this;setTimeout((function(){n.introEffect.play()}),350)}},{key:"hideDash",value:function(){this.setState((function(n){return{isUiHidden:!n.isUiHidden,show:!1}}))}},{key:"showIfHidden",value:function(){this.state.isUiHidden&&(this.frameId=this.frameId||requestAnimationFrame(this.animate),this.setState({isUiHidden:!1,show:!0}))}},{key:"animate",value:function(){this.state.frameCallbacks.forEach((function(n){return n()})),this.frameId=requestAnimationFrame(this.animate)}},{key:"toggleMenu",value:function(){this.frameId?(cancelAnimationFrame(this.frameId),this.frameId=void 0):requestAnimationFrame(this.animate),this.setState((function(n){return{fileReaderVisible:!n.fileReaderVisible}}))}},{key:"render",value:function(){var n=this,t=N.state.playerState===j.Paused,e=N.state.playerState===j.Playing,i=N.state.tracks[N.state.currentTrackIndex];return a.a.createElement("div",{className:this.getClassNames()},"suspended"!==N.analyser.audioContext.state&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ut,{currentTrack:i,audioManager:N}),a.a.createElement(Rn,{isUiHidden:this.state.isUiHidden,showIfHidden:this.showIfHidden,toggleMenu:this.toggleMenu,toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))},hideDash:this.hideDash,setAnimationCallback:this.setAnimationCallback}),a.a.createElement("div",{className:"dashboard"}),a.a.createElement(en,{audioManager:N,isUiHidden:this.state.isUiHidden,isPaused:t,isPlaying:e,setAnimationCallback:this.setAnimationCallback}),this.props.toast&&a.a.createElement("p",null,this.props.toast),this.state.fileReaderVisible&&a.a.createElement(Mt,{setCurrentTrack:function(){},addTracks:function(){},removeTrack:function(){},toggleMenu:this.toggleMenu}),this.state.showAboutModal&&a.a.createElement(ut,{toggleAbout:function(){return n.setState((function(n){return{showAboutModal:!n.showAboutModal}}))}}),i&&a.a.createElement(Gt,{title:i.title,href:i.href,artist:i.artist})),a.a.createElement(Wt,{isUiHidden:this.state.isUiHidden}),"suspended"===N.analyser.audioContext.state&&a.a.createElement("div",{className:"start-context"},a.a.createElement("button",{type:"button",onClick:function(){return n.setupAnalyser()}},"Press Start")))}}]),e}(i.Component);Zt.propTypes={toast:v.a.string},Zt.defaultProps={toast:""};var Qt=Zt,Kt=e(29),Jt={insert:"head",singleton:!1},Vt=(Yt()(Kt.a,Jt),Kt.a.locals,e(21)),_t=e(22);function $t(){var n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(n,"px"))}[Vt.a,_t.a,Tn,rn,sn,ln,cn,un,dn,An,mn,fn,pn,hn].forEach((function(n){(new Image).src=n})),window.addEventListener("resize",(function(){$t()})),window.addEventListener("orientationchange",(function(){$t()})),r.a.render(a.a.createElement(Qt,null),document.getElementById("root"))}});