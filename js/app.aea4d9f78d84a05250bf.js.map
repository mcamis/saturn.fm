{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/songs/02_Akihabara.mp3","webpack:///./src/songs/03_Nothing_Stops_Detroit.mp3","webpack:///./src/songs/04_Gnosis_Hardware.mp3","webpack:///./src/songs/06_Out_Here_At_The_Outersphere.mp3","webpack:///./src/songs/07_Chicago.mp3","webpack:///./src/songs/08_Passports.mp3","webpack:///./src/songs/09_Come_True.mp3","webpack:///./src/songs/shuffle.mp3","webpack:///./src/styles/index.scss?5e7a","webpack:///./src/styles/index.scss","webpack:///./src/images/galaxy.png","webpack:///./src/images/dashboard.png","webpack:///./src/images/header.png","webpack:///./src/images/menuBg.png","webpack:///./src/images/header_bg.png","webpack:///./src/images/knight-rider.png","webpack:///./src/utilities/autobind.js","webpack:///./src/utilities/helpers.js","webpack:///./src/utilities/stereoAnalyser.js","webpack:///./src/reducers/audio.js","webpack:///./src/actions/audio.js","webpack:///./src/utilities/audioManager.js","webpack:///./src/utilities/cubeTransforms.js","webpack:///./src/components/Cubes.js","webpack:///./src/utilities/menuElements.js","webpack:///./src/components/Menu.js","webpack:///./src/components/About.js","webpack:///./src/components/SpeakerIcon.js","webpack:///./src/components/TrashIcon.js","webpack:///./src/utilities/files.js","webpack:///./src/components/FileReader.js","webpack:///./src/components/Header.js","webpack:///./src/components/StarField.js","webpack:///./src/containers/App.js","webpack:///./src/reducers/index.js","webpack:///./src/index.js","webpack:///./src/store/configure.js","webpack:///./src/songs/05_No_Refuge.mp3","webpack:///./src/images/disc.png","webpack:///./src/images/more.png","webpack:///./src/images/hide.png","webpack:///./src/images/rwd.png","webpack:///./src/images/play-pause.png","webpack:///./src/images/ffwd.png","webpack:///./src/images/stop.png","webpack:///./src/images/repeat.png","webpack:///./src/images/texture.gif","webpack:///./src/images/pink.gif","webpack:///./src/images/orb-shadow.png","webpack:///./src/images/test.png","webpack:///./src/effects/button-press.mp3","webpack:///./src/effects/button-highlight.mp3","webpack:///./src/images/time.png","webpack:///./src/images/track.png","webpack:///./src/songs/01_Chaos.mp3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","content","options","locals","getUrl","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","___CSS_LOADER_URL___2___","___CSS_LOADER_URL___3___","___CSS_LOADER_URL___4___","___CSS_LOADER_URL___5___","autobind","obj","prop","average","arr","sceneWidth","actualWidth","idealWidth","document","formatTime","time","MM","Math","SS","randomSize","randomPosition","max","StereoAnalyser","this","AudioContext","analyserLeft","console","analyserRight","splitter","audioContext","createChannelSplitter","createMediaElementSource","mediaElement","Uint8Array","analysisNode","dataArrayLeft","dataArrayRight","requestAnimationFrame","frameId","cancelAnimationFrame","state","defaultState","currentTrack","loading","repeat","currentTime","playing","paused","playlist","tracks","NoRefuge","file","track","album","artist","title","href","loadingStart","store","type","loadingFinish","toggleRepeat","setCurrentTrack","trackIndex","addTracks","arrangeTracks","removeTrack","AudioManager","audioElement","audioActions","setTimeout","nextSong","objectUrl","URL","splitSrc","derivedSrc","src","includes","currentSong","auto","nextIndex","reduxState","currentIndex","newState","analyser","colorTween","target","channelFFT","position","minv","scale","hue","newColor","THREE","updateScaleAndColor","cube","averageFFT","derivedSize","x","y","z","Easing","randomRange","min","activeRotation","modifier","derivedMax","derivedMin","idleRotation","down","up","Cubes","clearTimeout","nextProps","nextState","props","hidden","width","height","scene","camera","ambient","directional","renderer","alpha","antialias","pixRatio","navigator","slot","cubeModel","children","audioManager","leftChannel","rightChannel","leftY","leftCube","rightY","rightCube","className","ref","mount","React","Component","PropTypes","isRequired","orbitGeometry","orbitTexture","pinkTexture","purpleMesh","side","transparent","map","pinkMesh","planeGeometry","shadowGeometry","shadowTexture","animateButtonPosition","plane","easing","delay","duration","InOut","In","Menu","activeButton","allowToggle","prevProps","prevState","menuElements","e","intersects","raycaster","intersectObjects","onClick","rect","domElement","globeTexture","globeMaterial","userData","animationDelay","animationDuration","showShadow","toggleAbout","spinningGlobe","shadowMaterial","opacity","shadowPlane","texture","tilesHoriz","tileDispDuration","milliSec","currentColumn","pink","purple","mapSrc","planeTexture","planeMaterial","shadow","TWEEN","delta","clock","disc","settings","hide","rewind","fastforward","play","playElement","repeatElement","stop","advanced","hideMenu","toggleMenu","ffwdSrc","button","hideDash","showIfHidden","About","version","viewBox","style","stroke","strokeWidth","strokeLinejoin","fill","strokeLinecap","async","generateTrackInfo","metadata","Promise","jsmediatags","onSuccess","tag","resolve","onError","error","reject","getMediaTags","err","getFilesWithTags","fileList","extensions","allowDirectory","fileInput","filePicker","files","filesToAdd","uuidv4","createTracklist","FileReader","items","list","startIndex","endIndex","Array","removed","reorder","audio","onDragEnd","droppableId","provided","innerRef","currentPlaying","item","draggableId","index","isDragging","getDraggableClasses","draggableProvided","callback","savedCallback","useState","componentTime","setComponentTime","useRef","useEffect","id","setInterval","clearInterval","alt","spaceshipPositions","plain","spinny","fast","bufferGeometry","bufferVerticies","Float32Array","color","animation","mainLight","leftLight","rightLight","isSafari","stars","loader","gltf","shipModel","shipMap","spaceShip","material","star","animatedStar","CurrentTrackDisplay","App","show","showAboutModal","fileReaderVisible","frameCallbacks","hiddenClass","pausedClass","playingClass","showClass","randomAnimation","currentInfo","setAnimationCallback","toast","connect","combineReducers","action","A","B","trackKey","cleanTracks","Sentry","dsn","createStore","setManualViewportHeight","vh","ReactDOM"],"mappings":"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","file":"js/app.aea4d9f78d84a05250bf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([162,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"songs/02_Akihabara.mp3\";","module.exports = __webpack_public_path__ + \"songs/03_Nothing_Stops_Detroit.mp3\";","module.exports = __webpack_public_path__ + \"songs/04_Gnosis_Hardware.mp3\";","module.exports = __webpack_public_path__ + \"songs/06_Out_Here_At_The_Outersphere.mp3\";","module.exports = __webpack_public_path__ + \"songs/07_Chicago.mp3\";","module.exports = __webpack_public_path__ + \"songs/08_Passports.mp3\";","module.exports = __webpack_public_path__ + \"songs/09_Come_True.mp3\";","module.exports = __webpack_public_path__ + \"songs/shuffle.mp3\";","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Press+Start+2P);\", \"\"]);\nvar getUrl = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"../images/galaxy.png\"));\nvar ___CSS_LOADER_URL___1___ = getUrl(require(\"../images/dashboard.png\"));\nvar ___CSS_LOADER_URL___2___ = getUrl(require(\"../images/header.png\"));\nvar ___CSS_LOADER_URL___3___ = getUrl(require(\"../images/menuBg.png\"));\nvar ___CSS_LOADER_URL___4___ = getUrl(require(\"../images/header_bg.png\"));\nvar ___CSS_LOADER_URL___5___ = getUrl(require(\"../images/knight-rider.png\"));\n// Module\nexports.push([module.id, \"*{box-sizing:border-box;font-size:inherit}html{height:calc(var(--vh, 1vh) * 100);overflow:hidden}body{font-family:\\\"Press Start 2P\\\", \\\"Monaco\\\", monospace;font-size:22px;font-weight:500;line-height:1.3;height:calc(var(--vh, 1vh) * 100);overflow:hidden;color:#444;margin:0;background:black}p{margin-top:0}em{font-family:\\\"Georgia\\\", serif}.pointer{cursor:pointer}.overlay{background:black;position:fixed;top:0;bottom:0;right:0;left:0;z-index:100}#root{width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);max-width:133.333vh;max-width:calc(var(--vh, 1vh) * 133.33);margin:0 auto;overflow:hidden}#root>div{height:100%;width:100%;position:relative}canvas{position:absolute;bottom:0;text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.cubes canvas{z-index:89}.menu canvas{z-index:90}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.StarField{top:0;width:100%;height:100%;position:absolute}.StarField:after{content:\\\"\\\";background:url(\" + ___CSS_LOADER_URL___0___ + \") no-repeat;background-size:cover;background-color:black;position:absolute;left:-35%;right:-35%;top:-35%;bottom:-35%;animation-name:spin;animation-duration:500s;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-1}.StarField canvas{position:relative;top:0;left:0;right:0;bottom:0;z-index:1}@keyframes fadeInOut{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.dashboard,.dashboard:after{content:\\\"\\\";background:url(\" + ___CSS_LOADER_URL___1___ + \") no-repeat;background-size:100% 50%;background-position:0 100%;position:absolute;left:0;bottom:0;width:50%;z-index:20;padding-bottom:91%;text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.dashboard:after{left:99.9%;right:0;transform:scaleX(-1);width:100%;background-size:100% 100%}header{position:relative;text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}header .info{background:url(\" + ___CSS_LOADER_URL___2___ + \") top center/cover no-repeat;width:100%;height:0;padding-top:calc(36 / 254 * 100%);margin:0 auto;position:relative;z-index:2}header .info .time,header .info .track{position:absolute;top:24%;left:50%;width:8%;line-height:0}header .info .time img,header .info .track img{width:100%}header .info .track{left:15%;width:11.79%}header .info .track-number{font-size:calc(var(--scene-width) / 20);position:absolute;left:28%;top:18%;color:#004848;-webkit-font-smoothing:none}header .info .timer{font-size:calc(var(--scene-width) / 22);position:absolute;left:60%;top:20%;color:#004848;-webkit-font-smoothing:none}.music-picker{background:white}.FileReader,.About{padding:2em;height:100%;cursor:default;font-size:14px}.FileReader:before,.About:before{position:absolute;left:0;right:0;bottom:0;top:0;content:\\\" \\\";display:block;filter:brightness(0);text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;background:url(\" + ___CSS_LOADER_URL___3___ + \") repeat-y;background-position:center;background-size:contain;z-index:-1;animation-name:menuBrightness;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms}@keyframes menuBrightness{from{filter:brightness(0)}to{filter:brightness(1)}}.FileReader .content,.About .content{text-align:center;max-width:800px;margin:0 auto;opacity:0;animation-name:menuContentFadeIn;animation-duration:10ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:1.35s}@keyframes menuContentFadeIn{from{opacity:0}to{opacity:1}}.FileReader h2,.About h2{background:url(\" + ___CSS_LOADER_URL___4___ + \");background-color:rgba(0,0,0,0.5);border-radius:10px;line-height:53px;padding:0 1.5em;background-size:100% 100%;text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;color:white;text-transform:capitalize;margin:0 auto;margin-bottom:2em;display:inline-block}.FileReader h3,.About h3{color:white;margin:0 0 2em}.FileReader button,.About button{cursor:pointer;margin:0 10px}.FileReader .playlists,.About .playlists{background-color:rgba(131,23,71,0.65);border-radius:3px;height:50%;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);font-size:13px;color:white;font-weight:400;font-family:-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;margin:0 0 2em;max-height:calc(var(--vh, 1vh) * 72);overflow:scroll}@media screen and (min-width: 500px){.FileReader .playlists,.About .playlists{padding:1em}}.FileReader .playlists .draggable,.About .playlists .draggable{cursor:grab;padding:8px 10px;border-radius:2px;margin:0 0 2px;display:flex;flex-direction:row;text-align:left;font-size:10px}@media screen and (min-width: 500px){.FileReader .playlists .draggable,.About .playlists .draggable{font-size:16px}}.FileReader .playlists .draggable p,.About .playlists .draggable p{margin:0;padding:0}.FileReader .playlists .draggable:hover,.About .playlists .draggable:hover{animation:selectedItem 3s infinite}.FileReader .playlists .draggable:active,.About .playlists .draggable:active{cursor:grabbing !important}.FileReader .playlists .draggable.isDragging,.About .playlists .draggable.isDragging{cursor:grabbing;border:1px white;background:rgba(255,255,255,0.5);border-radius:2px}.FileReader .playlists .draggable div:nth-child(1),.About .playlists .draggable div:nth-child(1){width:40px}.FileReader .playlists .draggable div:nth-child(2),.About .playlists .draggable div:nth-child(2){width:40%;max-width:400px}.FileReader .playlists .draggable div:nth-child(3),.About .playlists .draggable div:nth-child(3){width:25%;max-width:200px}.FileReader .playlists .draggable div:nth-child(4),.About .playlists .draggable div:nth-child(4){width:25%;max-width:200px}.FileReader .playlists .draggable button,.About .playlists .draggable button{transition:all 200ms ease;margin:0;margin-left:auto;width:10px;appearance:none;border:none;outline:none;background:none;color:rgba(255,255,255,0.6);cursor:pointer;border-radius:2px;width:30px;border:1px solid rgba(255,255,255,0.25);text-align:center}.FileReader .playlists .draggable button:hover,.About .playlists .draggable button:hover{background:darkslategrey;border:1px solid darkslategrey;color:white}.About .content{line-height:22px}.About .content .playlists{font-size:16px !important;text-align:left}.About .content em{margin:0.5em;padding:1em 1em 1em 2em;display:inline-block;border-left:2px solid white}.About .content a{text-decoration:none;color:#f2f2f2;font-weight:bold;margin-left:0.5em}.About .content ul{margin-top:2em}.About .content ul li{list-style-type:none;margin-bottom:15px}@keyframes floatDownRelative{from{transform:translateY(0%)}to{transform:translateY(100%)}}@keyframes floatUpRelative{from{transform:translateY(0%)}to{transform:translateY(-105%)}}@keyframes floatDownButtons{from{transform:translateY(0%)}to{transform:translateY(50vh)}}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}@keyframes selectedItem{0%{background:rgba(255,255,255,0.7)}50%{background:pink}100%{background:rgba(255,255,255,0.7)}}.hidden .toast{animation:blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important}.hidden header{animation-name:floatUpRelative;animation-duration:1000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out}.hidden .dashboard,.hidden .cubes canvas,.hidden li{animation-name:floatDownRelative;animation-duration:2000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden li{animation-name:floatDownButtons;animation-duration:400ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-in}.hidden li:nth-child(1){animation-delay:1400ms;animation-duration:300ms}.hidden li:nth-child(2){animation-delay:1300ms;animation-duration:300ms}.hidden li:nth-child(3){animation-delay:1100ms;animation-duration:300ms}.hidden li:nth-child(4){animation-delay:780ms;animation-duration:350ms}.hidden li:nth-child(5){animation-delay:800ms;animation-duration:350ms}.hidden li:nth-child(6){animation-delay:1000ms;animation-duration:350ms}.hidden li:nth-child(7){animation-delay:680ms}.hidden li:nth-child(8){animation-delay:600ms}.hidden li:nth-child(9){animation-delay:720ms}.hidden li button.bottom:after,.hidden li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden .tooltips{display:none !important}@keyframes toolTip{from{opacity:1}to{opacity:0}}.tooltips p{position:absolute;background:rgba(255,255,255,0.5);left:50%;transform:translate(-50%, 0);bottom:0;z-index:70;padding:5px 10px;text-align:center;font-size:calc(var(--scene-width) / 60);display:inline-block}.tooltips img{height:30px;width:auto;bottom:20px;text-rendering:optimizelegibility;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.tooltips strong{font-weight:normal;color:#ff2034}@keyframes knight-rider{from{left:25%}to{left:69%}}.knight-rider{display:none;content:\\\"\\\";background:url(\" + ___CSS_LOADER_URL___5___ + \") no-repeat;background-position:center center;background-size:100% 100%;height:12%;width:6%;position:absolute;left:50%;bottom:5%;z-index:1;animation-name:knight-rider;animation-duration:1300ms;animation-iteration-count:infinite;animation-timing-function:linear}.playing .knight-rider{display:inline-block}blink{animation:blink 1s infinite}.toast{position:fixed;left:50%;top:40%;transform:translate(-50%, -50%);width:6em;z-index:9999}.paused .knight-rider{display:inline-block;animation-play-state:paused}.paused .timer,.paused .toast,.paused .knight-rider{animation:blink 1s infinite}@keyframes floatInRelative{from{transform:translateY(100%)}to{transform:translateY(0%)}}@keyframes floatDownInRelative{from{transform:translateY(-105%)}to{transform:translateY(0%)}}@keyframes floatInButtons{from{transform:translateY(50vh)}to{transform:translateY(0%)}}.show header{animation-name:floatDownInRelative;animation-duration:600ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:700ms}.show .dashboard,.show .cubes canvas{animation-name:floatInRelative;animation-duration:800ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:300ms}.show li button.bottom:after,.show li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.flip{transform:scaleX(-1);display:inline-block}.current-track-info{font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif;font-weight:lighter;font-size:12px;color:white;position:absolute;bottom:30%;left:10px;z-index:999;opacity:0;text-transform:uppercase;animation-name:fadeInOut;animation-duration:6s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}@media screen and (min-width: 800px){.current-track-info{bottom:10px;left:10px}}.current-track-info p{margin:0}.current-track-info a{text-decoration:underline;font-weight:normal;color:white}\\n\", \"\"]);\n","module.exports = __webpack_public_path__ + \"images/galaxy.png\";","module.exports = __webpack_public_path__ + \"images/dashboard.png\";","module.exports = __webpack_public_path__ + \"images/header.png\";","module.exports = __webpack_public_path__ + \"images/menuBg.png\";","module.exports = __webpack_public_path__ + \"images/header_bg.png\";","module.exports = __webpack_public_path__ + \"images/knight-rider.png\";","/* eslint-disable no-param-reassign */\n/**\n * A helper function for making sure that instances of classes don't have to worry about what `this` means\n * (Can also be used to reduce constructor boilerplate in React components)\n * @param {object}\n * @returns {object} - input object, with each method's `this` bound to the instance\n */\nexport default function autobind(obj) {\n  Object.getOwnPropertyNames(obj.constructor.prototype).forEach(prop => {\n    if (typeof obj[prop] === 'function') {\n      obj[prop] = obj[prop].bind(obj);\n    }\n  });\n}\n","export const average = arr => arr.filter(Boolean).reduce((p, c) => p + c, 0) / arr.length;\n\nexport const sceneWidth = () => {\n  // Maintain a 4:3 aspect ratio on wide screens, shrink on portrait screens\n  const actualWidth = window.innerWidth;\n  const idealWidth = window.innerHeight * 1.3333;\n  if (idealWidth > actualWidth) {\n    document.documentElement.style.setProperty('--scene-width', actualWidth + \"px\");\n    return actualWidth;\n  } else {\n    document.documentElement.style.setProperty('--scene-width', idealWidth + \"px\");\n    return idealWidth;\n  }\n};\n\nexport const formatTime = time => {\n  const MM = Math.trunc(time / 60)\n    .toString()\n    .padStart(2, '0');\n  const SS = Math.trunc(time % 60)\n    .toString()\n    .padStart(2, '0');\n\n  return `${MM}:${SS}`;\n};\n\nexport const randomSize = () => Math.floor(Math.random() * Math.floor(2)) + 2;\nexport const randomPosition = max => Math.random() * max - max * 0.5;\n\n// I am very bad at maths\n// https://stackoverflow.com/a/846249\nexport const logarithmic = position => {\n  const minp = 0;\n  const maxp = 100;\n  const minv = Math.log(1);\n  const maxv = Math.log(142);\n  const scale = (maxv - minv) / (maxp - minp);\n  return Math.exp(minv + scale * (position - minp));\n};\n","import autobind from 'utilities/autobind';\nimport { average } from 'utilities/helpers';\n\nconst FFT_SIZE = 128;\nconst SMOOTHING = 0.1;\n\n// tl;dr; Put stereo audio in, get averaged FFT data out\n//\n//      +-----------+\n//      |   AUDIO   |\n//      +-----+-----+\n//            |\n//            |\n//       +-------------------------------------------+\n//       |    |          AudioContext                |\n//       |-------------------------------------------|\n//       |    |     +---------------------+          |\n//       |    +---->| MediaElementSource  |-----+    |\n//       |          +---------------------+     |    |\n//       |                                      |    |\n//       |          +---------------------+     |    |\n//       |    +-----| ChannelSplitterNode |<----+    |\n//       |    |     +---------------------+          |\n//       |    |                                      |\n//       |    |     +---------------------+          |         +-------------------+\n//       |    +---->|    AnalyserNode     |-----+----|-------> | Averaged FFT Data |\n//       |          +---------------------+     |    |         +-------------------+\n//       |                                      |    |\n//       |        +--------------------------+  |    |\n//       |    +---| AudioContext.Destination |<-+    |\n//       |    |   +--------------------------+       |\n//       |    |                                      |\n//       +-------------------------------------------+\n//            |\n//            |\n//      +----------+\n//      | Speakers |\n//      +----+-----+\n//\n\nexport default class StereoAnalyser {\n  constructor(audio) {\n    this.audio = audio;\n    this.leftChannel = [];\n    this.rightChannel = [];\n    this.setupAudioNodes();\n    autobind(this);\n  }\n\n  /**\n   * Construct and connect all the necessary AudioContext nodes\n   * @private\n   */\n  setupAudioNodes() {\n    // Safari is still prefixed\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n    this.audioContext = new AudioContext();\n\n    const analyserLeft = this.createAnalyserNode();\n    console.log(analyserLeft);\n    const analyserRight = this.createAnalyserNode();\n    const splitter = this.audioContext.createChannelSplitter(2);\n    // createMediaElementSource might be the cause of choppy audio in\n    // https://forums.developer.apple.com/message/353323#353323\n    const mediaElement = this.audioContext.createMediaElementSource(this.audio);\n\n    // Plug source into the splitter\n    mediaElement.connect(splitter);\n\n    // Plug analysers nodes into separate channels\n    splitter.connect(analyserLeft, 0);\n    splitter.connect(analyserRight, 1);\n\n    this.dataArrayLeft = new Uint8Array(analyserLeft.frequencyBinCount);\n    this.dataArrayRight = new Uint8Array(analyserRight.frequencyBinCount);\n    this.analyserLeft = analyserLeft;\n    this.analyserRight = analyserRight;\n  }\n\n  /**\n   * Creates an analyser node and connects context destination\n   * @private\n   */\n  createAnalyserNode() {\n    const analysisNode = this.audioContext.createAnalyser();\n\n    analysisNode.smoothingTimeConstant = SMOOTHING;\n    analysisNode.fftSize = FFT_SIZE;\n\n    // Ensure channel is still audible\n    analysisNode.connect(this.audioContext.destination);\n\n    return analysisNode;\n  }\n\n  /**\n   * Syncs analysis data to `leftChannel` & `rightChannel` on display refresh rate\n   * @private\n   */\n  runAnalysis() {\n    const { analyserLeft, analyserRight, dataArrayLeft, dataArrayRight } = this;\n    // getByteFrequencyData mutates its arguments\n    analyserLeft.getByteFrequencyData(dataArrayLeft);\n    analyserRight.getByteFrequencyData(dataArrayRight);\n    this.leftChannel = dataArrayLeft;\n    this.rightChannel = dataArrayRight;\n\n    // Set to frameId so we can cancel later\n    this.frameId = requestAnimationFrame(this.runAnalysis);\n  }\n\n  /**\n   * @private\n   */\n  startAnalyser() {\n    this.frameId = this.frameId || requestAnimationFrame(this.runAnalysis);\n  }\n\n  /**\n   * @private\n   */\n  pauseAnalyser() {\n    cancelAnimationFrame(this.frameId);\n    this.frameId = undefined;\n  }\n\n  // Public methods ahoy\n\n  start() {\n    if (this.audioContext.state === 'suspended') {\n      this.audioContext.resume();\n    }\n    this.startAnalyser();\n  }\n\n  pause() {\n    this.pauseAnalyser();\n    this.audioContext.suspend();\n  }\n\n  stop() {\n    this.pauseAnalyser();\n    this.audioContext.close();\n  }\n\n  get averageFFT() {\n    return [average(this.leftChannel), average(this.rightChannel)];\n  }\n\n  get rawFFT() {\n    return [this.leftChannel, this.rightChannel];\n  }\n}\n","import { formatTime } from \"utilities/helpers\";\nimport Chaos from \"../songs/01_Chaos.mp3\";\nimport Akihabara from \"../songs/02_Akihabara.mp3\";\nimport NothingStopsDetroit from \"../songs/03_Nothing_Stops_Detroit.mp3\";\nimport GnosisHardware from \"../songs/04_Gnosis_Hardware.mp3\";\nimport NoRefuge from \"../songs/05_No_Refuge.mp3\";\nimport OutHere from \"../songs/06_Out_Here_At_The_Outersphere.mp3\";\nimport Chicago from \"../songs/07_Chicago.mp3\";\nimport Passports from \"../songs/08_Passports.mp3\";\nimport ComeTrue from \"../songs/09_Come_True.mp3\";\nimport Shuffle from \"../songs/shuffle.mp3\";\n\nexport const defaultState = {\n  currentTrack: null,\n  loading: false,\n  repeat: \"off\",\n  currentTime: formatTime(0),\n  playing: false,\n  paused: false,\n  playlist: [\"NoRefuge\"],\n  tracks: {\n    NoRefuge: {\n      file: NoRefuge,\n      track: 1,\n      album: \"Entertainment System\",\n      artist: \"Professor Kliq\",\n      title: \"No Refuge\",\n      href: \"https://www.professorkliq.com\",\n\n    }\n  }\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case \"PLAYING\":\n      return {\n        ...state,\n        playing: true,\n        paused: false\n      };\n    case \"PAUSED\":\n      return {\n        ...state,\n        playing: false,\n        paused: true\n      };\n    case \"TOGGLE_REPEAT\":\n      return {\n        ...state,\n        repeat: action.data.repeat\n      };\n\n    case \"SET_CURRENT_TRACK\":\n      return {\n        ...state,\n        currentTrack: action.data.trackIndex\n      };\n\n    case \"ADD_TRACKS\":\n      return {\n        ...state,\n        tracks: {\n          ...state.tracks,\n          ...action.data.tracks\n        },\n        playlist: [\n          ...state.playlist,\n          // sort new tracks before adding them\n          ...Object.keys(action.data.tracks).sort((a, b) => {\n            const A = action.data.tracks[a];\n            const B = action.data.tracks[b];\n            if (A.album > B.album) return 1;\n            if (A.album < B.album) return -1;\n            if (A.track > B.track) return 1;\n            if (A.track < B.track) return -1;\n          })\n        ]\n      };\n\n    case \"ARRANGE_TRACKS\":\n      return {\n        ...state,\n        playlist: action.data.playlist\n      };\n\n    case \"REMOVE_TRACK\":\n      const trackKey = state.playlist[action.datatrackIndex];\n      const { [trackKey]: removedTrack, ...cleanTracks } = state.tracks;\n      return {\n        ...state,\n        playlist: [\n          ...state.playlist.slice(0, action.data.trackIndex),\n          ...state.playlist.slice(action.data.trackIndex + 1)\n        ],\n        tracks: {\n          ...cleanTracks\n        }\n      };\n    default:\n      return state;\n  }\n};\n","import { store } from 'index';\n\nexport const loadingStart = () =>\n  store.dispatch({\n    type: 'LOADING_STARTED',\n    data: { loading: true },\n  });\n\nexport const loadingFinish = () =>\n  store.dispatch({\n    type: 'LOADING_FINISHED',\n    data: { loading: false },\n  });\n\nexport const toggleRepeat = repeat =>\n  store.dispatch({\n    type: 'TOGGLE_REPEAT',\n    data: { repeat },\n  });\n\nexport const playing = () =>\n  store.dispatch({\n    type: 'PLAYING',\n  });\n\nexport const paused = () =>\n  store.dispatch({\n    type: 'PAUSED',\n  });\n\nexport const setCurrentTrack = trackIndex =>\n  store.dispatch({\n    type: 'SET_CURRENT_TRACK',\n    data: {\n      trackIndex,\n    },\n  });\n\nexport const addTracks = tracks =>\n  store.dispatch({\n    type: 'ADD_TRACKS',\n    data: {\n      tracks,\n    },\n  });\n\nexport const arrangeTracks = playlist =>\n  store.dispatch({\n    type: 'ARRANGE_TRACKS',\n    data: {\n      playlist,\n    },\n  });\n\nexport const removeTrack = trackIndex =>\n  store.dispatch({\n    type: 'REMOVE_TRACK',\n    data: {\n      trackIndex,\n    },\n  });\n","import autobind from 'utilities/autobind';\nimport { store } from 'index';\nimport StereoAnalyser from 'utilities/stereoAnalyser';\nimport { defaultState } from 'reducers/audio';\nimport * as audioActions from 'actions/audio';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\nexport default class AudioManager {\n  constructor() {\n    this.audioElement = new Audio();\n    this.audioElement.crossOrigin = 'anonymous';\n\n    this.repeat = 'off';\n    this.reduxState = defaultState;\n    this.changeSrc = true;\n\n    // TODO: Preloading & total track time?\n    this.analyser = new StereoAnalyser(this.audioElement);\n\n    this.setupEventListeners();\n    this.syncManagerWithStore();\n    autobind(this);\n  }\n\n  syncManagerWithStore() {\n    store.subscribe(() => {\n      this.reduxState = store.getState().audio;\n      if (this.reduxState.currentTrack !== this.currentTrack) {\n        this.currentTrack = this.reduxState.currentTrack;\n        this.changeTrack = true;\n      } else {\n        this.changeTrack = false;\n      }\n    });\n  }\n\n  // Controls\n  togglePlay() {\n    const { audioElement } = this;\n\n    // We haven't started playing yet, so set src to first track in playlist\n    if (!audioElement.src) {\n      audioActions.setCurrentTrack(0);\n    }\n    if (audioElement.paused || audioElement.ended) {\n      // Delay so the song and sound effect don't overlap\n      setTimeout(() => this.playAndReport(), 500);\n    } else {\n      audioElement.pause();\n    }\n  }\n\n  playAndReport() {\n    const { tracks, playlist, currentTrack = 0 } = this.reduxState;\n    const trackKey = playlist[currentTrack];\n    // console.log({trackKey})\n    const nextSong = tracks[trackKey].file;\n\n    if (nextSong instanceof File) {\n      const objectUrl = URL.createObjectURL(nextSong);\n      this.audioElement.src = objectUrl;\n      this.audioElement.play();\n    } else {\n      // TODO: This was a dumb kludge that causes lots of files to restart after pausing\n      // TODO: Workaround for preloaded files, move this to redux?\n      const splitSrc = nextSong.split('./songs');\n      const isFromDefaultPlaylist = splitSrc.length > 0;\n      const derivedSrc = isFromDefaultPlaylist ? splitSrc[1] : nextSong;\n\n      if (!this.audioElement.src || !this.audioElement.src.includes(derivedSrc)) {\n        this.audioElement.src = nextSong;\n      }\n      this.audioElement.play();\n    }\n  }\n\n  // Prevent memory leaks and revoke ObjectURL if one exists\n  revokeSongUrl() {\n    const { tracks, playlist, currentTrack = 0 } = this.reduxState;\n    const trackKey = playlist[currentTrack];\n    const currentSong = tracks[trackKey].file;\n    if (currentSong instanceof File) {\n      URL.revokeObjectURL(currentSong);\n    }\n  }\n\n  loadNext(auto) {\n    this.revokeSongUrl();\n    const nextIndex = this.reduxState.currentTrack + 1;\n\n    // If we're trying to skip past tracks length, go to first song\n    if (nextIndex >= this.reduxState.playlist.length) {\n      audioActions.setCurrentTrack(0);\n      // Only auto-play track if repeat is on or user has explicitly skipped?\n      if (!auto || this.reduxState.repeat === 'context') {\n        this.playAndReport();\n      }\n    } else {\n      audioActions.setCurrentTrack(nextIndex);\n\n      this.playAndReport();\n    }\n  }\n\n  loadPrevious() {\n    this.revokeSongUrl();\n\n    const currentIndex = this.reduxState.currentTrack;\n    const nextIndex = currentIndex ? currentIndex - 1 : 0;\n    audioActions.setCurrentTrack(nextIndex);\n    this.playAndReport();\n  }\n\n  setupEventListeners() {\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mediaevents\n    this.audioElement.addEventListener('loadstart', () =>\n      audioActions.loadingStart()\n    );\n\n    // TODO: Get this working locally\n    this.audioElement.addEventListener('canplaythrough', () =>\n      audioActions.loadingFinish()\n    );\n\n    this.audioElement.addEventListener('play', () => {\n      audioActions.playing();\n      this.analyser.start();\n    });\n\n    this.audioElement.addEventListener('pause', () => {\n      // TODO: Manually set pause state to fix stop\n      audioActions.paused();\n      this.analyser.pause();\n    });\n\n    this.audioElement.addEventListener('ended', () => {\n      if (this.reduxState.repeat === 'track') {\n        this.togglePlay();\n      } else {\n        this.loadNext(true);\n      }\n    });\n\n    // TODO: Error handling\n    /*\n      suspend\n      Media data is no longer being fetched even though the file has not been entirely downloaded.\n      abort\n      Media data download has been aborted but not due to an error.\n      error\n      An error is encountered while media data is being download.\n      emptied\n      The media buffer has been emptied, possibly due to an error or because the load() method was invoked to reload it.\n      stalled\n      Media data is unexpectedly no longer available.\n    */\n  }\n\n  nextTrack() {\n    this.loadNext();\n  }\n\n  previousTrack() {\n    // TODO: Figure out saturn offset for skip back\n    if (this.audioElement.currentTime >= 3) {\n      this.audioElement.currentTime = 0;\n    } else {\n      this.loadPrevious();\n    }\n  }\n\n  pause() {\n    this.audioElement.pause();\n  }\n\n  stop() {\n    // TODO: Saturn behavior\n    // const [firstSong] = this.tracks;\n    this.audioElement.pause();\n    // this.audioElement.src = firstSong;\n    this.audioElement.currentTime = 0;\n  }\n\n  toggleRepeat() {\n    let newState;\n    switch (this.reduxState.repeat) {\n      case 'off':\n        newState = 'track';\n        break;\n      case 'track':\n        newState = 'context';\n        break;\n      default:\n        newState = 'off';\n        break;\n    }\n    audioActions.toggleRepeat(newState);\n  }\n\n  get analyserFFT() {\n    return this.analyser.averageFFT;\n  }\n\n  get rawFFT() {\n    return this.analyser.rawFFT;\n  }\n\n  get currentTime() {\n    return this.audioElement.currentTime;\n  }\n}\n","import { Tween, Easing } from 'es6-tween';\nimport * as THREE from 'three';\n\nimport { logarithmic } from 'utilities/helpers';\n\nconst COLOR_TWEENING_SCALE = 0.75;\nconst MAX_ACTIVE_ROTATION = 0.03;\nconst MIN_ACTIVE_ROTATION = 0.01;\nconst IDLE_ROTATION = 0.0025;\n\nconst colorTween = (target, channelFFT) => {\n  const logVal = logarithmic(channelFFT * COLOR_TWEENING_SCALE);\n  const hue = 142.5 - logVal;\n\n  // const initial = new THREE.Color(target.material.color.getHex());\n  // TODO: This HSL change is quick but doesn't exactly match the original behavior\n  const newColor = new THREE.Color(`hsl(${hue > 0 ? hue : 0}, 100%, 48%)`);\n\n  target.material.color.set(newColor);\n  // return new Tween(initial)\n  //   .to(newColor, 150)\n  //   .easing(Easing.Quadratic.Out)\n  //   .onUpdate(() => {\n  //     target.material.color.set(initial);\n  //   })\n  //   .start();\n};\n\nexport const updateScaleAndColor = (cube, averageFFT) => {\n  colorTween(cube, averageFFT);\n\n  const derivedSize = averageFFT * 0.008 + 0.5;\n  const m = derivedSize < 1.65 ? derivedSize : 1.65;\n\n  // eslint-disable-next-line\n  cube.morphTargetInfluences[0] =\n    averageFFT * 0.007 > 1 ? 1 : averageFFT * 0.007;\n  // cube.scale.set(derivedMax, derivedMax, derivedMax);\n\n  return new Tween(cube.scale)\n    .to({ x: m, y: m, z: m }, 100)\n    .easing(Easing.Quadratic.Out)\n    .start();\n};\n\nconst randomRange = (max, min) => Math.random() * (max - min) + min;\n\nexport const activeRotation = (cube, modifier) => {\n  // TODO: At random interval, flip directions\n  const derivedMax = modifier\n    ? -Math.abs(MAX_ACTIVE_ROTATION)\n    : MAX_ACTIVE_ROTATION;\n  const derivedMin = modifier\n    ? -Math.abs(MIN_ACTIVE_ROTATION)\n    : MIN_ACTIVE_ROTATION;\n\n  cube.rotateX(randomRange(derivedMax, derivedMin));\n  cube.rotateY(randomRange(derivedMax, derivedMin));\n};\n\nexport const idleRotation = (cube, modifier = 1, down, up) => {\n  if (up) {\n    cube.position.y += 0.0075;\n  } else if (down) {\n    cube.position.y -= 0.0075;\n  }\n  // cube.rotateX(IDLE_ROTATION * modifier);\n  cube.rotateY(IDLE_ROTATION * modifier);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as THREE from 'three';\nimport autobind from 'utilities/autobind';\nimport GLTFLoader from 'three-gltf-loader';\n\nimport { sceneWidth } from 'utilities/helpers';\nimport {\n  activeRotation,\n  idleRotation,\n  updateScaleAndColor,\n} from 'utilities/cubeTransforms';\n\nclass Cubes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.debouncedResize = null;\n    this.loader = new GLTFLoader();\n    this.animateDownL = true;\n    this.animateUpL = false;\n    this.animateDownR = true;\n    this.animateUpR = false;\n\n    autobind(this);\n    window.addEventListener('resize', () => {\n      clearTimeout(this.debouncedResize);\n      this.debouncedResize = setTimeout(this.onResize, 250);\n    });\n\n    window.addEventListener(\"orientationchange\", () => {\n      this.onResize();\n    });\n  }\n\n  componentDidMount() {\n    this.setupScene();\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.hidden !== nextProps.hidden) {\n      return true;\n    }\n    return false;\n  }\n\n  onResize() {\n    const width = sceneWidth();\n    const height = width * 0.75;\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(width, height);\n  }\n\n  setupScene() {\n    const width = sceneWidth();\n    const height = width * 0.75;\n\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(20, width / height, 1, 1200);\n    camera.position.z = 45;\n    camera.position.y = -27;\n\n    const ambient = new THREE.AmbientLight(0xffffff, 0.35);\n    const directional = new THREE.DirectionalLight(0xffffff, 0.7);\n    directional.position.set(0, 500, 900);\n    scene.add(ambient, directional);\n\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: false });\n\n    const isSafari =\n      navigator.userAgent.indexOf('Safari') !== -1 &&\n      navigator.userAgent.indexOf('Chrome') === -1;\n\n    const pixRatio = window.devicePixelRatio;\n    renderer.setPixelRatio(pixRatio === 1 ? pixRatio * 0.5 : pixRatio * 0.25);\n    renderer.setSize(width, height);\n\n    this.scene = scene;\n    this.camera = camera;\n    this.renderer = renderer;\n    this.setupCube('leftCube', [-6.75, -29.3, 0]);\n    this.setupCube('rightCube', [6.75, -29.7, 0]);\n\n    this.mount.appendChild(this.renderer.domElement);\n  }\n\n  setupCube(slot, [x, y, z]) {\n    this.loader.load(\n      './models/cubeBigger.gltf',\n      ({\n        scene: {\n          children: [, , cubeModel],\n        },\n      }) => {\n        cubeModel.material.color = new THREE.Color('hsl(143, 100%, 48%)');\n        cubeModel.position.set(x, y, z);\n        cubeModel.rotateX(0.075);\n        if (slot === 'rightCube') {\n          cubeModel.rotateY(0.075);\n        } else {\n          cubeModel.rotateY(-0.1);\n        }\n\n        this[slot] = cubeModel;\n        this.scene.add(cubeModel);\n        if (slot === 'rightCube') this.props.setAnimationCallback(this.animate);\n      }\n    );\n  }\n\n  animate() {\n    // Only animated the cubes when audio is playing\n    if (this.props.playing) {\n      const [leftChannel, rightChannel] = this.props.audioManager.analyserFFT;\n\n      // Reset to middle after idle\n      this.leftCube.position.y = -29;\n      this.rightCube.position.y = -29;\n\n      updateScaleAndColor(this.leftCube, leftChannel);\n      updateScaleAndColor(this.rightCube, rightChannel);\n      activeRotation(this.leftCube);\n      activeRotation(this.rightCube, -1);\n    } else {\n      const { y: leftY } = this.leftCube.position;\n      if (leftY >= -28.25 && !this.animateDownL) {\n        this.animateDownL = true;\n        this.animateUpL = false;\n      }\n      if (leftY <= -30.25 && !this.animateUpL) {\n        this.animateUpL = true;\n        this.animateDownL = false;\n      }\n      const { y: rightY } = this.rightCube.position;\n      if (rightY >= -28.25 && !this.animateDownR) {\n        this.animateDownR = true;\n        this.animateUpR = false;\n      }\n      if (rightY <= -30.25 && !this.animateUpR) {\n        this.animateUpR = true;\n        this.animateDownR = false;\n      }\n\n      // TODO: Idle color\n      idleRotation(this.leftCube, 0.35, this.animateDownL, this.animateUpL);\n      idleRotation(this.rightCube, 0.35, this.animateDownR, this.animateUpR);\n    }\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  render() {\n    return (\n      <div\n        className=\"cubes\"\n        ref={mount => {\n          this.mount = mount;\n        }}\n      />\n    );\n  }\n}\n\nCubes.propTypes = {\n  // audioManager: PropTypes.instanceOf(AudioManager).isRequired,\n  playing: PropTypes.bool.isRequired,\n};\n\nexport default Cubes;\n","import discSrc from 'images/disc.png';\nimport moreSrc from 'images/more.png';\nimport hideSrc from 'images/hide.png';\nimport rwdSrc from 'images/rwd.png';\nimport playSrc from 'images/play-pause.png';\nimport ffwdSrc from 'images/ffwd.png';\nimport stopSrc from 'images/stop.png';\nimport repeatSrc from 'images/repeat.png';\nimport textureSrc from 'images/texture.gif';\nimport pinkSrc from 'images/pink.gif';\nimport orbShadow from 'images/orb-shadow.png';\n\nimport * as THREE from 'three';\nimport { Tween, Easing } from 'es6-tween';\n\nexport const orbitGeometry = new THREE.CylinderGeometry(\n  1.45,\n  1.45,\n  0.35,\n  12,\n  1,\n  true\n);\nconst orbitTexture = new THREE.TextureLoader().load(textureSrc);\nconst pinkTexture = new THREE.TextureLoader().load(pinkSrc);\n\n// NearestFilter gets us that sweet sweet pixelated look\norbitTexture.magFilter = THREE.NearestFilter;\npinkTexture.magFilter = THREE.NearestFilter;\n\nexport const purpleMesh = new THREE.MeshBasicMaterial({\n  side: THREE.DoubleSide,\n  transparent: true,\n  map: orbitTexture,\n});\n\nexport const pinkMesh = new THREE.MeshBasicMaterial({\n  side: THREE.DoubleSide,\n  transparent: true,\n  map: pinkTexture,\n});\n\nexport const planeGeometry = new THREE.PlaneGeometry(2, 2, 1, 1);\nexport const shadowGeometry = new THREE.PlaneGeometry(1.5, 1.5, 1, 1);\nexport const shadowTexture = new THREE.TextureLoader().load(orbShadow);\n\nexport const createButtons = (audioManager, hideMenu, toggleMenu, toggleAbout) => [\n  {\n    name: 'disc',\n    position: [-2.25, 0, 1],\n    onClick: () => {\n      setTimeout(() => toggleMenu(), 500);\n    },\n    animationDuration: 400,\n    animationDelay: 220,\n    mapSrc: discSrc,\n    showShadow: false,\n  },\n  {\n    name: 'settings',\n    position: [0, 0, 1],\n    onClick: () => {},\n    animationDelay: 100,\n    animationDuration: 400,\n    mapSrc: moreSrc,\n    showShadow: false,\n  },\n  {\n    name: 'hide',\n    position: [2.25, 0, 1],\n    onClick: hideMenu,\n    animationDelay: 180,\n    animationDuration: 400,\n    mapSrc: hideSrc,\n    showShadow: false,\n  },\n  {\n    name: 'rewind',\n    position: [-2.25, -2.15, 1],\n    onClick: audioManager.previousTrack,\n    animationDelay: 500,\n    animationDuration: 350,\n    mapSrc: rwdSrc,\n    showShadow: false,\n  },\n  {\n    name: 'play',\n    position: [0, -2.15, 1],\n    onClick: audioManager.togglePlay,\n    animationDelay: 300,\n    animationDuration: 350,\n    mapSrc: playSrc,\n    showShadow: false,\n  },\n  {\n    name: 'fastforward',\n    position: [2.25, -2.15, 1],\n    onClick: audioManager.nextTrack,\n    animationDelay: 280,\n    animationDuration: 350,\n    mapSrc: ffwdSrc,\n  },\n  {\n    name: 'repeat',\n    position: [-2.25, -4.3, 1],\n    onClick: audioManager.toggleRepeat,\n    animationDelay: 600,\n    animationDuration: 300,\n    mapSrc: repeatSrc,\n    showShadow: true,\n  },\n  {\n    name: 'stop',\n    position: [0, -4.3, 1],\n    onClick: audioManager.stop,\n    animationDelay: 700,\n    animationDuration: 300,\n    mapSrc: stopSrc,\n    showShadow: true,\n  },\n\n  // {\n  //   name: 'advanced',\n  //   position: [2.25, -4.3, 1],\n  //   onClick: hideDash,\n  //   animationDelay: 900,\n  //   animationDuration: 300,\n  //   mapSrc: advancedSrc,\n  // },\n];\n\n/* Animates a Vector3 to the target */\nexport function slideDown(\n  vectorToAnimate,\n  { x, y, z },\n  { easing = Easing.Quadratic.In, delay, duration = 2000 }\n) {\n  // create the tween\n  const tweenVector3 = new Tween(vectorToAnimate)\n    .to({ x, y, z }, duration)\n    .easing(easing)\n    // .onUpdate(d => {\n    //   if (options.update) {\n    //     options.update(d);\n    //   }\n    // })\n    // .onComplete(() => {\n    //   if (options.callback) options.callback();\n    // })\n    .delay(delay);\n\n  // start the tween\n  tweenVector3.start();\n  // return the tween in case we want to manipulate it later on\n  // return tweenVector3;\n}\n\nexport function animateButtonPosition(plane, target) {\n  slideDown(plane.position, target, {\n    duration: plane.material.userData.animationDuration,\n    delay: plane.material.userData.animationDelay,\n    easing: Easing.Quadratic.InOut,\n  });\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { sceneWidth } from \"utilities/helpers\";\n\nimport {\n  animateButtonPosition,\n  createButtons,\n  orbitGeometry,\n  purpleMesh,\n  pinkMesh,\n  planeGeometry,\n  shadowGeometry,\n  shadowTexture\n} from \"utilities/menuElements\";\n\nimport testPng from \"images/test.png\";\n\n// Todo: Import specific tween functions as needed\nimport * as TWEEN from \"es6-tween\";\nimport * as THREE from \"three\";\n\nimport buttonSrc from \"effects/button-press.mp3\";\nimport highlightSrc from \"effects/button-highlight.mp3\";\n\nimport autobind from \"utilities/autobind\";\n\n// TODO: Set more magic numbers to constants\nconst SHADOW_OFFSET = 1.025;\n\nclass Menu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.timeOut = null;\n    this.planes = [];\n    this.shadowPlanes = [];\n\n    this.buttonEffect = new Audio();\n    this.buttonEffect.src = buttonSrc;\n    this.highlightEffect = new Audio();\n    this.highlightEffect.src = highlightSrc;\n    this.state = {\n      activeButton: \"play\",\n      allowToggle: false\n    };\n\n    this.clock = new THREE.Clock();\n\n    this.buttons = [\n      \"disc\",\n      \"settings\",\n      \"hide\",\n      \"rewind\",\n      \"play\",\n      \"fastforward\",\n      \"repeat\",\n      \"stop\",\n      \"advanced\"\n    ];\n    autobind(this);\n  }\n\n  componentDidMount() {\n    this.setupScene();\n\n    this.setupKeyboardListeners();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.activeButton !== nextState.activeButton) {\n      return true;\n    }\n    if (\n      this.props.hidden !== nextProps.hidden ||\n      this.props.paused !== nextProps.paused ||\n      this.props.repeat !== nextProps.repeat ||\n      this.props.playing !== nextProps.playing\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.activeButton !== prevState.activeButton) {\n      if(this.canPlay()){\n        this.highlightEffect.currentTime = 0;\n        this.highlightEffect.play();\n      }\n      const [x, y] = this.menuElements[this.state.activeButton].position;\n      this.orbits.pink.position.set(x, y, 2);\n      this.orbits.purple.position.set(x, y, 2.03);\n    }\n  }\n\n  onResize() {\n    const width = sceneWidth();\n    const height = width * 0.75;\n    this.camera.aspect = width / height;\n\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(width, height);\n    // if(window.innerWidth < 400) {\n    //   this.shadowPlanes.forEach(shadow => shadow.visible = false);\n    // } else {\n    //   this.shadowPlanes.forEach(shadow => shadow.visible = true);\n    // }\n  }\n\n  onMouseDown(e) {\n    e.stopPropagation();\n    if (this.props.hidden) return;\n\n    this.raycaster.setFromCamera(this.mouse, this.camera);\n\n    const intersects = this.raycaster.intersectObjects(this.planes);\n    if (intersects.length > 0) {\n      const {\n        object: {\n          material: {\n            userData: { onClick }\n          }\n        }\n      } = intersects[0];\n\n      const { object } = intersects[0];\n\n      this.triggerButtonCallback(object, onClick);\n    }\n  }\n\n  onMouseMove(e) {\n    const rect = this.renderer.domElement.getBoundingClientRect();\n    // TODO/WTF: Why is * 1.5 necessary!?\n    this.mouse.x =\n      ((e.clientX - rect.left * 1.5) / (rect.width - rect.left)) * 2 - 1;\n    this.mouse.y = -((e.clientY - rect.top) / (rect.bottom - rect.top)) * 2 + 1;\n\n    this.manageActiveButton();\n  }\n\n  setupKeyboardListeners() {\n    window.addEventListener(\"keydown\", e => {\n      let nextIndex = this.buttons.indexOf(this.state.activeButton);\n      switch (e.code) {\n        case \"ArrowRight\":\n          if (nextIndex !== 2 && nextIndex !== 5) {\n            nextIndex += 1;\n          }\n          break;\n        case \"ArrowLeft\":\n          if (nextIndex !== 3 && nextIndex !== 6) {\n            nextIndex -= 1;\n          }\n          break;\n\n        case \"ArrowUp\":\n          nextIndex -= 3;\n          break;\n        case \"ArrowDown\":\n          nextIndex += 3;\n          break;\n        case \"Enter\":\n          this.triggerButtonCallback(\n            this.menuElements[this.buttons[nextIndex]],\n            this.menuElements[this.buttons[nextIndex]].onClick\n          );\n          break;\n        default:\n          nextIndex = -1;\n      }\n\n      if (nextIndex >= 0 && nextIndex < this.buttons.length) {\n        this.setState({ activeButton: this.buttons[nextIndex] });\n      }\n    });\n  }\n\n  setupScene() {\n    const width = sceneWidth();\n    const height = width * 0.75;\n    const scene = new THREE.Scene();\n\n    const camera = new THREE.PerspectiveCamera(2.5, width / height, 1, 500);\n    camera.aspect = width / height;\n\n    camera.position.z = 360;\n    camera.position.y = 0.5;\n    camera.updateProjectionMatrix();\n\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: false });\n    renderer.setSize(width, height);\n\n    this.mouse = new THREE.Vector2();\n    this.raycaster = new THREE.Raycaster();\n    this.scene = scene;\n    this.camera = camera;\n\n    this.renderer = renderer;\n    this.mount.appendChild(this.renderer.domElement);\n\n    this.createMenuElements();\n    this.setupOrbAnimation();\n    this.setupEventListeners();\n\n    this.props.setAnimationCallback(this.animate);\n  }\n\n  setupEventListeners() {\n    const {\n      renderer: { domElement }\n    } = this;\n\n    window.addEventListener(\"resize\", () => {\n      clearTimeout(this.timeOut);\n      this.timeOut = setTimeout(this.onResize, 250);\n    });\n\n    window.addEventListener(\"orientationchange\", () => {\n      this.onResize();\n    });\n\n    domElement.addEventListener(\"mousedown\", e => this.onMouseDown(e), false);\n    domElement.addEventListener(\"mousemove\", e => this.onMouseMove(e), false);\n  }\n\n  setupOrbAnimation() {\n    const [x, y, z] = [2.25, -4.3, 1];\n\n    const globeTexture = new THREE.TextureLoader().load(testPng);\n    globeTexture.magFilter = THREE.NearestFilter;\n    globeTexture.minFilter = THREE.NearestFilter;\n\n    // https://stemkoski.github.io/Three.js/Texture-Animation.html\n    this.textureAnimator = new this.TextureAnimator(globeTexture, 455, 40);\n\n    const globeMaterial = new THREE.MeshBasicMaterial({\n      map: globeTexture,\n      transparent: true,\n      name: \"advanced\",\n      userData: {\n        animationDelay: 900,\n        animationDuration: 300,\n        showShadow: true,\n        onClick: this.props.toggleAbout\n      }\n    });\n\n    const spinningGlobe = new THREE.Mesh(planeGeometry, globeMaterial);\n    spinningGlobe.position.set(x, y, z);\n\n    shadowTexture.magFilter = THREE.NearestFilter;\n    shadowTexture.minFilter = THREE.NearestFilter;\n\n    const shadowMaterial = new THREE.MeshBasicMaterial({\n      map: shadowTexture,\n      transparent: true,\n      opacity: 0.5,\n      name,\n      userData: {\n        animationDelay: 900,\n        animationDuration: 300\n      }\n    });\n\n    const shadowPlane = new THREE.Mesh(shadowGeometry, shadowMaterial);\n    shadowPlane.position.set(x, y - SHADOW_OFFSET, z - 0.5);\n    // shadowPlane.visible = window.innerWidth >= 400;\n    this.shadowPlanes.push(shadowPlane);\n    this.scene.add(shadowPlane);\n\n    this.planes.push(spinningGlobe);\n    this.scene.add(spinningGlobe);\n  }\n\n  // TODO: Move to utility class\n  TextureAnimator(texture, tilesHoriz, tileDispDuration) {\n    this.tilesHorizontal = tilesHoriz;\n    this.numberOfTiles = tilesHoriz;\n    texture.wrapS = THREE.RepeatWrapping;\n    texture.wrapT = THREE.RepeatWrapping;\n    texture.repeat.set(1 / this.tilesHorizontal, 1);\n\n    this.tileDisplayDuration = tileDispDuration;\n    this.currentDisplayTime = 0;\n    this.currentTile = 0;\n\n    this.update = milliSec => {\n      this.currentDisplayTime += milliSec;\n      while (this.currentDisplayTime > this.tileDisplayDuration) {\n        this.currentDisplayTime -= this.tileDisplayDuration;\n        this.currentTile += 1;\n        if (this.currentTile === this.numberOfTiles) this.currentTile = 0;\n        const currentColumn = this.currentTile % this.tilesHorizontal;\n        texture.offset.x = currentColumn / this.tilesHorizontal;\n      }\n    };\n  }\n\n  placeOrbitsInScene() {\n    const [x, y] = [0, -2.15];\n    const pink = new THREE.Mesh(orbitGeometry, pinkMesh);\n    const purple = new THREE.Mesh(orbitGeometry, purpleMesh);\n\n    // Push the orbits slight ahead in Z so they hit the plane at the eges of the sphere\n    pink.position.set(x, y, 2);\n    pink.rotateX(0.35);\n    pink.rotateZ(-0.8);\n\n    purple.position.set(x, y, 2.03);\n    purple.rotateZ(0.8);\n    purple.rotateX(0.25);\n    purple.rotateY(1);\n\n    this.orbits = {\n      pink,\n      purple\n    };\n\n    this.scene.add(pink, purple);\n  }\n\n  placeInScene({\n    name = \"\",\n    position,\n    onClick,\n    mapSrc,\n    animationDelay,\n    animationDuration,\n    showShadow\n  }) {\n    const [x, y, z] = position;\n\n    const planeTexture = new THREE.TextureLoader().load(mapSrc);\n    planeTexture.magFilter = THREE.NearestFilter;\n    planeTexture.minFilter = THREE.NearestFilter;\n\n    const planeMaterial = new THREE.MeshBasicMaterial({\n      map: planeTexture,\n      transparent: true,\n      name,\n      userData: {\n        onClick,\n        animationDelay,\n        animationDuration\n      }\n    });\n\n    const plane = new THREE.Mesh(planeGeometry, planeMaterial);\n    plane.position.set(x, y, z);\n    if (showShadow) {\n      shadowTexture.magFilter = THREE.NearestFilter;\n      shadowTexture.minFilter = THREE.NearestFilter;\n\n      const shadowMaterial = new THREE.MeshBasicMaterial({\n        map: shadowTexture,\n        transparent: true,\n        opacity: 0.5,\n        name,\n        userData: {\n          animationDelay,\n          animationDuration\n        }\n      });\n      const shadowPlane = new THREE.Mesh(shadowGeometry, shadowMaterial);\n      shadowPlane.position.set(x, y - SHADOW_OFFSET, z - 0.5);\n      // shadowPlane.visible = window.innerWidth >= 400;\n      this.shadowPlanes.push(shadowPlane);\n      this.scene.add(shadowPlane);\n    }\n    // plane.rotateZ(0.75);\n    this.planes.push(plane);\n    this.scene.add(plane);\n  }\n\n  orbitButton() {\n    const { pink, purple } = this.orbits;\n\n    if (this.props.hidden) {\n      pink.material.visible = false;\n      purple.material.visible = false;\n    } else {\n      pink.material.visible = true;\n      purple.material.visible = true;\n      pink.rotateY(-0.065);\n      purple.rotateY(0.07);\n    }\n  }\n\n  // TODO: Throttle this\n  manageActiveButton() {\n    this.raycaster.setFromCamera(this.mouse, this.camera);\n    const intersects = this.raycaster.intersectObjects(this.planes);\n    if (intersects.length > 0) {\n      const {\n        object: {\n          material: { name }\n        }\n      } = intersects[0];\n      if (name && name !== this.state.activeButton) {\n        this.setState({ activeButton: name });\n      }\n      document.body.classList.add(\"pointer\");\n    } else {\n      document.body.classList.remove(\"pointer\");\n    }\n  }\n\n\n  canPlay() {\n    return this.props.audioManager.analyser.audioContext.state !== 'suspended'\n  }\n\n  hideMenu() {\n    if (this.props.hidden) {\n      return this.showIfHidden();\n    }\n\n    // TODO: Switch this to the real sound effect\n    if(this.canPlay()){\n      this.highlightEffect.currentTime = 0;\n      this.highlightEffect.play();\n    }\n\n    this.planes.forEach(plane => {\n      const { x, y, z } = plane.position;\n      animateButtonPosition(plane, new THREE.Vector3(x, y - 10, z));\n    });\n\n    this.shadowPlanes.forEach(shadow => {\n      shadow.visible = false;\n    });\n    this.props.hideDash();\n    setTimeout(() => this.setState({ allowToggle: true }), 1400);\n  }\n\n  animate() {\n    // TODO: Move tween.update to a central location?\n    TWEEN.update();\n    this.orbitButton();\n\n    const delta = this.clock.getDelta();\n    this.renderer.render(this.scene, this.camera);\n    this.textureAnimator.update(1000 * delta);\n  }\n\n  showIfHidden() {\n    if (this.state.allowToggle && this.props.hidden) {\n      this.props.showIfHidden();\n      this.setState({ allowToggle: false });\n      this.planes.forEach(plane => {\n        const { x, y, z } = plane.position;\n        animateButtonPosition(plane, new THREE.Vector3(x, y + 10, z));\n      });\n      setTimeout(() => {\n        this.shadowPlanes.forEach(shadow => {\n          shadow.visible = true;\n        });\n      }, 1000);\n    }\n  }\n\n  triggerButtonCallback(object, onClick) {\n    new TWEEN.Tween(object.scale)\n      .to({ x: 1.5, y: 1.5, z: 1.5 }, 100)\n      .easing(TWEEN.Easing.Quadratic.Out)\n      .start();\n\n    setTimeout(() => {\n      new TWEEN.Tween(object.scale)\n        .to({ x: 1, y: 1, z: 1 }, 100)\n        .easing(TWEEN.Easing.Quadratic.In)\n        .start();\n    }, 250);\n\n    // TODO: Scale up onClick\n    if(this.canPlay()){\n      this.buttonEffect.currentTime = 0;\n      this.buttonEffect.play();\n    }\n    onClick();\n  }\n\n  getToolTip() {\n    const { playing, paused, repeat } = this.props;\n\n    const tooltips = {\n      disc: () => <p>Choose Songs</p>,\n      settings: () => <p>Coming Soon</p>,\n      hide: () => <p>Hide</p>,\n      rewind: () => <p>Rewind</p>,\n      fastforward: () => <p>Fast Forward</p>,\n      play: () => {\n        let playElement = <p>Play / Pause</p>;\n        if (playing) {\n          playElement = (\n            <p>\n              <strong>Play</strong>/ Pause\n            </p>\n          );\n        } else if (paused) {\n          playElement = (\n            <p>\n              Play / <strong>Pause</strong>\n            </p>\n          );\n        }\n        return playElement;\n      },\n      repeat: () => {\n        let repeatElement = (\n          <p>\n            Repeat: 1 / All / <strong>Off</strong>\n          </p>\n        );\n        if (repeat === \"track\") {\n          repeatElement = (\n            <p>\n              Repeat: <strong>1</strong> / All / Off\n            </p>\n          );\n        } else if (repeat === \"context\") {\n          repeatElement = (\n            <p>\n              Repeat: 1 / <strong>All</strong> / Off\n            </p>\n          );\n        }\n        return repeatElement;\n      },\n      stop: () => <p>Stop</p>,\n      advanced: () => <p>About</p>\n    };\n\n    return tooltips[this.state.activeButton]();\n  }\n\n  createMenuElements() {\n    const menuElements = createButtons(\n      this.props.audioManager,\n      this.hideMenu,\n      this.props.toggleMenu\n    );\n    menuElements.forEach(button => this.placeInScene(button));\n    this.menuElements = menuElements.reduce(\n      (obj, { name, position, onClick }) => ({\n        [name]: {\n          onClick,\n          position\n        },\n        ...obj\n      }),\n      {}\n    );\n    this.menuElements.advanced = {\n      onClick: () => {},\n      position: [2.25, -4.3, 1]\n    };\n\n    this.placeOrbitsInScene();\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          onClick={this.showIfHidden}\n          className=\"menu\"\n          ref={mount => {\n            this.mount = mount;\n          }}\n        />\n        <div className=\"tooltips\">{this.getToolTip()}</div>\n      </div>\n    );\n  }\n}\n\nMenu.propTypes = {\n  toggleMenu: PropTypes.func.isRequired,\n  repeat: PropTypes.oneOf([\"off\", \"context\", \"track\"]).isRequired,\n  hideDash: PropTypes.func.isRequired,\n  hidden: PropTypes.bool.isRequired,\n  showIfHidden: PropTypes.func.isRequired\n};\n\nexport default Menu;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// TODO: Fix event listener leak here\nconst About = props => {\n  return (\n    <div className=\"About\">\n      <div className=\"content\">\n        <h2>About</h2>\n        <div className=\"playlists\">\n          <p><em>Your scientists were so preoccupied with whether or not they could, they didnt stop to think if they should.</em></p>\n          <p>Saturn.fm is a recreation of the Sega Saturn BIOS CD player interface built with Javascript.</p>\n          <p>Development is ongoing: if you have any feedback, bug reports or suggestions please let me know!</p>\n          <ul>\n            <li> <a href=\"mailto:mcamis@gmail.com\">mcamis@gmail.com</a></li>\n            <li> <a href=\"https://twitter.com/vmu_beep\">twitter.com/vmu_beep</a></li>\n            <li> <a href=\"https://adam.mcamis.lol\">adam.mcamis.lol</a></li>\n            <li> <a href=\"https://github.com/mcamis/saturn.fm\">github.com/mcamis/saturn.fm</a></li>\n          </ul>\n\n        </div>\n        {/* TODO: Saturn style buttons */}\n        <button type=\"button\" onClick={props.toggleAbout}>\n          Close\n          </button>\n      </div>\n    </div>\n  );\n};\n\nAbout.propTypes = {\n  toggleAbout: PropTypes.func.isRequired,\n};\nexport default About;\n","import React from 'react';\n\nconst SpeakerIcon = () => {\n  return (\n    <svg\n      version=\"1.0\"\n      width=\"400pt\"\n      height=\"400pt\"\n      viewBox=\"0 0 75 75\"\n      style={{\n        width: '20px',\n        height: '20px',\n      }}\n    >\n      <g stroke=\"#FFF\" strokeWidth=\"5\">\n        <path\n          strokeLinejoin=\"round\"\n          fill=\"#FFF\"\n          d=\"M39.389 13.769L22.235 28.606H6v19.093h15.989l17.4 15.051V13.769z\"\n        />\n        <path\n          d=\"M48.128 49.03c1.929-3.096 3.062-6.739 3.062-10.653 0-3.978-1.164-7.674-3.147-10.8M55.082 20.537c3.695 4.986 5.884 11.157 5.884 17.84 0 6.621-2.151 12.738-5.788 17.699M61.71 62.611c5.267-6.666 8.418-15.08 8.418-24.233 0-9.217-3.192-17.682-8.519-24.368\"\n          fill=\"none\"\n          strokeLinecap=\"round\"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport default SpeakerIcon;\n","import React from 'react';\n\nconst TrashIcon = () => {\n  return (\n    <svg viewBox=\"0 -256 1792 1792\" style={{ width: '100%' }}>\n      <path\n        d=\"M709.42373 455.0508v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724v-948h-896v948q0 22 7 40.5t14.5 27q7.5 8.5 10.5 8.5h832q3 0 10.5-8.5t14.5-27q7-18.5 7-40.5zm-672-1076h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n\nexport default TrashIcon;\n","import jsmediatags from 'jsmediatags';\nimport uuidv4 from 'uuid/v4';\n/**\n * Automatically generate a file input alert, resolves with a FileList instance\n * @param {*} extensions\n * @param {*} allowDirectory\n */\nexport async function filePicker({\n  extensions = null,\n  allowDirectory = false,\n}) {\n  return new Promise(resolve => {\n    const fileInput = document.createElement('input');\n    if (extensions) fileInput.setAttribute('accept', extensions);\n\n    fileInput.type = 'file';\n    fileInput.multiple = true;\n\n    fileInput.webkitdirectory = allowDirectory;\n    fileInput.directory = allowDirectory;\n    fileInput.mozdirectory = allowDirectory;\n\n    fileInput.addEventListener('change', e => {\n      resolve(e.target.files);\n    });\n    fileInput.click();\n  });\n}\n\nfunction getMediaTags(file) {\n  return new Promise((resolve, reject) => {\n    jsmediatags.read(file, {\n      onSuccess: tag => resolve(tag),\n      onError: error => reject(error),\n    });\n  });\n}\n\nasync function generateTrackInfo(file) {\n  let metadata;\n  try {\n    metadata = await getMediaTags(file);\n  } catch (err) {\n    console.log('Fetching Tags Error', err);\n  }\n  const {\n    tags: { artist = '', album = '', title = file.name, track = 0 } = {},\n  } = metadata;\n\n  return {\n    file,\n    track,\n    artist,\n    album,\n    title,\n  };\n}\n\nasync function createTracklist(files) {\n  const filesToAdd = [];\n  // eslint-disable-next-line no-restricted-syntax\n  for (const file of files) {\n    if (file.type.includes('audio')) {\n      filesToAdd.push(generateTrackInfo(file));\n    }\n  }\n\n  const withMetadata = await Promise.all(filesToAdd);\n  return withMetadata.reduce((result, file) => {\n    const UUID = uuidv4();\n    result[UUID] = file; // eslint-disable-line no-param-reassign\n    return result;\n  }, {});\n}\n\nexport async function getFilesWithTags(options) {\n  let fileList;\n  try {\n    fileList = await filePicker(options);\n  } catch (err) {\n    console.log(err);\n    // this.queueToast('Oops, something went wrong fetching your files. Please try again')\n  }\n  const trackList = await createTracklist(fileList);\n  return trackList;\n}\n\n// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport SpeakerIcon from './SpeakerIcon';\nimport TrashIcon from './TrashIcon';\n\nimport { getFilesWithTags, reorder } from 'utilities/files';\n\nconst getDraggableClasses = ({ isDragging, currentPlaying }) => {\n  return `draggable ${isDragging ? 'isDragging' : ''} ${\n    currentPlaying ? 'currentTrack' : ''\n  }`;\n};\n\n// TODO: Fix event listener leak here\nclass FileReader extends Component {\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(\n      this.props.audio.playlist,\n      result.source.index,\n      result.destination.index\n    );\n    this.props.setCurrentTrack(result.destination.index);\n    this.props.arrangeTracks(items);\n  }\n\n  async getTracks() {\n    const tracks = await getFilesWithTags({\n      extensions: '.mp3, .m4a, .flac, .wav, .aac',\n    });\n    this.props.addTracks(tracks);\n  }\n\n  async getDirectory() {\n    const tracks = await getFilesWithTags({\n      extensions: '.mp3, .wav, .aac',\n      allowDirectory: true,\n    });\n\n    this.props.addTracks(tracks);\n  }\n\n  render() {\n    const {\n      audio: { currentTrack, playing, playlist, tracks },\n    } = this.props;\n\n    return (\n      <div className=\"FileReader\">\n        <div className=\"content\">\n          <h2>Edit Playlist</h2>\n          <h3>Drag to reorder tracks</h3>\n          <div className=\"playlists\">\n            <DragDropContext onDragEnd={this.onDragEnd}>\n              <Droppable droppableId=\"droppable\">\n                {provided => (\n                  <div ref={provided.innerRef}>\n                    {playlist.map((item, index) => {\n                      const { artist, album, title } = tracks[item];\n                      const currentPlaying =\n                        playing && item === playlist[currentTrack];\n\n                      return (\n                        <Draggable key={item} draggableId={item} index={index}>\n                          {(draggableProvided, { isDragging }) => {\n                            return (\n                              <div\n                                className=\"draggable\"\n                                className={getDraggableClasses({\n                                  isDragging,\n                                  currentPlaying,\n                                })}\n                                ref={draggableProvided.innerRef}\n                                {...draggableProvided.draggableProps}\n                                {...draggableProvided.dragHandleProps}\n                              >\n                                <div>{currentPlaying && <SpeakerIcon />}</div>\n                                <div>{title}</div>\n                                <div>{artist}</div>\n                                <div>{album}</div>\n                                <button\n                                  className=\"icon-button\"\n                                  // TODO: Prompt on delete?\n                                  onClick={() => this.props.removeTrack(index)}\n                                  type=\"button\"\n                                >\n                                  <TrashIcon />\n                                </button>\n                              </div>\n                            );\n                          }}\n                        </Draggable>\n                      );\n                    })}\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </div>\n          <button\n            className=\"add-files\"\n            type=\"button\"\n            onClick={() => this.getDirectory()}\n          >\n            Add a directory\n          </button>\n          <button\n            className=\"add-files\"\n            type=\"button\"\n            onClick={() => this.getTracks()}\n          >\n            Add file(s)\n          </button>\n          <button type=\"button\" onClick={this.props.toggleMenu}>\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nFileReader.propTypes = {\n  audio: PropTypes.shape({\n    tracks: PropTypes.object.isRequired,\n    playlist: PropTypes.array.isRequired,\n  }).isRequired,\n  arrangeTracks: PropTypes.func.isRequired,\n  addTracks: PropTypes.func.isRequired,\n  removeTrack: PropTypes.func.isRequired,\n  toggleMenu: PropTypes.func.isRequired,\n};\nexport default FileReader;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { formatTime } from 'utilities/helpers';\nimport timeSrc from 'images/time.png';\nimport trackSrc from 'images/track.png';\n\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  // TODO: move this to redux!\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nconst Header = ({ audioManager, currentTrack }) => {\n  const [componentTime, setComponentTime] = useState(0);\n\n  useInterval(() => {\n    setComponentTime(audioManager.currentTime);\n  }, 1000);\n\n  // TODO: Fix Safari missing prop changes / renders\n  // TODO: Fix poor performance\n  return (\n    <header>\n      <div className=\"info\">\n        <div className=\"track\">\n          <img src={trackSrc} alt=\"TODO\" />\n        </div>\n          <div className=\"track-number\">{`${currentTrack + 1}`}</div>\n        <div className=\"time\">\n          <img src={timeSrc} alt=\"TODO\" />\n        </div>\n          <div className=\"timer\">{formatTime(componentTime)}</div>\n      </div>\n      <div className=\"knight-rider\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport * as THREE from \"three\";\nimport GLTFLoader from \"three-gltf-loader\";\n\nimport autobind from \"utilities/autobind\";\nimport { randomSize, randomPosition, sceneWidth } from \"utilities/helpers\";\n\nconst spaceshipPositions = {\n  plain: [2.5, -3.5, 510],\n  spinny: [-2.5, 3.5, 510],\n  fast: [0, -3, 510]\n};\n\nclass StarField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.timeOut = null;\n    // this.Zspeed = Math.random() * (0.025 - 0.10) + 0.10;\n    autobind(this);\n\n    const bufferGeometry = new THREE.BufferGeometry();\n    const bufferVerticies = new Float32Array([\n      -1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      1.0,\n      1.0,\n\n      1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      -1.0,\n      1.0\n    ]);\n\n    bufferGeometry.setAttribute(\n      \"position\",\n      new THREE.BufferAttribute(bufferVerticies, 3)\n    );\n    this.blueMaterial = new THREE.MeshBasicMaterial({ color: 0x759cff });\n    this.redMaterial = new THREE.MeshBasicMaterial({ color: 0xff757a });\n    this.yellowMaterial = new THREE.MeshBasicMaterial({ color: 0xede13b });\n    this.whiteMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });\n    this.starGeometry = bufferGeometry;\n\n    const width = sceneWidth();\n    const height = window.innerHeight;\n    this.width = width * 1.75;\n    this.height = height * 1.75;\n\n    window.addEventListener(\"resize\", () => {\n      clearTimeout(this.timeOut);\n      this.timeOut = setTimeout(this.onResize, 250);\n    });\n\n    window.addEventListener(\"orientationchange\", () => {\n      this.onResize();\n    });\n  }\n\n  componentDidMount() {\n    this.setupScene();\n    // this.clock = new THREE.Clock();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.hidden !== nextProps.hidden) {\n      return true;\n    }\n    return false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.animation !== prevProps.animation) {\n      const [x, y, z] = spaceshipPositions[this.props.animation];\n      this.spaceShip.position.set(x, y, z);\n    }\n  }\n\n  onResize() {\n    const width = sceneWidth();\n    const height = window.innerHeight;\n    this.width = width * 1.75;\n    this.height = height * 1.75;\n    this.camera.aspect = width / height;\n\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(width, height);\n  }\n\n  setupScene() {\n    const width = sceneWidth();\n    const height = window.innerHeight;\n\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(100, width / height, 1, 1000);\n\n    const mainLight = new THREE.DirectionalLight(0xffffff, 3);\n    const leftLight = new THREE.DirectionalLight(0xffffff, 2);\n    const rightLight = new THREE.DirectionalLight(0xffffff, 2);\n    mainLight.position.set(-10, 46, 600);\n    leftLight.position.set(-200, 46, 500);\n    rightLight.position.set(200, 46, 500);\n\n    // scene.add(ambient, directional);\n    scene.add(mainLight, leftLight, rightLight);\n\n    // scene.add(directional, );\n\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: false });\n    renderer.setClearColor(0xffffff);\n    camera.position.z = 500;\n    const isSafari =\n      navigator.userAgent.indexOf(\"Safari\") !== -1 &&\n      navigator.userAgent.indexOf(\"Chrome\") === -1;\n\n    const pixRatio = window.devicePixelRatio;\n    renderer.setPixelRatio(\n      pixRatio === 1 || isSafari ? pixRatio * 0.65 : pixRatio * 0.25\n    );\n    renderer.setSize(width, height);\n    renderer.setClearColor(0x000000, 0); // the default\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.stars = this.stars || [];\n    this.mount.appendChild(this.renderer.domElement);\n    this.setupSpaceShip();\n    this.addStars();\n\n    this.props.setAnimationCallback(this.animate);\n  }\n\n  setupSpaceShip() {\n    const loader = new GLTFLoader();\n\n    loader.load(\"./models/saturn_v1.gltf\", gltf => {\n      const { scene: shipModel } = gltf;\n      const [x, y, z] = spaceshipPositions[this.props.animation];\n      shipModel.position.set(x, y, z);\n      shipModel.rotateZ(3.5);\n      shipModel.rotateY(Math.PI);\n      shipModel.visible = false;\n\n      // Disable texture filtering for the authenitc chunky Saturn gfx\n      const shipMap = shipModel.children[1].material.map;\n      shipMap.magFilter = THREE.LinearFilter;\n      shipMap.minFilter = THREE.LinearFilter;\n      shipMap.generateMipmaps = false;\n\n      this.spaceShip = shipModel;\n      window.ship = shipModel;\n      this.scene.add(shipModel);\n\n      // this.mixer = new THREE.AnimationMixer(shipModel);\n      // this.mixer.clipAction(gltf.animations[0]).play();\n    });\n  }\n\n  animate() {\n    this.animateStars();\n    this.renderScene();\n    if (this.spaceShip) {\n      if (this.props.hidden) {\n        this.spaceShip.visible = true;\n\n        if (this.props.animation === \"plain\") {\n          this.plain();\n        } else if (this.props.animation === \"spinny\") {\n          this.spinny();\n        } else if (this.props.animation === \"fast\") {\n          this.fast();\n        }\n      } else {\n        this.spaceShip.visible = false;\n      }\n    }\n  }\n\n  plain() {\n    this.spaceShip.rotateZ(0.01);\n    this.spaceShip.position.z -= 0.075;\n    if (this.spaceShip.position.z < 400) {\n      this.spaceShip.position.z = 500;\n    }\n  }\n\n  spinny() {\n    this.spaceShip.rotateZ(-0.05);\n    this.spaceShip.position.z -= 0.075;\n    this.spaceShip.position.x -= 0.0075;\n    this.spaceShip.position.x -= 0.0075;\n    if (this.spaceShip.position.z < 300) {\n      this.spaceShip.position.z = 520;\n    }\n  }\n\n  fast() {\n    this.spaceShip.rotateZ(-0.005);\n    this.spaceShip.position.z -= 0.12;\n    this.spaceShip.position.x -= 0.0075;\n    if (this.spaceShip.position.z < 300) {\n      this.spaceShip.position.z = 520;\n    }\n  }\n\n  addStars() {\n    // TODO: # of stars based on screen size\n    // TODO: Slight rounding?\n    for (let z = -500; z < 500; z += 15) {\n      let material = this.whiteMaterial;\n      if (z > 0 && z < 100) {\n        material = this.redMaterial;\n      } else if (z > 100 && z < 200) {\n        material = this.yellowMaterial;\n      } else if (z > 100 && z < 200) {\n        material = this.blueMaterial;\n      }\n\n      const star = new THREE.Mesh(this.starGeometry, material);\n\n      // TODO: Better positioning so stars don't smack the viewer in the face\n      star.position.x = randomPosition(this.width);\n      star.position.y = randomPosition(this.height);\n      star.position.z = z;\n\n      star.scale.set(randomSize(), randomSize(), 1);\n\n      this.scene.add(star);\n      this.stars.push(star);\n    }\n  }\n\n  animateStars() {\n    this.stars.forEach(star => {\n      const animatedStar = star;\n\n      animatedStar.position.z += Math.random() * (12 - 8) + 8;\n\n      // if the particle is too close move it to the back\n      if (animatedStar.position.z > 550) {\n        animatedStar.position.z -= 800;\n        animatedStar.position.x = randomPosition(this.width);\n        animatedStar.position.y = randomPosition(this.height);\n      }\n    });\n  }\n\n  renderScene() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  // TODO: Render x,y according to screen\n  render() {\n    return (\n      <div className=\"StarField\">\n        <div\n          ref={mount => {\n            this.mount = mount;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default StarField;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport autobind from \"utilities/autobind\";\nimport AudioManager from \"utilities/audioManager\";\nimport * as audioActions from \"actions/audio\";\n\nimport Cubes from \"components/Cubes\";\nimport Menu from \"components/Menu\";\nimport About from \"components/About\";\nimport FileReader from \"components/FileReader\";\nimport Header from \"components/Header\";\nimport StarField from \"components/StarField\";\n\nconst CurrentTrackDisplay = ({ href, artist, title }) => {\n  //   album: \"Entertainment System\"\n  // artist: \"Professor Kliq\"\n  // file: \"/7387f2263f3d4d909b3757f066da5ed9.mp3\"\n  // title: \"No Refuge\"\n  // track: 1\n  return (\n    <div className=\"current-track-info\" key={title+artist}>\n      <p>{title} {artist && <React.Fragment>- {artist}</React.Fragment>}</p>\n      {href && <p><a href={href} target=\"blank\">{href}</a></p>}\n    </div>\n  )\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    autobind(this);\n\n    this.audioManager = new AudioManager();\n\n    this.state = {\n      animation: \"plain\",\n      show: false,\n      hidden: false,\n      showAboutModal: false,\n      fileReaderVisible: false,\n      frameCallbacks: []\n    };\n    this.frameId = null;\n  }\n\n  componentDidMount() {\n    this.frameId = requestAnimationFrame(this.animate);\n  }\n\n  getClassNames() {\n    const {\n      audio: { playing, paused }\n    } = this.props;\n\n    const hiddenClass = this.state.hidden ? \"hidden\" : \"\";\n    const pausedClass = paused ? \"paused\" : \"\";\n    const playingClass = playing ? \"playing\" : \"\";\n    const showClass = this.state.show ? \"show\" : \"\";\n\n    return `${hiddenClass} ${pausedClass} ${playingClass} ${showClass}`;\n  }\n\n  hideDash() {\n    const randomAnimation = [\"plain\", \"spinny\", \"plain\", \"fast\"];\n\n    const animation =\n      randomAnimation[Math.floor(Math.random() * randomAnimation.length)];\n\n    this.setState(prevState => ({\n      hidden: !prevState.hidden,\n      show: false,\n      animation\n    }));\n  }\n\n  showIfHidden() {\n    if (this.state.hidden) {\n      this.frameId = this.frameId || requestAnimationFrame(this.animate);\n      this.setState({ hidden: false, show: true });\n    }\n  }\n\n  appeaseSafari() {\n    // ugh\n    if (this.audioManager.analyser.audioContext.state === \"suspended\") {\n      this.audioManager.analyser.audioContext.resume();\n    }\n  }\n\n  setAnimationCallback(callback) {\n    this.setState(prevState => ({\n      frameCallbacks: [...prevState.frameCallbacks, callback]\n    }));\n  }\n\n  animate() {\n    this.state.frameCallbacks.forEach(callback => callback());\n    this.frameId = requestAnimationFrame(this.animate);\n  }\n\n  toggleMenu() {\n    if (this.frameId) {\n      cancelAnimationFrame(this.frameId);\n      this.frameId = undefined;\n    } else {\n      requestAnimationFrame(this.animate);\n    }\n\n    this.setState(state => ({ fileReaderVisible: !state.fileReaderVisible }));\n  }\n\n  render() {\n    const {\n      audio: { playing, paused, repeat, playlist, currentTrack, tracks }\n    } = this.props;\n\n\n    const currentKey = playlist[currentTrack];\n    const currentInfo = tracks[currentKey];\n\n\n    console.log(currentInfo);\n\n    return (\n      <div\n        className={this.getClassNames()}\n        onClick={() => this.appeaseSafari()}\n      >\n        <Header\n          currentTrack={this.props.audio.currentTrack}\n          audioManager={this.audioManager}\n        />\n        <Menu\n          audioManager={this.audioManager}\n          hidden={this.state.hidden}\n          showIfHidden={this.showIfHidden}\n          toggleMenu={this.toggleMenu}\n          toggleAbout={() =>\n            this.setState(prevState => ({\n              showAboutModal: !prevState.showAboutModal\n            }))\n          }\n          hideDash={this.hideDash}\n          repeat={repeat}\n          paused={paused}\n          playing={playing}\n          setAnimationCallback={this.setAnimationCallback}\n        />\n        <div className=\"dashboard\" />\n        <Cubes\n          audioManager={this.audioManager}\n          paused={paused}\n          playing={playing}\n          setAnimationCallback={this.setAnimationCallback}\n        />\n        {this.props.toast && <p>{this.props.toast}</p>}\n        <StarField\n          animation={this.state.animation}\n          hidden={this.state.hidden}\n          setAnimationCallback={this.setAnimationCallback}\n        />\n        {this.state.fileReaderVisible && (\n          <div className=\"overlay\">\n            <FileReader\n              audio={this.props.audio}\n              {...audioActions}\n              toggleMenu={this.toggleMenu}\n            />\n          </div>\n        )}\n        {this.state.showAboutModal && (\n          <div className=\"overlay\">\n            <About\n              toggleAbout={() =>\n                this.setState(prevState => ({\n                  showAboutModal: !prevState.showAboutModal\n                }))\n              }\n            />\n          </div>\n        )}\n        {currentInfo && <CurrentTrackDisplay {...currentInfo} />}\n\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  audio: PropTypes.shape({\n    currentTrack: PropTypes.number,\n    playing: PropTypes.bool.isRequired,\n    paused: PropTypes.bool.isRequired,\n    repeat: PropTypes.oneOf([\"off\", \"context\", \"track\"]).isRequired\n  }).isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    audio: state.audio\n  };\n}\nexport const AppContainer = App;\nexport default connect(mapStateToProps)(App);\n","import { combineReducers } from 'redux';\nimport audioReducer from 'reducers/audio';\n\nexport default combineReducers({\n  audio: audioReducer,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'containers/App';\nimport { Provider } from 'react-redux';\nimport configureStore from 'store/configure';\nimport 'styles/index.scss';\n\nimport * as Sentry from '@sentry/browser';\n\nSentry.init({ dsn: 'https://992c24dba9924e9a9431f74d2b9515a6@sentry.io/1830195' });\n\n\n// Export the store so it can be used outside of react-redux\nexport const store = configureStore(); // eslint-disable-line import/prefer-default-export\n\nfunction setManualViewportHeight() {\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n}\n\nwindow.addEventListener('resize', () => {\n  setManualViewportHeight();\n});\n\nwindow.addEventListener('orientationchange', () => {\n  setManualViewportHeight();\n});\n\n// Mobile Safari doesn't provide a correct `window.innerHeight` on initial render\nsetTimeout(() => {\n  setManualViewportHeight();\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n  \n}, 100)\n\n","import { createStore } from 'redux';\nimport rootReducer from 'reducers/index';\n\nexport default function configureStore() {\n  return createStore(\n    rootReducer,\n    // eslint-disable-next-line no-underscore-dangle\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  );\n}\n","module.exports = __webpack_public_path__ + \"songs/05_No_Refuge.mp3\";","module.exports = __webpack_public_path__ + \"images/disc.png\";","module.exports = __webpack_public_path__ + \"images/more.png\";","module.exports = __webpack_public_path__ + \"images/hide.png\";","module.exports = __webpack_public_path__ + \"images/rwd.png\";","module.exports = __webpack_public_path__ + \"images/play-pause.png\";","module.exports = __webpack_public_path__ + \"images/ffwd.png\";","module.exports = __webpack_public_path__ + \"images/stop.png\";","module.exports = __webpack_public_path__ + \"images/repeat.png\";","module.exports = __webpack_public_path__ + \"images/texture.gif\";","module.exports = __webpack_public_path__ + \"images/pink.gif\";","module.exports = __webpack_public_path__ + \"images/orb-shadow.png\";","module.exports = __webpack_public_path__ + \"images/test.png\";","module.exports = __webpack_public_path__ + \"songs/button-press.mp3\";","module.exports = __webpack_public_path__ + \"songs/button-highlight.mp3\";","module.exports = __webpack_public_path__ + \"images/time.png\";","module.exports = __webpack_public_path__ + \"images/track.png\";","module.exports = __webpack_public_path__ + \"songs/01_Chaos.mp3\";"],"sourceRoot":""}