(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{74:function(n,e,t){"use strict";t.r(e);var r=t(6),i=t.n(r),a=t(62),o=t.n(a),c=t(11),l=t.n(c),u=t(12),d=t.n(u),s=t(13),f=t.n(s),p=t(15),h=t.n(p),m=t(16),g=t.n(m),v=t(10),b=t.n(v),x=t(1),y=t.n(x),w=t(5),k=t.n(w),E=t(7),T=t(71),A=t(2),D=t(14),C=t.n(D),R=t(63),S=t.n(R),P=t(73);function j(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){c=!0,a=n},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function z(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}async function I(n){var e={};try{e=await function(n){return new Promise((function(e,t){S.a.read(n,{onSuccess:function(n){return e(n)},onError:function(n){return t(n)}})}))}(n)}catch(n){console.log("Fetching Tags Error",n)}var t,r=e.tags,i=(r=void 0===r?{}:r).artist,a=void 0===i?"":i,o=r.album,c=void 0===o?"":o,l=r.title,u=void 0===l?n.name:l,d=r.track,s=void 0===d?0:d,f=r.picture,p=void 0===f?{}:f,h=p.data,m=p.type;if(h){var g=new Uint8Array(h),v=new Blob([g],{type:m});t=URL.createObjectURL(v)}return{file:n,track:s,artist:a,album:c,title:u,albumArtUrl:t}}async function N(n){var e;try{e=await async function(n){var e=n.extensions,t=void 0===e?null:e,r=n.allowDirectory,i=void 0!==r&&r;return new Promise((function(n){var e=document.createElement("input");t&&e.setAttribute("accept",t),e.type="file",e.multiple=!0,e.webkitdirectory=i,e.directory=i,e.mozdirectory=i,e.addEventListener("change",(function(t){n(t.target.files),document.body.removeChild(e)})),document.body.appendChild(e),e.click()}))}(n)}catch(n){console.log(n)}return await async function(n){var e,t=[],r=j(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.type.includes("audio")&&t.push(I(i))}}catch(n){r.e(n)}finally{r.f()}return(await Promise.all(t)).reduce((function(n,e){return n[Object(P.a)()]=e,n}),{})}(e)}var O=t(3),U=t(34);function q(){var n=i()(["\n  background-color: rgba(131, 23, 71, 0.65);\n  width: 100%;\n\n  .draggable {\n    * {\n      user-select: none; /* Standard */\n    }\n    cursor: grab;\n    border-radius: 2px;\n    margin: 0 0 2px;\n    display: flex;\n    flex-direction: row;\n    text-align: left;\n    align-items: center;\n    font-size: 10px;\n    font-family: ChibiPhoebe;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 20px;\n\n    @media screen and (min-width: 500px) {\n      font-size: 26px;\n      line-height: 14px;\n      padding: 3px 0 3px;\n      margin: 0;\n    }\n    p {\n      margin: 0;\n      padding: 0;\n    }\n    &:hover {\n      animation: "," 3s infinite;\n    }\n    &:active {\n      cursor: grabbing !important;\n    }\n    &.isDragging {\n      cursor: grabbing;\n      border: 1px white;\n      background: rgba(255, 255, 255, 0.5);\n      border-radius: 2px;\n    }\n    // Handle\n    div:nth-child(1) {\n      width: 40px;\n    }\n    //Song\n    div:nth-child(2) {\n      width: 40%;\n      max-width: 400px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    //Artist\n    div:nth-child(3) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    // Album\n    div:nth-child(4) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    button {\n      font-family: ChibiPhoebe;\n      transition: all 200ms ease;\n      color: white;\n      background: none;\n      border: 0;\n      outline: 0;\n      padding: 0;\n      margin: 0 auto;\n      line-height: inherit;\n    }\n  }\n"]);return q=function(){return n},n}function L(){var n=i()(["\n0% {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n50% {\n  background: rgba(255, 255, 255, 0.25);\n}\n\n100% {\n  background: rgba(255, 255, 255, 0.1);\n}\n"]);return L=function(){return n},n}function M(){var n=i()(["\n  background-color: rgba(131, 23, 71, 0.65);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  color: white;\n  text-align: left;\n  font-size: 42px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 500px) {\n    padding: 14px 0 0;\n  }\n\n  div:nth-child(1) {\n    width: 40px;\n  }\n  // Song\n  div:nth-child(2) {\n    width: 40%;\n    max-width: 400px;\n  }\n  //Artist\n  div:nth-child(3) {\n    width: 25%;\n    max-width: 200px;\n  }\n  // Album\n  div:nth-child(4) {\n    width: 25%;\n    max-width: 200px;\n  }\n  div:nth-child(5) {\n    width: 30px;\n  }\n"]);return M=function(){return n},n}function F(){var n=i()(["\n  margin-top: auto;\n"]);return F=function(){return n},n}function H(){var n=i()(["\n  width: 100%;\n  max-height: calc(var(--vh, 1vh) * 60);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n"]);return H=function(){return n},n}function J(){var n=i()(["\n  margin-top: 2em;\n  button {\n    margin: 0 1em;\n  }\n"]);return J=function(){return n},n}function B(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=b()(n);if(e){var i=b()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return g()(this,t)}}var $=function(n){var e=n.isDragging,t=n.currentPlaying;return"draggable ".concat(e?"isDragging":""," ").concat(t?"currentTrack":"")},G=function(n){h()(t,n);var e=B(t);function t(n){var r;return l()(this,t),(r=e.call(this,n)).onDragEnd=r.onDragEnd.bind(f()(r)),r}return d()(t,[{key:"onDragEnd",value:function(n){var e=A.c.state.tracks[A.c.state.currentTrackIndex];if(n.destination){var t=function(n,e,t){var r=Array.from(n),i=r.splice(e,1),a=C()(i,1)[0];return r.splice(t,0,a),r}(this.props.audio.playlist,n.source.index,n.destination.index);n.source.index===e?this.props.setCurrentTrack(n.destination.index):n.destination.index===e?n.source.index<e?this.props.setCurrentTrack(e-1):this.props.setCurrentTrack(n.destination.index?e+1:1):n.source.index>e&&e>n.destination.index?this.props.setCurrentTrack(e+1):n.source.index<e&&e<n.destination.index&&this.props.setCurrentTrack(e-1),this.props.arrangeTracks(t)}}},{key:"getTracks",value:async function(){var n=await N({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(n)}},{key:"getDirectory",value:async function(){var n=await N({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(n)}},{key:"render",value:function(){var n=this,e=A.c.state.tracks,t=Object(O.e)(),r=t.fileReader,i=t.playlist;return y.a.createElement(U.a,{className:"FileReader",header:r.header},y.a.createElement(Q,null,y.a.createElement(W,null,y.a.createElement("div",null,i.number),y.a.createElement("div",null,i.title),y.a.createElement("div",null,i.artist),y.a.createElement("div",null,i.album),y.a.createElement("div",null)),y.a.createElement(Y,null,y.a.createElement(T.a,{onDragEnd:this.onDragEnd},y.a.createElement(T.c,{droppableId:"droppable"},(function(t){return y.a.createElement("div",{ref:t.innerRef},e.map((function(e,t){var r=e.artist,i=e.album,a=e.title,c=e.file;return y.a.createElement(T.b,{key:c,draggableId:c,index:t},(function(e,c){var l=c.isDragging;return y.a.createElement("div",o()({className:$({isDragging:l,currentPlaying:!1}),ref:e.innerRef},e.draggableProps,e.dragHandleProps),y.a.createElement("div",null,t+1),y.a.createElement("div",null,a),y.a.createElement("div",null,r),y.a.createElement("div",null,i),y.a.createElement("button",{className:"icon-button",onClick:function(){return n.props.removeTrack(t)},type:"button"},"â–µ"))}))})),t.placeholder)}))))),y.a.createElement(K,null,y.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getDirectory()}},"Add a directory"),y.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return n.getTracks()}},"Add file(s)")),y.a.createElement(V,null,y.a.createElement("button",{className:"exit-button",type:"button",onClick:this.props.toggleMenu},"Exit")))}}]),t}(x.Component),K=E.b.div(J()),Q=E.b.div(H()),V=E.b.footer(F()),W=E.b.div(M()),X=Object(E.c)(L()),Y=E.b.div(q(),X);G.propTypes={arrangeTracks:k.a.func.isRequired,addTracks:k.a.func.isRequired,removeTrack:k.a.func.isRequired,toggleMenu:k.a.func.isRequired};e.default=G}}]);