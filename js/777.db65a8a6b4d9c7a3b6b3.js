"use strict";(self.webpackChunksaturn_fm=self.webpackChunksaturn_fm||[]).push([[777],{3297:(e,t,n)=>{n.d(t,{u:()=>b});var i=n(7294),r=n(2678);const a=n.p+"57e24614352a90824b34.png";var o,s,u,l,c,p,h,f,d=n(6902),m=function(e){var t=e.children;return i.createElement(y,null,t)},y=(0,d.Z)("h2")({name:"Header",class:"h17sym6b"});function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n(5422);var b=function(e){return i.createElement(k,null,i.createElement(O,{className:e.className},i.createElement(j,null,i.createElement(m,null,e.header),i.createElement(x,null,e.children))))},w=(0,r.F4)(o||(o=v(["\n  from {\n    filter: brightness(0);\n  }\n\n  to {\n    filter: brightness(1);\n  }\n"]))),g=(0,r.iv)(s||(s=v(["\n  animation-name: ",";\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n"])),w),E=(0,r.iv)(u||(u=v(["\n  image-rendering: optimizeSpeed; /* Older versions of FF */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+  */\n  image-rendering: -webkit-optimize-contrast; /* Safari */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers */\n"]))),S=(0,r.F4)(l||(l=v(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),k=r.ZP.div(c||(c=v(["\n  background: black;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 100;\n"]))),O=r.ZP.div(p||(p=v(['\n  padding: 2em;\n  height: 100%;\n  cursor: default;\n  font-size: 14px;\n\n  &:before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    content: " ";\n    display: block;\n    filter: brightness(0);\n    ',"\n    ",";\n    background: url(",") repeat-y;\n    background-position: center top;\n    background-size: 100% 880px;\n    z-index: -1;\n  }\n"])),g,E,a),j=r.ZP.div(h||(h=v(["\n  max-width: 1000px;\n  margin: 0 auto;\n  opacity: 0;\n  animation-name: ",";\n  animation-duration: 10ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 1.35s;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n"])),S),x=r.ZP.div(f||(f=v(["\n  width: 100%;\n  font-size: 13px;\n  color: white;\n  min-height: 200px;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 500px) {\n    padding: 4px;\n  }\n"])))},9793:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be});var i=n(5303),r=n(6902),a=n(7294),o=n(9455),s=n(9477),u=n(2363),l=n(1217);function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"camera",void 0),p(this,"debouncedResize",void 0),p(this,"height",void 0),p(this,"rafId",void 0),p(this,"renderer",void 0),p(this,"scene",void 0),p(this,"stars",[]),p(this,"spaceship",void 0),p(this,"width",void 0),p(this,"shouldShowSpaceship",void 0),p(this,"domElement",void 0),this.setDimensions(),this.scene=new s.xsS,this.renderer=new s.CP7({alpha:!0,antialias:!1}),this.domElement=this.renderer.domElement,this.renderer.setPixelRatio(.75),this.renderer.setSize(this.width,this.height),this.debouncedResize=null,window.addEventListener("resize",(function(){clearTimeout(t.debouncedResize),t.debouncedResize=window.setTimeout(t.onResize.bind(t),250)})),window.addEventListener("orientationchange",(function(){t.onResize()})),this.setupScene(),this.start()}var t,n;return t=e,(n=[{key:"setDimensions",value:function(){var e=(0,u.$4)(),t=window.innerHeight;return this.width=e,this.height=t,[e,t]}},{key:"onResize",value:function(){this.setDimensions(),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"setupScene",value:function(){var e=new s.Ox3(16777215,3),t=new s.Ox3(16777215,2),n=new s.Ox3(16777215,2),i=new s.cPb(70,this.width/this.height,.1,1e3);e.position.set(-10,46,600),t.position.set(-200,46,500),n.position.set(200,46,500),this.scene.add(e,t,n),i.position.z=500,this.camera=i,this.addStars()}},{key:"start",value:function(){this.rafId=window.requestAnimationFrame(this.animate.bind(this))}},{key:"stop",value:function(){window.cancelAnimationFrame(this.rafId)}},{key:"animate",value:function(){this.animateStars(),this.animateSpaceship(),this.renderer.render(this.scene,this.camera),this.rafId=window.requestAnimationFrame(this.animate.bind(this))}},{key:"animateSpaceship",value:function(){this.spaceship&&(this.spaceship.visible=this.shouldShowSpaceship,this.shouldShowSpaceship&&(this.spaceship.rotateZ(.01),this.spaceship.position.z-=.045,this.spaceship.position.z<400&&(this.spaceship.position.z=0)))}},{key:"animateStars",value:function(){for(var e=0;e<this.stars.length;e+=1){var t=this.stars[e];if(!t)return;this.stars[e].position.z+=1.25+.05*e,t.position.z>550&&(t.position.z=-1e3,t.position.x=(0,u.Cv)(this.width),t.position.y=(0,u.Cv)(this.height))}}},{key:"addStars",value:function(){var e=new s.vBJ({color:7707903}),t=new s.vBJ({color:16741754}),n=new s.vBJ({color:15589691}),i=new s.vBJ({color:16777215}),r=new s.u9r,a=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);r.setAttribute("position",new s.TlE(a,3));for(var o=-500;o<500;o+=10){var l=i;o>0&&o<100?l=t:o>100&&o<200?l=n:o>100&&o<200&&(l=e);var c=new s.Kj0(r,l);c.position.x=(0,u.Cv)(this.width),c.position.y=(0,u.Cv)(this.height),c.position.z=o;var p=(0,u.ht)(),h=p<.5?.5:p;c.scale.set(h,h,h),this.scene.add(c),this.stars.push(c)}}},{key:"setupSpaceship",value:function(){var e=this;(new l.E).load("../models/saturn_v1.gltf",(function(t){var n,i=t.scene;i.position.set(2.5,-3.5,510),i.rotateZ(3.5),i.rotateY(Math.PI),i.visible=!1;var r=null===(n=i.children[1].material)||void 0===n?void 0:n.map;r.magFilter=s.wem,r.minFilter=s.wem,r.generateMipmaps=!1,e.spaceship=i,e.scene.add(i)}))}},{key:"toggleSpaceShipVisbility",value:function(e){this.shouldShowSpaceship=e,!this.spaceship&&e&&this.setupSpaceship()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=(0,r.Z)("div")({name:"Wrapper",class:"wsc8jn4"});const m=function(e){var t=e.isUiHidden,n=a.useRef();return function(e,t){var n,i,r=(n=a.useState(null),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(n,i)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1];a.useEffect((function(){var t;o&&(null==e||null===(t=e.current)||void 0===t||t.appendChild(o.domElement))}),[o]),a.useEffect((function(){s(new h)}),[]),a.useEffect((function(){null==o||o.toggleSpaceShipVisbility(t)}),[t])}(n,t),a.createElement(d,{ref:n})};n(4596);var y=n(5697),v=n.n(y);function b(e){Object.getOwnPropertyNames(e.constructor.prototype).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var w=n(7703),g=.0025,E=function(e,t){return Math.random()*(e-t)+t},S=function(e,t){var n,i,r,a,o,l,c;n=e,i=t,r=142.5-(0,u.Q4)(.75*i),o=(a=new s.Ilk("hsl(".concat(r>0?r:0,", 100%, 48%)"))).r,l=a.g,c=a.b,new w.Tween(n.material.color).to({r:o,g:l,b:c},100).easing(w.Easing.Linear.None).start();var p=.007*t>1?1:.007*t;e.morphTargetInfluences[0]=p;var h=.008*t+.5,f=h<1.65?h:1.65;return new w.Tween(e.scale).to({x:f,y:f,z:f},50).easing(w.Easing.Linear.None).start()},k=function(e,t){var n=t?-Math.abs(.03):.03,i=t?-Math.abs(.01):.01;e.rotateX(E(n,i)),e.rotateY(E(n,i))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;i?e.position.y+=.0075:n&&(e.position.y-=.0075),e.rotateY(g*t)};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function A(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(p,e);var t,n,i,r,c=(i=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(i);if(r){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=c.call(this,e)).debouncedResize=null,t.loader=new l.E,t.animateDownL=!0,t.animateUpL=!1,t.animateDownR=!0,t.animateUpR=!1,b(C(t)),window.addEventListener("resize",(function(){clearTimeout(t.debouncedResize),t.debouncedResize=setTimeout(t.onResize,250)})),window.addEventListener("orientationchange",(function(){t.onResize()})),t}return t=p,(n=[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"onResize",value:function(){var e=(0,u.$4)(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"setupScene",value:function(){var e=(0,u.$4)(),t=.75*e,n=new s.xsS,i=new s.cPb(20,e/t,1,1200);i.position.z=45,i.position.y=-27;var r=new s.Mig(16777215,.35),a=new s.Ox3(16777215,.7);a.position.set(0,500,900),n.add(r,a);var o=new s.CP7({alpha:!0,antialias:!1}),l=window.devicePixelRatio;o.setPixelRatio(1===l?.5*l:.15*l),o.setSize(e,t),this.scene=n,this.camera=i,this.renderer=o,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(e,t){var n=this,i=x(t,3),r=i[0],a=i[1],o=i[2];this.loader.load("./models/cubeBigger.gltf",(function(t){var i=x(t.scene.children,3)[2];i.material.color=new s.Ilk("hsl(143, 100%, 48%)"),i.material.dithering=!0,i.material.flatShading=!1,i.position.set(r,a,o),i.rotateX(.075),"rightCube"===e?i.rotateY(.075):i.rotateY(-.1),n[e]=i,n.scene.add(i),"rightCube"===e&&n.animate()}))}},{key:"animate",value:function(){if(this.props.audioStatus===o.oo.Playing){var e=x(o.jt.analyserFFT,2),t=e[0],n=e[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,S(this.leftCube,t),S(this.rightCube,n),k(this.leftCube),k(this.rightCube,-1)}else{var i=this.leftCube.position.y;i>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),i<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var r=this.rightCube.position.y;r>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),r<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),O(this.leftCube,.35,this.animateDownL,this.animateUpL),O(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(this.animate)}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"cubes",ref:function(t){e.mount=t}})}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(a.Component);z.propTypes={isPlaying:v().bool.isRequired,isUiHidden:v().bool.isRequired};const M=z;var I=n(6533),B=n(5387),F=n(2673),L=n(2805),U=n(8605),H=n(1702),_=n(8145),Z=n(485),N=n(1078),q=n(2627),J=n(3971),Y=new s.fHI(1.45,1.45,.35,40,1,!0),$=(new s.dpR).load(N),K=(new s.dpR).load(q);$.magFilter=s.TyD,K.magFilter=s.TyD;var Q=new s.vBJ({side:s.ehD,transparent:!0,map:$}),X=new s.vBJ({side:s.ehD,transparent:!0,map:K}),W=new s._12(2,2,1,1),G=new s._12(1.5,1.5,1,1),V=(new s.dpR).load(J);function ee(e,t){var n,i,r,a,o,s,u,l,c,p,h;n=e.position,i=t,r={duration:e.material.userData.animationDuration,delay:e.material.userData.animationDelay,easing:w.Easing.Quadratic.InOut},a=i.x,o=i.y,s=i.z,l=void 0===(u=r.easing)?w.Easing.Quadratic.In:u,c=r.delay,h=void 0===(p=r.duration)?2e3:p,new w.Tween(n).to({x:a,y:o,z:s},h).easing(l).delay(c).start()}const te=n.p+"eafd93780f7964be6bb7.png",ne=n.p+"songs/button-press.mp3",ie=n.p+"songs/button-highlight.mp3",re=n.p+"songs/hide.mp3",ae=n.p+"songs/show.mp3";function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function fe(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(c,e);var t,n,i,r,l=(i=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(i);if(r){var n=me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fe(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).timeOut=null,t.planes=[],t.shadowPlanes=[],t.buttonEffect=new Audio,t.buttonEffect.src=ne,t.highlightEffect=new Audio,t.highlightEffect.src=ie,t.hideEffect=new Audio,t.hideEffect.src=re,t.showEffect=new Audio,t.showEffect.src=ae,t.state={activeButton:"play",allowToggle:!1,introActive:!0},t.clock=new s.SUY,t.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],t.onMouseMoveThrottled=(0,u.P2)(t.onMouseMove.bind(de(t)),100),b(de(t)),t}return t=c,n=[{key:"componentDidMount",value:function(){var e=this;this.setupScene(),this.setupKeyboardListeners(),setTimeout((function(){return e.setState({introActive:!1})}),1e3)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.activeButton!==t.activeButton){var n=le(this.menuElements[this.state.activeButton].position,2),i=n[0],r=n[1];this.orbits.pink.position.set(i,r,2),this.orbits.purple.position.set(i,r,2.03),this.playHighlight()}}},{key:"onResize",value:function(){var e=(0,u.$4)(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"onMouseDown",value:function(e){var t=this;if(e.stopPropagation(),!this.props.isUiHidden){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.planes);if(n.length>0){var i=n[0].object.material.userData.onClick,r=n[0].object;"running"===o.jt.analyser.audioContext.state?this.handleMouseDown(r,i):o.jt.analyser.audioContext.resume().then((function(){t.handleMouseDown(r,i)})).catch((function(e){return console.log(e)}))}}}},{key:"handleMouseDown",value:function(e,t){"hide"!==e.name&&(this.buttonEffect.currentTime=0,this.buttonEffect.play()),(0,u.lI)(e,t)}},{key:"onMouseMove",value:function(e){var t=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(e.clientX-1.5*t.left)/(t.width-t.left)*2-1,this.mouse.y=-(e.clientY-t.top)/(t.bottom-t.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var e=this;window.addEventListener("keydown",(function(t){var n=e.buttons.indexOf(e.state.activeButton);switch(t.code){case"ArrowRight":2!==n&&5!==n&&(n+=1);break;case"ArrowLeft":3!==n&&6!==n&&(n-=1);break;case"ArrowUp":n-=3;break;case"ArrowDown":n+=3;break;case"Enter":var i=e.buttons[n],r=e.planes.find((function(e){return e.name===i}));"running"===o.jt.analyser.audioContext.state?(e.buttonEffect.currentTime=0,e.buttonEffect.play(),(0,u.lI)(r,e.menuElements[i].onClick)):o.jt.analyser.audioContext.resume().then((function(){e.buttonEffect.currentTime=0,e.buttonEffect.play(),(0,u.lI)(r,e.menuElements[i].onClick)})).catch((function(e){return console.log(e)}));break;default:n=-1}n>=0&&n<e.buttons.length&&e.setState({activeButton:e.buttons[n]})}))}},{key:"setupScene",value:function(){var e=(0,u.$4)(),t=.75*e,n=new s.xsS,i=new s.cPb(2.5,e/t,1,500);i.aspect=e/t,i.position.z=360,i.position.y=.5,i.updateProjectionMatrix();var r=new s.CP7({alpha:!0,antialias:!1});r.setSize(e,t),this.mouse=new s.FM8,this.raycaster=new s.iMs,this.scene=n,this.camera=i,this.renderer=r,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.animate()}},{key:"setupEventListeners",value:function(){var e=this,t=this.renderer.domElement;window.addEventListener("resize",(function(){clearTimeout(e.timeOut),e.timeOut=setTimeout(e.onResize,250)})),window.addEventListener("orientationchange",(function(){e.onResize()})),t.addEventListener("mousedown",(function(t){return e.onMouseDown(t)}),!1),t.addEventListener("mousemove",(function(t){return e.onMouseMoveThrottled(t)}),!1)}},{key:"setupOrbAnimation",value:function(){var e=(new s.dpR).load(te);e.magFilter=s.TyD,e.minFilter=s.TyD,this.textureAnimator=new u.GE(e);var t=new s.vBJ({map:e,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:this.props.toggleAbout}}),n=new s.Kj0(W,t);n.position.set(2.25,-4.3,1),n.name="advanced",V.magFilter=s.TyD,V.minFilter=s.TyD;var i=new s.vBJ({map:V,transparent:!0,opacity:.5,userData:{animationDelay:900,animationDuration:300}}),r=new s.Kj0(G,i);r.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(r),this.scene.add(r),this.planes.push(n),this.scene.add(n)}},{key:"getToolTip",value:function(e,t){var n=(0,u.TE)().menu,i=t===o.oo.Playing,r=t===o.oo.Paused;return{disc:function(){return a.createElement("p",null,n.disc)},settings:function(){return a.createElement("p",null,n.settings)},hide:function(){return a.createElement("p",null,n.hide)},rewind:function(){return a.createElement("p",null,n.skipBackwards)},fastforward:function(){return a.createElement("p",null,n.skipForwards)},play:function(){var e=a.createElement("p",null,n.play," / ",n.pause);return i?e=a.createElement("p",null,a.createElement("strong",null,n.play)," / ",n.pause):r&&(e=a.createElement("p",null,n.play," / ",a.createElement("strong",null,n.pause))),e},repeat:function(){var t=a.createElement("p",null,n.repeat,": ",n.repeatOne," / ",n.repeatAll," /"," ",a.createElement("strong",null,n.repeatOff));return e===o.ks.Single?t=a.createElement("p",null,n.repeat,": ",a.createElement("strong",null,n.repeatOne)," /"," ",n.repeatAll," / ",n.repeatOff):e===o.ks.All&&(t=a.createElement("p",null,n.repeat,": ",n.repeatOne," /"," ",a.createElement("strong",null,n.repeatAll)," / ",n.repeatOff)),t},stop:function(){return a.createElement("p",null,n.stop)},advanced:function(){return a.createElement("p",null,n.advanced)}}[this.state.activeButton]()}},{key:"orbitButton",value:function(){var e=this.orbits,t=e.pink,n=e.purple;this.props.isUiHidden?(t.material.visible=!1,n.material.visible=!1):(t.material.visible=!0,n.material.visible=!0,t.rotateY(-.065),n.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.planes);if(e.length>0){var t=e[0].object.material.name;t&&t!==this.state.activeButton&&this.setState({activeButton:t}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var e=this;return this.props.isUiHidden?this.showIfHidden():(this.hideEffect.currentTime=0,this.hideEffect.play(),setTimeout((function(){e.planes.forEach((function(e){var t=e.position,n=t.x,i=t.y,r=t.z;ee(e,new s.Pa4(n,i-10,r))})),e.shadowPlanes.forEach((function(e){e.visible=!1})),e.props.hideDash()}),450),setTimeout((function(){return e.setState({allowToggle:!0})}),1400))}},{key:"animate",value:function(){w.update(),this.orbitButton();var e=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*e),window.requestAnimationFrame(this.animate)}},{key:"showIfHidden",value:function(){var e=this;this.state.allowToggle&&this.props.isUiHidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.showEffect.currentTime=0,this.showEffect.play(),this.planes.forEach((function(e){var t=e.position,n=t.x,i=t.y,r=t.z;ee(e,new s.Pa4(n,i+10,r))})),setTimeout((function(){e.shadowPlanes.forEach((function(e){e.visible=!0}))}),1e3))}},{key:"placeInScene",value:function(e){var t=e.name,n=void 0===t?"":t,i=e.position,r=e.onClick,a=e.mapSrc,o=e.animationDelay,u=e.animationDuration,l=e.showShadow,c=le(i,3),p=c[0],h=c[1],f=c[2],d=(new s.dpR).load(a);d.magFilter=s.TyD,d.minFilter=s.TyD;var m=new s.vBJ({map:d,transparent:!0,name:n,userData:{onClick:r,animationDelay:o,animationDuration:u}}),y=new s.Kj0(W,m);if(y.position.set(p,h,f),y.name=n,l){V.magFilter=s.TyD,V.minFilter=s.TyD;var v=new s.vBJ({map:V,transparent:!0,opacity:.5,name:n,userData:{animationDelay:o,animationDuration:u}}),b=new s.Kj0(G,v);b.position.set(p,h-1.025,f-.5),this.shadowPlanes.push(b),this.scene.add(b)}this.planes.push(y),this.scene.add(y)}},{key:"placeOrbitsInScene",value:function(){var e=new s.Kj0(Y,X),t=new s.Kj0(Y,Q);e.position.set(0,-2.15,2),e.rotateX(.35),e.rotateZ(-.8),t.position.set(0,-2.15,2.03),t.rotateZ(.8),t.rotateX(.25),t.rotateY(1),this.orbits={pink:e,purple:t},this.scene.add(e,t)}},{key:"createMenuElements",value:function(){var e=this,t=function(e,t,n){return[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(n(!0),500)},animationDuration:400,animationDelay:220,mapSrc:I,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:B,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:t,animationDelay:180,animationDuration:400,mapSrc:F,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:e.previousTrack,animationDelay:500,animationDuration:350,mapSrc:L,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:e.togglePlayPause,animationDelay:300,animationDuration:350,mapSrc:U,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:e.loadNextTrack,animationDelay:280,animationDuration:350,mapSrc:H},{name:"repeat",position:[-2.25,-4.3,1],onClick:e.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:Z,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:e.stop,animationDelay:700,animationDuration:300,mapSrc:_,showShadow:!0}]}(o.jt,this.hideMenu,this.props.toggleMenu);t.forEach((function(t){return e.placeInScene(t)})),this.menuElements=t.reduce((function(e,t){var n=t.name,i=t.position;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(ue({},n,{onClick:t.onClick,position:i}),e)}),{}),this.menuElements.advanced={onClick:this.props.toggleAbout,position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"playHighlight",value:function(){void 0!==window.orientation||this.state.introActive||"running"===o.jt.analyser.audioContext.state&&(this.highlightEffect.currentTime=0,this.highlightEffect.play())}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(t){e.mount=t}}),a.createElement("div",{className:"tooltips",key:this.state.activeButton},this.getToolTip(this.props.repeat,this.props.audioStatus)))}}],n&&pe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);ye.propTypes={toggleMenu:v().func.isRequired,hideDash:v().func.isRequired,isUiHidden:v().bool.isRequired,showIfHidden:v().func.isRequired};const ve=ye;var be,we,ge,Ee=n(2678),Se=n(3297),ke=function(e){return a.createElement(Se.u,{header:"about"},a.createElement(je,null,a.createElement("p",null,a.createElement("em",null,"Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.")),a.createElement("ul",null,a.createElement(Oe,{href:"mailto:mcamis@gmail.com"},"mcamis@gmail.com"),a.createElement(Oe,{href:"https://twitter.com/vmu_beep"},"https://twitter.com/vmu_beep"),a.createElement(Oe,{href:"https://adam.mcamis.lol"},"https://adam.mcamis.lol"),a.createElement(Oe,{href:"https://github.com/mcamis/saturn.fm"},"https://github.com/mcamis/saturn.fm"))),a.createElement("button",{className:"close",type:"button",onClick:e.toggleAbout},"Exit"))},Oe=function(e){return a.createElement("li",null,a.createElement("a",{href:e.href},e.children))},je=Ee.ZP.div(be||(we=["\n  font-size: 16px !important;\n  text-align: left;\n  padding: 1em;\n  line-height: 22px;\n\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n  background-color: rgba(131, 23, 71, 0.65);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n  em {\n    margin: 0.5em;\n    padding: 1em 1em 1em 2em;\n    display: inline-block;\n    border-left: 2px solid white;\n  }\n  a {\n    text-decoration: none;\n    color: #f2f2f2;\n    margin-left: 0.5em;\n  }\n  ul {\n    margin-top: 2em;\n  }\n  ul li {\n    list-style-type: none;\n    margin-bottom: 15px;\n  }\n"],ge||(ge=we.slice(0)),be=Object.freeze(Object.defineProperties(we,{raw:{value:Object.freeze(ge)}}))));ke.propTypes={toggleAbout:v().func.isRequired};const xe=ke;var Pe=["audioElement","currentTrackIndex"];function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Te=(0,r.Z)("header")({name:"Wrapper",class:"wwue83p"});const Ae=function(){var e,t,n,i,r,s=(i=(0,a.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(i,r)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1],p=(0,o.AE)(),h=p.audioElement,f=p.currentTrackIndex;return function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}}(p,Pe),e=function(){c(h.currentTime)},t=1e3,n=(0,a.useRef)(),(0,a.useEffect)((function(){n.current=e})),(0,a.useEffect)((function(){var e=setInterval((function(){null==n||n.current()}),t);return function(){return clearInterval(e)}}),[t]),a.createElement(Te,null,a.createElement("h3",null,"Track"),a.createElement("p",{className:"track-number"},f+1),a.createElement("h3",null,"Time"),a.createElement("p",null,(0,u.mr)(l)))};n(7690);const Ce=n.p+"songs/intro.mp3";function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Me=a.lazy((function(){return Promise.all([n.e(770),n.e(404)]).then(n.bind(n,8404))})),Ie=(0,r.Z)("div")({name:"AppWrapper",class:"ah5cq53"});const Be=function(){var e=Re(a.useState(!1),2),t=e[0],n=e[1];a.useEffect((function(){var e=new Audio;e.src=Ce,e.play(),n(!0)}),[]);var r=(0,o.AE)(),s=r.repeat,u=r.audioStatus,l=u===o.oo.Paused,c=u===o.oo.Playing,p=Re(a.useState(!1),2),h=p[0],f=p[1],d=Re(a.useState(!1),2),y=d[0],v=d[1],b=Re(a.useState(!1),2),w=b[0],g=b[1];return a.createElement(Ie,{className:(0,i.Z)(t&&"hasLoaded")},a.createElement(Ae,null),a.createElement(ve,{isUiHidden:w,showIfHidden:function(){return w&&g(!1)},toggleMenu:f,toggleAbout:function(){return v(!0)},hideDash:function(){return g(!0)},repeat:s,audioStatus:u}),a.createElement("div",{className:"dashboard"}),a.createElement(M,{audioStatus:u,isUiHidden:w,isPaused:l,isPlaying:c}),h&&a.createElement(a.Suspense,{fallback:null},a.createElement(Me,{addTracks:function(){},removeTrack:function(){},toggleMenu:function(){return f(!1)}})),y&&a.createElement(xe,{toggleAbout:function(){return v(!1)}}),a.createElement(m,{isUiHidden:!1}))};n(644)},2363:(e,t,n)=>{n.d(t,{$4:()=>o,Cv:()=>l,GE:()=>f,P2:()=>p,Q4:()=>c,TE:()=>d,ht:()=>u,lI:()=>h,mr:()=>s});var i=n(9477),r=n(7703),a=["ja-JP","ja"],o=function(){var e=window.innerWidth,t=1.3333*window.innerHeight;return t>e?(document.documentElement.style.setProperty("--scene-width","".concat(e,"px")),e):(document.documentElement.style.setProperty("--scene-width","".concat(t,"px")),t)},s=function(e){var t=Math.trunc(e/60).toString().padStart(2,"0"),n=Math.trunc(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},u=function(){return 2*Math.random()+1},l=function(e){return Math.random()*e-.5*e},c=function(e){var t=Math.log(1),n=(Math.log(142)-t)/100;return Math.exp(t+n*(e-0))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;return function(i){var r=new Date;r-n>=t&&(e(i),n=r)}};function h(e,t){new r.Tween(e.scale).to({x:1.5,y:1.5,z:1.5},100).easing(r.Easing.Quadratic.Out).start(),setTimeout((function(){new r.Tween(e.scale).to({x:1,y:1,z:1},100).easing(r.Easing.Quadratic.In).start()}),250),t()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:23,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:19;e.wrapS=i.rpg,e.wrapT=i.rpg,e.repeat.set(1/t,1/r);var a=0,o=0,s=419;this.update=function(i){for(a+=i;a>n;){a-=n,(o+=1)>s&&(o=0);var u=o%t,l=Math.floor(o/t);e.offset.y=1-l/r-1/r,e.offset.x=u/t}}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.language;return a.includes(e)?{intro:{},menu:{disc:"プレイリスト",settings:"ユーザー設定",hide:"パネル消去",skipBackwards:"曲戻し",skipForwards:"曲送り",play:"再生",pause:"一時停止",repeat:"リピート",repeatOne:"1曲",repeatAll:"全曲",repeatOff:"解除",stop:"停  止",advanced:"機能切り替え",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}:{menu:{disc:"Edit Playlist",settings:"Coming Soon",hide:"Hide",skipBackwards:"Skip Backwards",skipForwards:"Skip Forwards",play:"Play",pause:"Pause",repeat:"Repeat",repeatOne:"1",repeatAll:"All",repeatOff:"Off",stop:"Stop",advanced:"About",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}}},7690:(e,t,n)=>{n.r(t)},5422:(e,t,n)=>{n.r(t)},4596:(e,t,n)=>{n.r(t)},644:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=777.db65a8a6b4d9c7a3b6b3.js.map